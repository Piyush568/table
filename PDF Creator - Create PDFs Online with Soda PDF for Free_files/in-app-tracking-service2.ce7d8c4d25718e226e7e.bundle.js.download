webpackJsonp_name_([23,9],{"3IRH":function(e,t,n){e.exports=n("JTc2")("3IRH")},xKnL:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.module=void 0;var i=o(n("/jXN"));n("v1Sv");var a=o(n("C3UN")),r=o(n("VmtT"));function o(e){return e&&e.__esModule?e:{default:e}}n("vbhk");var u="in-app-tracking-service",s=i.default.module("in-app-tracking-module",["app-stats-service-module"]);function c(e,t,n,i,o,u,s){var c=0,l=function(e,t){return isUndefinedOrNull(e)?"not-a-date-time":e.getFullYear()+(isUndefinedOrNull(t)?"-":"")+("0"+(e.getMonth()+1)).slice(-2)+(isUndefinedOrNull(t)?"-":"")+("0"+e.getDate()).slice(-2)+"T"+("0"+e.getHours()).slice(-2)+(isUndefinedOrNull(t)?":":"")+("0"+e.getMinutes()).slice(-2)+(isUndefinedOrNull(t)?":":"")+("0"+e.getSeconds()).slice(-2)},d=function(e){return!0===e?"1":!1===e?"0":e.toString?e.toString():null},f=0,p=1,v=function(e,t,n){var i=this;i.action=e,i.storage=t,i.docID=n,i.eventTime=new Date,i.serialize=function(e,t){var n=t.createElement(f===i.action?"open":"save");n&&(e.appendChild(n),n.setAttribute("eventTime",l(i.eventTime)),n.setAttribute("storage",i.storage),n.setAttribute("docID",i.docID))}},m=function(e,t,n,i){var r=this;r.actionType=e,r.serviceName=t,r.userName=n,r.success=i,r.eventTime=new Date;r.serialize=function(e,t){var n=function(e){switch(e){case a.default.InAppTrackingOnlineServiceAction.kIAT_OS_LogIn:return"login";case a.default.InAppTrackingOnlineServiceAction.kIAT_OS_LogOut:return"logout";case a.default.InAppTrackingOnlineServiceAction.kIAT_OS_SignUp:return"signup"}return""}(r.actionType);if(n){var i=t.createElement(n);i&&(e.appendChild(i),i.setAttribute("serviceName",r.serviceName),i.setAttribute("userName",r.userName),i.setAttribute("eventTime",l(r.eventTime)),i.setAttribute("success",r.success?"true":"false"))}}},g=function(e){var t=this,n=function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}();t.dialogName=e,t.openTime=new Date,t.closeTime=null,t.attributes={},t.get=function(){return n},t.serialize=function(e,n){var i=n.createElement(t.dialogName);if(i){for(var a in e.appendChild(i),i.setAttribute("openTime",l(t.openTime)),t.attributes)t.attributes.hasOwnProperty(a)&&i.setAttribute(a,t.attributes[a]);i.setAttribute("closeTime",l(t.closeTime))}}},A=function(){var e=this,n=o.appName,i=n+="MDI"===r.default.General.DocInterface?" MDI":" SDI",a=new Date,u=null,s=null,c=null,d=[],A=[],h=[],b=null,D=[],T=[],S={},w=[],O="";e.onSetupWizardStart=function(){s=new function(){var e=this;e.openTime=new Date,e.closeTime=null,e.dialogResult="",e.showAgain=!1,e.pages=[],e.serialize=function(t,n){t.setAttribute("openTime",l(e.openTime)),t.setAttribute("closeTime",l(e.closeTime)),t.setAttribute("dialogResult",e.dialogResult),t.setAttribute("showAgain",e.showAgain?"true":"false"),e.pages.forEach(function(e,i,a){var r=n.createElement("page");if(r)for(var o in t.appendChild(r),r.setAttribute("name",e.name),e.attrs)e.attrs.hasOwnProperty(o)&&r.setAttribute(o,e.attrs[o])})}}},e.onSetupWizardPage=function(e){if(s&&e){var t=new function(e){this.name=e,this.attrs={}}(e);s.pages.push(t)}},e.onSetupWizardPageAttr=function(e,t){if(s&&e&&s.pages.length>0){var n=s.pages[s.pages.length-1];n&&(n.attrs[e]=t)}},e.onSetupWizardDone=function(e,t){s&&(s.closeTime=new Date,s.dialogResult=e,s.showAgain=t)},e.onUMAction=function(e,t){if(isUndefinedOrNull(t)&&(t={}),w.length>0){var n=w[w.length-1];if(n.actionName===e)if(Math.abs(new Date-n.eventTime)<500)return}var i=new function(e){var t=this;t.actionName=e,t.eventTime=new Date,t.attrs={},t.serialize=function(e,n){var i=n.createElement("umAction");if(i)for(var a in e.appendChild(i),i.setAttribute("name",t.actionName),i.setAttribute("eventTime",l(t.eventTime)),t.attrs)t.attrs.hasOwnProperty(a)&&i.setAttribute(a,t.attrs[a])}}(e);i.attrs=t,w.push(i)},e.onAppMakeDefault=function(e,t){c=new function(e,t){var n=this;n.m_EventTime=new Date,n.m_ShowMakeDefaultDialog=e,n.m_MakeDefault=t,n.serialize=function(e){e.setAttribute("eventTime",l(n.m_EventTime)),e.setAttribute("makeDefault",n.m_MakeDefault?"true":"false"),e.setAttribute("checkAssociation",n.m_ShowMakeDefaultDialog?"true":"false")}}(e,t)},e.onDocumentOpened=function(e,t){d.push(new v(f,e,t))},e.onDocumentSaved=function(e,t){d.push(new v(p,e,t))},e.onOptionChanged=function(e,t,n){A.push(new function(e,t,n){var i=this;i.optionName=e,i.optionValueOld=t,i.optionValueNew=n,i.eventTime=new Date,i.serialize=function(e,t){var n=t.createElement("item");n&&(e.appendChild(n),n.setAttribute("eventTime",l(i.eventTime)),n.setAttribute("name",i.optionName),n.setAttribute("from",i.optionValueOld),n.setAttribute("to",i.optionValueNew))}}(e,t,n))},e.onOnlineServiceAction=function(e,t,n,i){h.push(new m(e,t,n,i))},e.closeCurrentFeature=function(){b&&(b.closeTime=new Date,D.push(b),b=null)},e.onFeatureUsing=function(t,n,i,a){if(t){isUndefinedOrNull(i)&&(i=0);var r="",o="",u=t.indexOf(".");if(u>=0?(r=t.substring(0,u),o=t.substring(u+1)):r=t,b&&b.featureCategory!==r&&e.closeCurrentFeature(),b||(b=new function(e){var t=this;t.featureCategory=e,t.openTime=new Date,t.closeTime=null,t.features=[],t.serialize=function(e,n){var i=n.createElement("category");i&&(e.appendChild(i),i.setAttribute("name",t.featureCategory),i.setAttribute("openTime",l(t.openTime)),i.setAttribute("closeTime",l(t.closeTime)),t.features.forEach(function(e,t,a){e.serialize(i,n)}))}}(r)),o){var s=!1;if(b.features.length>0){var c=b.features[b.features.length-1];if(c.initiatorTag===n&&c.name===o)Math.abs(new Date-c.eventTime)<500&&(s=!0)}s||b.features.push(new function(e,t,n,i){var a=this;a.name=e,a.eventTime=new Date,a.initiatorTag=t,a.docID=n,a.attributes=isUndefinedOrNull(i)?{}:i,a.serialize=function(e,t){var n=t.createElement("feature");if(n){for(var i in e.appendChild(n),n.setAttribute("name",a.name),n.setAttribute("eventTime",l(a.eventTime)),a.attributes)a.attributes.hasOwnProperty(i)&&n.setAttribute(i,a.attributes[i]);a.docID&&n.setAttribute("docID",a.docID)}}}(o,n,i,a))}}},e.onClick=function(e,t){T.push(new function(e,t){var n=this;n.target=e,n.details=t,n.eventTime=new Date,n.serialize=function(e,t){var i=t.createElement("click");i&&(e.appendChild(i),i.setAttribute("eventTime",l(n.eventTime)),i.setAttribute("name",n.target),n.details&&i.setAttribute("details",n.details))}}(e,t||""))},e.onActivationDialogOpen=function(e){var t=new g(e),n=t.get();return S[n]=t,n},e.onActivationDialogAttribute=function(e,t,n){if(t&&S.hasOwnProperty(e)){var i=S[e];i&&(i.attributes[t]=n||"")}},e.onActivationDialogClose=function(e){if(S.hasOwnProperty(e)){var t=S[e];t&&(t.closeTime=new Date),w.push(t),delete S[e]}},e.onActivationAction=function(e,t){var n=new function(e,t){var n=this;n.actionName=e,n.targetModule=t,n.eventTime=new Date,n.serialize=function(e,t){var i=t.createElement(n.actionName);i&&(e.appendChild(i),i.setAttribute("eventTime",l(n.eventTime)),n.targetModule&&i.setAttribute("module",n.targetModule))}}(e,t||"");w.push(n)},e.closeCurrentActivationDialogs=function(){for(var e in S)if(S.hasOwnProperty(e)){var t=S[e];t&&(t.closeTime=new Date),w.push(t)}S={}},e.onActivatedModule=function(e,t){var n=new Date,i='<module name="'+e+'" eventTime="'+l(n)+'" '+(t||"")+" />";O+=i},e.onActivatedPackage=function(e){var t=new Date,n='<package name="'+e+'" eventTime="'+l(t)+'" />';O+=n},e.getActivatedModulesStats=function(){return O},e.buildXml=function(){try{u=new Date;var e=document.implementation.createDocument(null,null,null),n=e.createElement("application");if(n){e.appendChild(n),n.setAttribute("name",i),n.setAttribute("openTime",l(a)),n.setAttribute("closeTime",l(u));var r=t.use();r&&n.setAttribute("language",r);var o=GLOBAL_RELEASE_VERSION;if(o&&n.setAttribute("build",o),s){var f=e.createElement("setupWizard");f&&(n.appendChild(f),s.serialize(f,e))}if(c){var p=e.createElement("association");p&&(n.appendChild(p),c.serialize(p))}if(D.length>0){var v=e.createElement("itemsUsage");v&&(n.appendChild(v),D.forEach(function(t,n,i){t.serialize(v,e)}))}if(w.length>0){var m=e.createElement("activation");m&&(n.appendChild(m),w.forEach(function(t,n,i){t.serialize(m,e)}))}if(T.length>0){var g=e.createElement("clicks");g&&(n.appendChild(g),T.forEach(function(t,n,i){t.serialize(g,e)}))}if(h.length>0){var b=e.createElement("onlineServises");b&&(n.appendChild(b),h.forEach(function(t,n,i){t.serialize(b,e)}))}if(d.length>0){var S=e.createElement("storage");S&&(n.appendChild(S),d.forEach(function(t,n,i){t.serialize(S,e)}))}if(A.length>0){var O=e.createElement("options");O&&(n.appendChild(O),A.forEach(function(t,n,i){t.serialize(O,e)}))}}return(new XMLSerializer).serializeToString(e)}catch(e){return""}},e.commit=function(){e.closeCurrentFeature(),e.closeCurrentActivationDialogs()}},h=null;return r.default.General.SendUserStatistics&&(h=new function(e){var t=this,i=null,a=e,o=!1,l=function(e){var t=u.get(e);return t||(t={}),t},f=function(e,t){u.set(e,t)},p=function(){if(i){var e=l("statistic");for(isArray(e.ids)||(e.ids=[]);e.ids.length>3;){var t=e.ids.shift();t&&delete e[t]}var n="pid"+c+"_statistic";e[n]={application:i.buildXml(),activatedModules:i.getActivatedModulesStats()};var a=e.ids.indexOf(n);a>=0&&e.ids.splice(a,1),e.ids.push(n),f("statistic",e)}},v=function(){var e=function(e,t,n){return function(e,t){return s.sendStatistic(e,t)}(t,n).then(function(){var t=l("statistic");if(delete t[e],isArray(t.ids)){var n=t.ids.indexOf(e);n>=0&&t.ids.splice(n,1)}f("statistic",t)}).catch(function(e){})},t=n.defer();try{var i=l("statistic"),a=[];for(var r in i)if(i.hasOwnProperty(r)&&r.indexOf("pid")>=0){var o=i[r].application,u=i[r].activatedModules,c=r;a.push(e(c,o,u))}n.all(a).then(function(e){t.resolve(e)}).catch(function(e){t.reject(e)})}catch(e){t.reject(e)}return t.promise};t.sendStatisticImmediately=function(){t.onAppDone(),t.onAppStart()},t.onAppStart=function(){r.default.General.SendUserStatistics&&(o||(o=!0,v().finally(function(){o=!1}))),i||(c=Math.floor(9e5*Math.random())+1e5,i=new A)},t.onAppDone=function(){i&&(i.commit(),a&&p(),i=null)},t.onDocumentOpened=function(e,t){i&&t&&(i.onDocumentOpened(e,t),a&&p())},t.onDocumentSaved=function(e,t){i&&t&&(i.onDocumentSaved(e,t),a&&p())},t.onOptionChanged=function(e,t,n){if(i&&e&&!isUndefinedOrNull(t)&&!isUndefinedOrNull(n)){var r=d(t),o=d(n);isUndefinedOrNull(r)||isUndefinedOrNull(o)||(i.onOptionChanged(e,r,o),a&&p())}},t.onOnlineServiceAction=function(e,t,n,r){i&&t&&(i.onOnlineServiceAction(e,t,n||"",r),a&&p())},t.onFeatureUsing=function(e,t,n,r){i&&e&&(i.onFeatureUsing(e,t,n,r),a&&p())},t.onClick=function(e,t){i&&e&&(i.onClick(e,t),a&&p())},t.onSetupWizardStart=function(){i&&i.onSetupWizardStart()},t.onSetupWizardPage=function(e){i&&e&&i.onSetupWizardPage(e)},t.onSetupWizardPageAttr=function(e,t){i&&!isUndefinedOrNull(e)&&i.onSetupWizardPageAttr(e,t||"")},t.onSetupWizardDone=function(e,t){i&&!isUndefinedOrNull(e)&&(i.onSetupWizardDone(e,t),a&&p())},t.onUMAction=function(e,t){i&&e&&(i.onUMAction(e,t),a&&p())},t.test=function(){var e=i.onActivationDialogOpen("dialogAdvModuleConvert");i.onActivationDialogAttribute(e,"activate","no"),i.onActivationDialogAttribute(e,"try","yes"),i.onActivationDialogClose(e);var t=i.onActivationDialogOpen("dialogActivation");i.onActivationDialogAttribute(t,"activateResult","license invalid"),i.onActivationDialogAttribute(t,"key","asdasdasdasdasdasdasdassd"),i.onActivationDialogClose(t),i.onActivationAction("Forms.Create","Forms"),i.closeCurrentFeature(),i.onActivatedModule("Review",null),i.onActivatedPackage("StandardPackageFree"),i.onActivatedModule("Secure",null),i.onActivatedPackage("ProfessionalPlusPackage"),i.onAppMakeDefault(!0,!1),i.commit()}}(r.default.General.FlushUserStatistics),i(function(){h&&h.sendStatisticImmediately()},18e5)),{getInstance:function(){return h}}}t.module=s,s.service(u,c),c.$inject=["$rootScope","$translate","$q","$interval","GLOBAL","localStorageService","app-stats-service"],mainApp.service(u,getConstructor("in-app-tracking-module",u,"service"))}});