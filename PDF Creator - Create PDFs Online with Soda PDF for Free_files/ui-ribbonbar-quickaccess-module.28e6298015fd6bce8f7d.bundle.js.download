webpackJsonp_name_([11],{kMIH:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.module=void 0;var r=o(n("HSQo")),a=o(n("Xxa5")),u=o(n("exGp")),c=o(n("7t+N"));function o(e){return e&&e.__esModule?e:{default:e}}var i="ui-quick-access-module",s="ui-quick-access-factory",f=angular.module(i,[]);function d(e,t,n,r,c,o,i,s){var f=s.ondemand.getInAppTrackingFactory,d=s.getPdfManagerFactory();e.authenticationService=i,e.factory=c,e.cmd=function(){var t=(0,u.default)(a.default.mark(function t(c,i){var s,l,p=this;return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if((s=document.getElementById("acceptCookiesPolicy"))&&n(function(){angular.element(s).triggerHandler("click")}),l=function(e){return!1===e&&i&&(i.stopPropagation&&i.stopPropagation(),i.preventDefault?i.preventDefault():i.returnValue=!1),e},!0!==c.disabled){t.next=5;break}return t.abrupt("return",l(!1));case 5:if(!c.requiredFeature||o.isFeaturePermitted(c.requiredFeature,!0)){t.next=7;break}return t.abrupt("return",l(!1));case 7:if(f().then(function(){var e=(0,u.default)(a.default.mark(function e(t){var n,r;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=6;break}return n=t.getInstance(),e.next=4,d;case 4:r=e.sent,n&&n.onFeatureUsing(isArray(c.requiredFeature)?c.requiredFeature[0]:c.requiredFeature,c.id?c.id:window.HashCode.value(c),r.currentDocumentId);case 6:case"end":return e.stop()}},e,p)}));return function(t){return e.apply(this,arguments)}}()),window.isUndefinedOrNull(c.sref)){t.next=14;break}return t.next=11,d;case 11:return t.sent,r.transitionTo(c.sref,{}),t.abrupt("return",l(!1));case 14:if("link"!==c.type){t.next=17;break}return window.open(c.href,"_blank"),t.abrupt("return");case 17:return t.abrupt("return",l(e.factory.cmd&&e.factory.cmd("event-"+c.id,c)||!1));case 18:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}(),t.$on("event-ui-esign[show]",function(t,n){e.factory.isShow=!1}),t.$on("event-ui-esign[hide]",function(t,n){e.factory.isShow=!0}),t.$on("event-mousedown",function(t,n){e.factory.isShow=!1}),t.$on("event-mouseup",function(t,n){e.factory.isShow=!0})}function l(e,t,o,i,f,d){var l=this,p={},b=!0,h=f.execFuncWithTimeoutAsync,v=f.getPdfManagerFactory(),k=void 0,m=[],w=function(){var e=(0,u.default)(a.default.mark(function e(){var t,n;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h(x,50);case 2:return t=e.sent,e.next=5,h(y,50).catch(function(e){console.log("_getRibbonBarQuickAccessTemplateAsync: ",e)});case 5:(n=e.sent)&&t&&(p.buttons=t,angular.element(document.body).injector().invoke(["$compile","$rootScope",function(e,t){var r=(0,c.default)("#ribbon-quick-access"),a=angular.element(r.html(n)).scope();if(a){e(r)(a||t);a.$$phase||a.$digest(),f.itemLazyLoader.makeReady(s)}}]));case 7:case"end":return e.stop()}},e,l)}));return function(){return e.apply(this,arguments)}}(),y=function(){var e=(0,u.default)(a.default.mark(function e(){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.e(186).then(n.bind(null,"w+ET"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,l)}));return function(){return e.apply(this,arguments)}}(),x=function(){var e=(0,u.default)(a.default.mark(function e(){var t;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.e(202).then(n.bind(null,"/yEt"));case 2:return t=e.sent,e.abrupt("return",t.default);case 4:case"end":return e.stop()}},e,l)}));return function(){return e.apply(this,arguments)}}(),g=function(){var e=(0,u.default)(a.default.mark(function e(t,n,r){var u;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:if(k){e.next=6;break}return e.next=5,v;case 5:k=e.sent;case 6:if(k){e.next=8;break}return e.abrupt("return");case 8:u=void 0,e.t0=t.id,e.next="download"===e.t0?12:"print"===e.t0?12:"undo"===e.t0?14:"redo"===e.t0?19:24;break;case 12:return t.disabled=n,e.abrupt("break",24);case 14:return e.next=16,k.isHasUndoByDocumentId(r);case 16:return u=e.sent,t.disabled=n||!u,e.abrupt("break",24);case 19:return e.next=21,k.isHasRedoByDocumentId(r);case 21:return u=e.sent,t.disabled=n||!u,e.abrupt("break",24);case 24:case"end":return e.stop()}},e,l)}));return function(t,n,r){return e.apply(this,arguments)}}(),$=function(){var e=(0,u.default)(a.default.mark(function e(t){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:d.getDocumentView(t.id,function(e){var n=e.getDocument(),r=!0;n&&!0===n.isLoaded&&!1===n.isLocked&&(r=!1),i(function(){angular.forEach(p.buttons,function(e,n){g(e,r,t.id)})})});case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=(0,u.default)(a.default.mark(function e(t,n,r){var u;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(u=p.buttons.first(function(e){return e.id===t})){e.next=3;break}return e.abrupt("return");case 3:u.disabled=n,u.modes=r;case 5:case"end":return e.stop()}},e,this)}));return function(t,n,r){return e.apply(this,arguments)}}(),D=function(){var e=(0,u.default)(a.default.mark(function e(t,n,r){var u,c,o;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(window.isArray(t)){e.next=2;break}return e.abrupt("return");case 2:u=0;case 3:if(!(u<t.length)){e.next=12;break}if(c=t[u]){e.next=7;break}return e.abrupt("continue",9);case 7:o=r?r[c]:null,q(c,n,o);case 9:u++,e.next=3;break;case 12:case"end":return e.stop()}},e,this)}));return function(t,n,r){return e.apply(this,arguments)}}();return Object.defineProperty(p,"buttons",{get:function(){return m},set:function(e){m=e}}),Object.defineProperty(p,"isShow",{get:function(){return b},set:function(e){b=e}}),(0,r.default)(p,{disabled:{get:function(){var e=d.getCurrentDocumentView();return!e||!e.hasDocumentMode}}}),p.init=function(){var e=(0,u.default)(a.default.mark(function e(t){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w();case 2:p.cmd=t;case 3:case"end":return e.stop()}},e,l)}));return function(t){return e.apply(this,arguments)}}(),p.disableEnableUndoRedoButtons=$,p.disableEnableButton=q,p.disableEnableButtons=D,p.checkDefaultDisabledQuickAccessButtonsMap=function(e){i(function(){angular.forEach(p.buttons,function(t,n){switch(t.id){case"download":case"print":case"undo":case"redo":t.disabled=e}})})},p}t.module=f,f.controller("ui-quick-access-controller",d),d.$inject=["$scope","$rootScope","$timeout","$state",s,"pdf-feature-factory","authentication-service","ui-helper-factory"],f.factory(s,l),l.$inject=["$q","$http","GLOBAL","$timeout","ui-helper-factory","ui-viewer-factory"],window.mainApp.controller("ui-quick-access-controller",getConstructor(i,"ui-quick-access-controller","controller")),window.mainApp.factory(s,getConstructor(i,s,"factory"))}});