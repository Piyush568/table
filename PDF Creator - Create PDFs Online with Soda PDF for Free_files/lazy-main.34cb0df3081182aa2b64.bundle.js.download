webpackJsonp_name_([44,59,64,149,175,184,247,248,274,275,276,277,280],{"/UwL":function(e,t,n){"use strict";var r=c(n("OvRC")),o=c(n("b8L+")),i=c(n("C3UN")),a=c(n("VmtT")),l=c(n("IZAc")),u=c(n("3Ejq"));c(n("kHBY"));function c(e){return e&&e.__esModule?e:{default:e}}n("JARy"),n("Ij0n"),n("UF/7");var s="bl-text-edit-textfield-view-factory-module",d="bl-text-edit-textfield-view-factory";function f(e,t,n,c,s,d,f){var p={},g=function(p,g){var h=p,m=g,v=!1,y=l.default.createInstance("#FF000000"),b=[2],x=this;function S(e){if("\r"==e)e="\n";else if(e<" ")return null;return e}this.getModel=function(){return m},this.getPageIndex=function(){return m.getPageIndex()},this.getRect=function(){return m.getRect()},this.hitTest=function(e,t){return this.getPageIndex()==e&&this.getRect().containsPoint(t)},this.mouseDown=function(e,t){var n=B(e);return!!m.getRect().containsPoint(n)&&(v=!0,t&i.default.BLInputEventFlags.kBLInputEventFlagShiftPressed?m.setCaretAtPoint(n):m.setSelAtPoint(n),h.invalidate(),!0)},this.mouseUp=function(e,t){return v&&(v=!1),!1},this.mouseMove=function(e,t){var n=B(e);return v?(m.setCaretAtPoint(n),h.setCursor(i.default.BLCursorType.kBLCursorIBeam),h.invalidate(),!0):!!m.getRect().containsPoint(n)&&(h.setCursor(i.default.BLCursorType.kBLCursorIBeam),!0)},this.mouseWheel=function(e,t){return!1},this.keyDown=function(e,t){var n=L(t,i.default.BLInputEventFlags.kBLInputEventFlagShiftPressed),r=L(t,i.default.BLInputEventFlags.kBLInputEventFlagCtrlPressed);switch(e){case i.default.kBLKey.kBLKey_LEFT:m.goLeft(n);break;case i.default.kBLKey.kBLKey_RIGHT:m.goRight(n);break;case i.default.kBLKey.kBLKey_UP:m.goUp(n);break;case i.default.kBLKey.kBLKey_DOWN:m.goDown(n);break;case i.default.kBLKey.kBLKey_HOME:r?m.goToFirst(n):m.goToHome(n);break;case i.default.kBLKey.kBLKey_END:r?m.goToLast(n):m.goToEnd(n);break;case i.default.kBLKey.kBLKey_BACK:m.onModify()&&m.delete(!0);break;case i.default.kBLKey.kBLKey_DELETE:m.onModify()&&m.delete(!1);break;case i.default.kBLKey.kBLKey_A:r&&m.selectAll();break;case i.default.kBLKey.kBLKey_C:r&&this.copy()}return h.invalidate(),!0},this.keyUp=function(e,t){return!0},this.charReceived=function(e){var t=S(e);return!isUndefinedOrNull(t)&&(m.onModify()&&(m.keyStroke(t),h.invalidate()),!0)},this.doubleClick=function(e,t){var n=B(e);return!!m.getRect().containsPoint(n)&&(m.selectWord(n),h.invalidate(),!0)},this.cut=function(){this.copy(),this.delete()},this.copy=function(){if(m.hasSelection()){var e=m.getSelectedText();window.copyTextToClipboard(e)}},this.paste=function(){var e=f.data;if(e){for(var t="",n=0;n<e.length;n++){var r=S(e.charAt(n));isUndefinedOrNull(r)||(t+=r)}m.onModify()&&(m.keyStroke(t),h.invalidate())}},this.delete=function(){m.onModify()&&(m.delete(!1),h.invalidate())},this.hasSelection=function(){return m.hasSelection()},this.draw=function(e,t){if(e==m.getPageIndex()){var r=m.getRect();t.pushState();var i=n.getViewToPageMatrix(h,e);t.concatCTM(i);var a=h.getDocument().getPage(e).getCropBox();t.clipRect(o.default.rect(0,0,a.width,a.height));var l=m.getRotate();0!==l&&(t.translateCTM(r.left,r.top),t.rotateCTM(-l),t.translateCTM(-r.left,-r.top)),n.drawField(t,m),w(t),window.deviceDetect.isPhone()&&function(e,t){t&&s.drawFrame(e,o.default.quadFromRect(t),null,y,b)}(t,r),t.popState()}},this.canUndo=function(){return m.canUndo()},this.canRedo=function(){return m.canRedo()},this.undo=function(){m.undo(),h.invalidate()},this.redo=function(){m.redo(),h.invalidate()},this.finalize=function(t){void 0===t&&(t=!0),m.clearUndoRedoStack(),t?m.commitChanges().catch(function(e){m.cancelChanges()}):m.cancelChanges(),h.setSelection(null),T(),e.$emit("event:widget-textfield-view-create",null)},this.commitChanges=function(){return m.commitChanges()},this.refresh=function(){m.refresh(),P(0,0)};var P=function(e,r){h.invalidate();var a=m.getCharQuad(r),l=o.default.rect(a.top_left().x,a.top_left().y,a.bottom_left().x,a.bottom_left().y),u=m.getRect(),c=o.default.rotationMatrix(-m.getRotate(),u.left_top()),s=c.mapPoint(l.left_top()),f=c.mapPoint(l.right_bottom());s=n.getViewToPageMatrix(h,m.getPageIndex()).mapPoint(s),f=n.getViewToPageMatrix(h,m.getPageIndex()).mapPoint(f);var p={};p.pageIndex=x.getPageIndex(),p.top=s,p.bottom=f,h.onCaretPositionChanged(p),i.default.BLSelectionOperations.kBLSelectionAllowPaste,e!=r?(i.default.BLSelectionOperations.kBLSelectionAllowCopy,i.default.BLSelectionOperations.kBLSelectionAllowCut):(~i.default.BLSelectionOperations.kBLSelectionAllowCopy,~i.default.BLSelectionOperations.kBLSelectionAllowCut);var g=m.getCurrentFont(),v=d.getSelectedFont(h.getDocument());if(null!==g&&null!==v){k=!0;var y=!1;if(v.size.id!==g.size&&(v.size={id:g.size,text:g.size},y=!0),v.descriptor.value.family!==g.originalFamily||v.descriptor.value.format!==g.format){var b=d.getRibbonBarFontCollection(h.getDocument());if(b){var S=b.document.first(function(e){return e.value.family===g.originalFamily&&e.value.format===g.format});S||(S=b.system.first(function(e){return e.value.family===g.originalFamily&&e.value.format===g.format})),S&&(v.descriptor=S,y=!0)}}v.isBold!==g.isBold()&&(v.isBold=!v.isBold,y=!0),v.isItalic!==g.isItalic()&&(v.isItalic=!v.isItalic,y=!0),v.color!==g.color&&(v.color=g.color,y=!0),y&&d.setSelectedFont(h.getDocument(),v),t(function(){k=!1})}},k=!1,T=e.$on("event-document-selected-font-changed",function(e,t){var n=t.document,o=h.getDocument();if(!isUndefinedOrNull(n)&&n.id===o.id&&!k){var a=d.getSelectedFont(o);if(!isUndefinedOrNull(a)){var l=(0,r.default)(null);switch(t.propertyName){case"descriptor":var c=u.default.createInstance({F:a.descriptor.value.family,f:a.descriptor.value.format});l.originalFamily=c.family,l.name=c.selectFamily,l.format=c.format;break;case"color":l.color=a.color.copy();break;case"size":l.size=a.size.id;break;case"isBold":case"isItalic":var s=i.default.GFontStyle.kGFontStyleRegular;a.isBold&&a.isItalic?s=i.default.GFontStyle.kGFontStyleBoldItalic:a.isBold?s=i.default.GFontStyle.kGFontStyleBold:a.isItalic&&(s=i.default.GFontStyle.kGFontStyleItalic),l.style=s;break;default:return}m.setFont(l),h.invalidate()}}}),w=function(e){var t=C();if(t){e.pushState();var n=m.getRect();e.clipRect(n);var r=a.default.LookAndFeel.TextCopySelectionColor;e.fillGeometry(t,r),e.popState()}},C=function(){var e=m.getSelectorPosition(),t=m.getCaretPosition();if(e==t)return null;e>t&&(t=[e,e=t][0]);for(var n=c.createGeometry(),r=o.default.rect(),i=0,a=e;a<t;a++){var l=m.getCharQuad(a);if(l.isRect()){var u=l.getBound();if(0==i)r=u;else if(o.default.isRectsOnSameLine(r,u,1))r.right=u.right;else{var s=r.copy();n.rectangle(s),r=u,i=1}++i}else{s=r.copy();n.rectangle(s),r=o.default.rect(),i=0,n.beginFigure(l.top_left()),n.lineTo(l.top_right()),n.lineTo(l.bottom_right()),n.lineTo(l.bottom_left()),n.endFigureClose()}}if(0!=i){s=r.copy();n.rectangle(s)}return n},B=function(e){var t=h.mapPointToPage(m.getPageIndex(),e);return t=function(e){if(0!==m.getRotate()){var t=m.getRect();e=o.default.rotationMatrix(m.getRotate(),o.default.point(t.left,t.top)).mapPoint(e)}return e}(t=n.getPageToViewMatrix(h,m.getPageIndex()).mapPoint(t))},L=function(e,t){return 0!=(e&t)};m.setOnSelChangedCallBack(P),this.refresh(),window.deviceDetect.isPhone()&&e.$emit("event:widget-textfield-view-create",{view:h,widget:m,pageIndex:this.getPageIndex(),isMultiline:!0})};return p.createInstance=function(e,t){return new g(e,t)},p}angular.module(s,["transformer-painter-module","bl-text-edit-renderer-service-module","geometry-factory-module","ui-viewer-textedit-module","bl-common-clipboard-data-factory-module"]).factory(d,f),f.$inject=["$rootScope","$timeout","bl-text-edit-renderer-service","geometry-factory","transformer-painter-service","ui-viewer-textedit-factory","bl-common-clipboard-data-factory"],window.mainApp.factory(d,getConstructor(s,d,"factory"))},"/zgi":function(e,t,n){"use strict";var r="bl-ocr-idrs-commands-factory";angular.module("bl-ocr-idrs-commands-module",[]).factory(r,["$q","$rootScope",function(e,t){return{createAddZoneCommand:function(e,t){return new function(e,t){var n=-1,r=t,o=e;this.do=function(){n=o.getCount(),o.insertZone(n,r)},this.undo=function(){o.removeZone(n)}}(e,t)},createInsertZoneCommand:function(e,t,n){return new function(e,t,n){var r=t,o=n,i=e;this.do=function(){i.insertZone(r,o)},this.undo=function(){i.removeZone(r)}}(e,t,n)},createRemoveZoneCommand:function(e,t){return new function(e,t){var n=t,r=null,o=e;this.do=function(){r=o.removeZone(n)},this.undo=function(){o.insertZone(n,r)}}(e,t)},createRemoveZonesCommand:function(e,t){return new function(e,t){var n=t,r=[],o=e;this.do=function(){var e=n.slice();e.sort(function(e,t){return t-e}),e.forEach(function(e,t,n){r.push(o.removeZone(e))})},this.undo=function(){var e=n.slice();e.sort();var t=r.length;e.forEach(function(e,n,i){o.insertZone(n,r[--t])}),r=[]}}(e,t)},createTransformZoneCommand:function(e,t,n){return new function(e,t,n){var r=t,o=n,i=e,a=null;this.do=function(){var e=i.getZone(r);a=e.clone(),e.transform(o)},this.undo=function(){i.replaceZone(r,a)}}(e,t,n)},createAddZoneSeparatorCommand:function(e,t,n){return new function(e,t,n){var r=e,o=t,i=-1,a=n,l=null;this.do=function(){var e=r.getZone(o);i=e.getSeparatorsCount(),l=e.clone(),e.insertSeparator(i,a)},this.undo=function(){r.replaceZone(o,l),i=-1}}(e,t,n)},createInsertZoneSeparatorCommand:function(e,t,n,r){return new function(e,t,n,r){var o=e,i=t,a=n,l=r,u=null;this.do=function(){var e=o.getZone(i);u=e.clone(),e.insertSeparator(a,l)},this.undo=function(){o.replaceZone(i,u)}}(e,t,n,r)},createRemoveZoneSeparatorCommand:function(e,t,n){return new function(e,t,n){var r=e,o=t,i=n,a=null;this.do=function(){var e=r.getZone(o);a=e.clone(),e.removeSeparator(i)},this.undo=function(){r.replaceZone(o,a)}}(e,t,n)}}}]),window.mainApp.factory(r,getConstructor("bl-ocr-idrs-commands-module",r,"factory"))},"0LmI":function(e,t,n){"use strict";var r=i(n("C3UN")),o=i(n("b8L+"));function i(e){return e&&e.__esModule?e:{default:e}}n("Rz7V"),n("UF/7");var a="bl-text-edit-textlayout-factory-module",l="bl-text-edit-textlayout-factory";function u(e,t,n){var i={},a=0,l=1,u=2,c=function(){var i=this,c=function(){this.start_index=0,this.num_phrases=0,this.advance=0},s=function(){this.words=[],this.num_symbols=0,this.length=0,this.height=0},d=o.default.rect(),f=o.default.rect(),p="",g=a,h=Number.MAX_VALUE,m=1.5,v=!0,y=!1,b=[],x=[],S=null,P=null;function k(t){return e.createInstance(m,t)}i.getRect=function(){return d.copy()},i.getText=function(){return p},i.getCharAtPos=function(e){for(var t=null,n=0,r=0;r<b.length;r++){var o=b[r]._text.length;if(n+o>e){t=b[r]._text[e-n];break}n+=o}return t},i.getPhraseAtPos=function(e){for(var t=null,n=0,r=0;r<b.length;r++){var o=b[r]._text.length;if(n+o>e){t=b[r];break}n+=o}return t},i.setFont=function(t,n,r){for(var o=[],i=!1,a=void 0,l=0,u=0;u<b.length;u++){var c=b[u],s=c._text.length;if(l+s<t||l>n)o.push(c),l+=s;else{var d=c._text,f=d.slice(0,Math.max(t-l,0));c._text=f,f.length>0&&"\r"!==f&&o.push(c),(a=c.getFont()).updateFont(r);var p=d.slice(Math.max(t-l,0),Math.max(n-l,0));if(p.length>0&&"\r"!==p)(g=e.createInstance(m,a))._text=p,o.push(g),i=!0;else!i&&l+s>n&&(o.push(k(a)),i=!0);var g,h=d.slice(Math.max(n-l,0),s);if(h.length>0&&"\r"!==h)(g=e.createInstance(m,c.getFont()))._text=h,o.push(g);l+=s}}0==o.length?(a||(a=b.length>0?b[b.length-1].getFont():e.createFontInstance()).updateFont(r),b=[k(a)]):b=o,v=!0,C(b,T().getWidth())},i.getPhrasesByPos=function(e,t){e>t&&(t=[e,e=t][0]);for(var n=[],r=0,o=0;o<b.length;o++){var i=b[o],a=i._text.length;if(r+a<e)r+=a;else{if(r>t)break;n.push(i),r+=a}}return n},i.keyStroke=function(e,t,n,r){for(var o=[],i=!1,a=0,l=0;l<b.length;l++){var u=b[l],c=u._text.length,s=!1;if(a+c<e||a>t)o.push(u),a+=c;else{var d=u._text.slice(0,Math.max(e-a,0));i||(d.length===u._text.length&&l+1<b.length&&(0===b[l+1]._text.length||"\r"===b[l+1]._text)?(b[l+1]._text=n+b[l+1]._text,s=!0):d+=n,i=!0),d+=u._text.slice(Math.max(t-a,0),c),a+=c,d.length>0&&(u._text=d,o.push(u)),s&&(o.push(b[l+1]),l++)}}if(0==o.length){var f=b.length>0?b[0].getFont():null;b=[k(f)]}else b=o;v=!0,C(b,T().getWidth())},i.getPhrases=function(){return saveSlice(b)},i.getLineHeightFactor=function(){return m},i.setQuadding=function(e){g!=e&&(g=e,v=!0)},i.getQuadding=function(){return g},i.getMargin=function(){return 0},i.setMaxLen=function(e){e!=h&&(e>0&&(h<=0||e<h)&&(p=p.spliceSlice(0,e)),h=e,v=!0)},i.getMaxLen=function(){return h},i.getSymbolsCount=function(){return p.length},i.getLinesCount=function(){return x.length},i.getFirstSymbol=function(e){if(e>=x.length)return p.length;for(var t=0,n=0;n<e;n++)t+=i.getNumSymbolsOnLine(n);return t},i.getNumSymbolsOnLine=function(e){return isUndefinedOrNull(e)||e>=x.length?0:x[e].num_symbols},i.getFirstSymbol=function(e){return isUndefinedOrNull(e)||0===e||e>=x.length?0:x.slice(0,e).reduce(function(e,t){return e+(t.num_symbols||0)},0)},i.getLineHeight=function(e){return isUndefinedOrNull(e)||e>=x.length?0:x[e].height},i.getLastSymbol=function(e){return e>=x.length?p.length:i.getFirstSymbol(e)+i.getNumSymbolsOnLine(e)-1},i.getLineWithSymbol=function(e){for(var t=0,n=0;n<x.length;++n)if((t+=i.getNumSymbolsOnLine(n))>e)return n;return i.getLinesCount()-1},i.getWordPositions=function(e){for(var t=0,n=0;n<b.length;n++){var r=b[n];if(r.getRect().containsPoint(e))return{caret:t+r._text.length,selector:t};t+=r._text.length}},i.getSymbolAtPoint=function(e){for(var t=i.getFirstSymbol(0),n=i.getLinesCount(),r=0;r<n;++r){var a=x[r],l=(d=b[a.words[0].start_index]).getRect();if(!o.default.floatLt(l.max_y(),e.y)){for(var u=0;u<a.words.length;u++)for(var c=a.words[u],s=0;s<c.num_phrases;s++){l=(d=b[c.start_index+s]).getRect();for(var d,f=d._text.length,g=l.min_x(),h=0;h<f;++h){var m=d.getSymbolRect(h).getWidth();if(g+=m,o.default.floatLt(e.x,g))return o.default.floatLt(e.x,g-.5*m)||o.default.floatEq(g,l.max_x())?t+h:t+ ++h}t+=f}return t-1}t+=a.num_symbols}return p.length-1},i.getCharQuad=function(e){for(var t=0,n=0;n<x.length;++n){var r=x[n].num_symbols;if(t+r>e)for(var i=0;i<x[n].words.length;i++)for(var a=x[n].words[i],l=0;l<a.num_phrases;++l){var u=b[a.start_index+l],c=u._text.length;if(t+c>e)return u.getSymbolQuad(e-t);t+=c}t+=r}var s,d=b.length-1,f=b[d];if(0==f._text.length){var p=(s=f.getRect()).min_x();s.left=s.right=p}else{var g=(s=f.getSymbolRect(f._text.length-1)).max_x();s.left=s.right=g}return o.default.quadFromRect(s)},i.getLineRect=function(e){var t;if(e<x.length)for(var n=x[e],r=0;r<n.words.length;r++)for(var i=n.words[r],a=0;a<i.num_phrases;++a){var l=b[i.start_index+a].getRect();t=t.isAreaEmpty()?l:o.default.unionRects(t,l)}return t},i.getMaxLineWidth=function(){for(var e=0,t=0;t<x.length;t++){var n=x[t];e<n.length&&(e=n.length)}return e},i.isNeedUpdate=function(){return v};var T=function(){var e=d.copy();return e.inflate(-0,-0),e};function w(t){var n=t.style;return n&&(n==r.default.GFontStyle.kGFontStyleBold?n=r.default.GFontStyle.kGFontStyleItalic:n==r.default.GFontStyle.kGFontStyleItalic&&(n=r.default.GFontStyle.kGFontStyleBold)),e.createFontInstance(t.size,t.selectFamily,t.family,n,t.color,t.format)}function C(t,n,r){if(v){var o=y?Math.max(f.width-d.left,n):n,i=T();x=[],b=[],p="";var a=i.min_x(),l=i.min_y(),u=new s,g=0;r||(t=function(t){return t.reduce(function(t,n){var r=void 0;if(n._text.indexOf(" ")>=0){r=[];for(var o=n._text.split(" "),i=0;i<o.length;i++){var a=o[i];if(a.length>0){var l=e.createInstance(m,n.getFont());l._text=a,r.push(l)}if(i<o.length-1||1===o.count){var u=e.createInstance(m,n.getFont());u._text=" ",r.push(u)}}}else r=n;return t.concat(r)},[])}(t=function(e){return e.reduce(function(e,t){if(0===e.length)return e.concat(t);var n=e[e.length-1];return!n._text.endsWith("\n")&&n.getFont().isEqual(t.getFont())?(n._text+=t._text,e):e.concat(t)},[])}(t=function(t){return t.reduce(function(t,n){n._text=n._text.replace(new RegExp("\r","g"),"");var r=void 0;if(n._text.indexOf("\n")>=0){r=[];for(var o=n._text.split("\n"),i=0;i<o.length;i++){var a=o[i],l=e.createInstance(m,n.getFont());l._text=a,i<o.length-1&&(l._text+="\n"),r.push(l)}}else r=n;return t.concat(r)},[])}(t))));for(var h=0;h<t.length;h++){var k=t[h],w=k.getFont(),L=e.createInstance(m,w);L.translate(a,l),b.push(L);var F=new c;F.start_index=b.length-1,F.num_phrases=1,F.advance=0,u.words.push(F);for(var A=k._text,M=0;M<A.length;M++){var E=A[M];E<" "&&"\r"!=E&&"\n"!=E&&(E=" "),L._text+=E;var R=L.getSymbolRect(L._text.length-1).getWidth();if(g+=R,F.advance+=R,a+=R,M==A.length-1&&"\n"==A[M]&&(B(u,n,g),a=i.min_x(),l+=u.height,(L=e.createInstance(m,w)).translate(a,l),b.push(L),(F=new c).start_index=b.length-1,F.num_phrases=1,F.advance=0,(u=new s).words.push(F),g=0),g>n){if(y&&g<o){n=g;continue}var I=0;if(!(u.words.length>1))return C(t,g,!0);I+=F.advance,g-=F.advance;var O=a-F.advance,D=l;u.words.pop(),B(u,n,g);for(var N=(a=i.min_x())-O,U=(l+=u.height)-D,H=0;H<F.num_phrases;++H){b[F.start_index+H].translate(N,U)}(u=new s).words.push(F),g=I,a+=I}}}B(u,n,g),v=!1,p=b.reduce(function(e,t){return e+(t._text||"")},"");var j=!1,G=x.reduce(function(e,t){return e+(t.height||0)},0);if(d.height<G&&(d.bottom+=G-d.height,j=!0),d.width<n&&(d.right+=n-d.width,j=!0),j&&P){var z=P.getTextBlock();z&&(z.rect=_(S,P.getPageIndex(),d),P.updateTransform())}}}function B(e,t,n){var r=F(g,t,n);e.length=n,e.num_symbols=0;for(var o=null,i=0;i<e.words.length;++i)for(var a=e.words[i],l=0;l<a.num_phrases;++l){var u=b[a.start_index+l];e.num_symbols+=u._text.length,u.translate(r,0);var c=u.getRect().height;e.height<c&&(e.height=u.getRect().height,o=u)}x.push(e);var s=b[a.start_index+a.num_phrases-1];if(L(s)&&e.num_symbols++,o)for(i=0;i<e.words.length;++i)for(a=e.words[i],l=0;l<a.num_phrases;++l){(u=b[a.start_index+l])!==o&&u.translate(0,e.height-u.getRect().height-o.getBottomOffset()+u.getBottomOffset())}}i.getSpans=function(){var e=[];return b.forEach(function(t,n){var o={text:t._text.replace(/\u200B/g,"").replace(/\uFEFF/g,"").replace(/\r/g,"")},i=t.getFont(),a=i.style;i.style==r.default.GFontStyle.kGFontStyleRegular?a=r.default.FontStyle.Regular:i.style==r.default.GFontStyle.kGFontStyleBold?a=r.default.FontStyle.Bold:i.style==r.default.GFontStyle.kGFontStyleItalic?a=r.default.FontStyle.Italic:i.style==r.default.GFontStyle.kGFontStyleBoldItalic&&(a=r.default.FontStyle.BoldItalic);var l={F:i.originalFamily,f:i.format,S:i.size,s:a,C:i.color.toHex(!0)};o.font=l,e.push(o)}),e},i.init=function(t,r,o){if(S=t,P=o){var i=P.getTextBlock();if(i){if(b=[],i.lines.forEach(function(t,n){var r=w(t.font),o=e.createInstance(m,r);o._text=t.text,o._text=o._text.replace(new RegExp("\r\n","g"),"\n"),o._text=o._text.replace(new RegExp("\r","g"),"\n"),n==i.lines.length-1&&(o._text=o._text.replace(/\n+$/,"")),b.push(o)}),0==b.length){var a=null,l=n.getSelectedFont(S.getDocument());null!=l&&(a=w(l.toPdfFont())),b.push(k(a))}d=A(S,r).mapRect(i.rect),f=A(S,r).mapRect(S.getDocument().getPage(r).getPageBox()),v=!0,y=!!i.iw,C(b,T().getWidth())}}};var L=function(e){return!e._text.endsWith("\n")&&!e._text.endsWith("\r")&&(e._text+="\r",!0)},F=function(e,t,n){switch(e){case a:return 0;case l:return.5*(t-n);case u:return t-n}return 0},A=function(e,n){return-1!==n?t.getPageToViewMatrix(e,n):o.default.matrix()},_=function(e,n,r){var i=function(e,n){return-1!==n?t.getViewToPageMatrix(e,n):o.default.matrix()}(e,n),a=o.default.quad();return a.tl=i.mapPoint(o.default.point(r.left,r.top)),a.tr=i.mapPoint(o.default.point(r.right,r.top)),a.bl=i.mapPoint(o.default.point(r.left,r.bottom)),a.br=i.mapPoint(o.default.point(r.right,r.bottom)),o.default.rect(a.tl.x,a.tl.y,a.br.x,a.br.y)}};return i.createInstance=function(){return new c},i}angular.module(a,["bl-text-edit-phrase-factory-module","bl-text-edit-renderer-service-module","ui-viewer-textedit-module"]).factory(l,u),u.$inject=["bl-text-edit-phrase-factory","bl-text-edit-renderer-service","ui-viewer-textedit-factory"],window.mainApp.factory(l,getConstructor(a,l,"factory"))},"0j8N":function(e,t,n){"use strict";var r=i(n("C3UN")),o=i(n("b8L+"));function i(e){return e&&e.__esModule?e:{default:e}}n("5UMD"),n("/zgi");var a="bl-ocr-idrs-transformer-factory";angular.module("bl-ocr-idrs-transformer-module",["bl-edit-utilites-module","bl-ocr-idrs-commands-module"]).factory(a,["$rootScope","bl-edit-utilites-service","bl-ocr-idrs-commands-factory",function(e,t,n){return{createInstance:function(e,i){return new function(e,i){var a=i,l=e,u=l.getZones(),c=u.getZone(a),s=o.default.identityMatrix(),d=s.copy(),f=r.default.TransformType.TRANSFORM_NONE,p=this;p.getBBox=function(){return c.getRect()},p.isPerformingOperation=function(){return f!=r.default.TransformType.TRANSFORM_NONE},p.getOperationType=function(){return f},p.startOperation=function(e){f=e,d=s.copy()},p.endOperation=function(){if(!s.isEqual(d)){var e=n.createTransformZoneCommand(u,a,d);l.do(e),d=o.default.identityMatrix(),s=o.default.identityMatrix()}f=r.default.TransformType.TRANSFORM_NONE},p.getTransform=function(){return s},p.setOperationTransform=function(e){var n=l.getContentSize().copy(),r=o.default.rect(0,0,n.width,n.height);d=t.correctCTMToRespectPageBox(r,p.getUserSpaceRect(),e)},p.getOperationTransform=function(){return d},p.getRotationOrigin=function(){return p.getBounds().getCenter()},p.getUserSpaceRect=function(){var e=o.default.quadFromRect(c.getRect());return s.invert().mapQuad(e).getBound()},p.getOperationBounds=function(){var e=o.default.quadFromRect(c.getRect()),t=s.invert();return d.mapQuad(t.mapQuad(e))},p.getBounds=function(){return o.default.quadFromRect(c.getRect())},p.hitTest=function(e){var t=s.invert();if(!t)return!1;var n=t.mapPoint(e);return p.getUserSpaceRect().containsPoint(n)},p.getZone=function(){return c},p.deleteZone=function(){var e=n.createRemoveZoneCommand(u,a);l.do(e)},p.getPosition_PropertyTest=function(){var e=f===r.default.TransformType.TRANSFORM_NONE?s.copy():d.copy();return g(e).position},p.getScaling_PropertyTest=function(){var e=f===r.default.TransformType.TRANSFORM_NONE?s.copy():d.copy();return g(e).scaling},p.getRotation_PropertyTest=function(){var e=f===r.default.TransformType.TRANSFORM_NONE?s.copy():d.copy();return g(e).rotation},p.setRotation=function(e){var t=g(s);t.rotation=e,s=h(t);var r=n.createTransformZoneCommand(u,a,o.default.rotationMatrix(e));l.do(r)};var g=function(e){var t={scaling:o.default.size(),rotation:0,shear:0,position:o.default.point()};t.scaling.width=Math.sqrt(e.a*e.a+e.b*e.b);var n=e.b/t.scaling.width,r=e.a/t.scaling.width;return t.rotation=Math.atan2(n,r),t.scaling.height=e.d*r-e.c*n,t.shear=(e.c+e.d-t.scaling.height*(r-n))/t.scaling.height*(r+n),t.position.x=e.e,t.position.y=e.f,t},h=function(e){return o.default.scalingMatrix(e.scaling.width,e.scaling.height).multiply(o.default.rotationMatrix(e.rotation)).multiply(o.default.translationMatrix(e.position.x,e.position.y))}}(e,i)}}}]),window.mainApp.factory(a,getConstructor("bl-ocr-idrs-transformer-module",a,"factory"))},1286:function(e,t,n){"use strict";var r=i(n("C3UN")),o=i(n("7mWT"));function i(e){return e&&e.__esModule?e:{default:e}}var a="bl-linkannot-handler-factory";angular.module("bl-linkannot-handler-module",[]).factory(a,[function(){return{createInstance:function(){return new function(){this.onFocus=function(e,t,n){},this.onBlur=function(e,t,n){},this.onMouseEnter=function(e,t,n){e.setCursor(r.default.BLCursorType.kBLCursorLinkHand)},this.onMouseExit=function(e,t,n){},this.onMouseDown=function(e,t,n,r){return!0},this.onMouseUp=function(e,t,n,r){var i=o.default.createInstanceCollection(n.linkActions);if(0===i.length&&n.linkDestination){var a=o.default.createInstance(n.linkDestination);a&&i.push(a)}return e.runActions(i),!0}}}}}]),window.mainApp.factory(a,getConstructor("bl-linkannot-handler-module",a,"factory"))},"3Gts":function(e,t,n){"use strict";var r=l(n("b8L+")),o=l(n("iArn")),i=l(n("C3UN")),a=l(n("aqxP"));function l(e){return e&&e.__esModule?e:{default:e}}var u="bl-edit-input-snapdata-factory";angular.module("bl-edit-input-snapdata-module",["ui-usersettings-module"]).factory(u,["$rootScope","ui-usersettings-factory",function(e,t){var n=parseFloat("3.402823466e+38F"),l=function(e,t,n){return e>=t-n&&e<t+n},u=function(e,t,n,o){return{pointA:r.default.point(e,t),pointB:r.default.point(n,o)}},c=function(e,t){void 0===t&&(t=!1);var n=r.default.cloneRect(e);n.sort();var o=n.left,i=n.right,a=o+(i-o)/2,l=n.top,u=n.bottom;return{L:o,R:i,Cx:a,T:l,B:u,Cy:u+(l-u)/2,guide:t}},s=function(){var e=void 0,s=[];this.setPageBox=function(t){e=t},this.addRect=function(e,t){e&&s.push(c(e,t))},this.snapMove=function(d,f,p){var g=c(d),h=5/p.zoom,m=new function(){this.min_dx=0,this.min_abs_dx=n,this.min_dy=0,this.min_abs_dy=n,this.vert_snap_lines=[],this.horz_snap_lines=[],this.resetMinDx=function(e,t){this.min_dx=e,this.min_abs_dx=t,this.vert_snap_lines=[]},this.resetMinDy=function(e,t){this.min_dy=e,this.min_abs_dy=t,this.horz_snap_lines=[]},this.addVertLine=function(e,t,n){for(var o=0;o<this.vert_snap_lines.length;++o){var i=this.vert_snap_lines[o];if(r.default.floatEq(this.vert_snap_lines[o].pointA.x,e))return i.pointA.y=Math.min(i.pointA.y,t),void(i.pointB.y=Math.max(i.pointB.y,n))}this.vert_snap_lines.push(u(e,t,e,n))},this.addHorzLine=function(e,t,n){for(var o=0;o<this.horz_snap_lines.length;++o){var i=this.horz_snap_lines[o];if(r.default.floatEq(this.horz_snap_lines[o].pointA.y,e))return i.pointA.x=Math.min(i.pointA.x,t),void(i.pointB.x=Math.max(i.pointB.x,n))}this.horz_snap_lines.push(u(t,e,n,e))}},v=s;if(p.snapToGrid){for(var y=t.settings.layout.units,b=o.default.convert.to(y,i.default.Units.point,1),x=o.default.convert.to(y,i.default.Units.point,1),S=(i.default.Units.inch,b);S*p.zoom>16;)S/=2;for(;S*p.zoom<8;)S*=2;for(var P=x;P*p.zoom>16;)P/=2;for(;P*p.zoom<8;)P*=2;for(var k=e.left;k<=e.right;)v.push(c(r.default.rect(k,e.top,k,e.bottom),!0)),k+=S;for(var T=e.top;T>=e.bottom;)v.push(c(r.default.rect(e.left,T,e.right,T),!0)),T-=P}else v.push(c(e,!0));for(var w=[],C=[],B=[],L=[],F=.01/p.zoom,A=0;A!=v.length;++A){if(v[A].guide||(v[A].T<g.B&&v[A].B>g.T&&(v[A].R<g.L&&w.push(v[A]),v[A].L>g.R&&C.push(v[A])),v[A].L<g.R&&v[A].R>g.L&&(v[A].B<g.T&&B.push(v[A]),v[A].T>g.B&&L.push(v[A]))),l(g.L,v[A].L,h)){var _=v[A].L-g.L;(H=Math.abs(_))<=m.min_abs_dx+F&&(H<m.min_abs_dx-F&&m.resetMinDx(_,H),m.addVertLine(v[A].L,v[A].T,v[A].B))}if(l(g.R,v[A].R,h)){_=v[A].R-g.R;(H=Math.abs(_))<=m.min_abs_dx+F&&(H<m.min_abs_dx-F&&m.resetMinDx(_,H),m.addVertLine(v[A].R,v[A].T,v[A].B))}if(l(g.Cx,v[A].Cx,h)){_=v[A].Cx-g.Cx;(H=Math.abs(_))<=m.min_abs_dx+F&&(H<m.min_abs_dx-F&&m.resetMinDx(_,H),m.addVertLine(v[A].Cx,v[A].T,v[A].B))}if(l(g.T,v[A].T,h)){var M=v[A].T-g.T;(G=Math.abs(M))<=m.min_abs_dy+F&&(G<m.min_abs_dy-F&&m.resetMinDy(M,G),m.addHorzLine(v[A].T,v[A].L,v[A].R))}if(l(g.B,v[A].B,h)){M=v[A].B-g.B;(G=Math.abs(M))<=m.min_abs_dy+F&&(G<m.min_abs_dy-F&&m.resetMinDy(M,G),m.addHorzLine(v[A].B,v[A].L,v[A].R))}if(l(g.Cy,v[A].Cy,h)){M=v[A].Cy-g.Cy;(G=Math.abs(M))<=m.min_abs_dy+F&&(G<m.min_abs_dy-F&&m.resetMinDy(M,G),m.addHorzLine(v[A].Cy,v[A].L,v[A].R))}}var E=[];if(w.length>0){w.sort(function(e,t){return e.R>t.R?-1:e.R<t.R?1:0}),(j=[]).push(w[0]);var R=w[0].L;for(A=1;A<w.length;++A)w[A].R<R&&(j.push(w[A]),R=w[A].L);var I=0,O=0;if(j.length>=2){var D=j[0].L-j[1].R,N=j[0].T,U=j[0].B;for(A=1;A<j.length;++A){if(!r.default.floatEq(j[A-1].L-j[A].R,D)){j.length=A;break}j[A].T<N&&(N=j[A].T),j[A].B>U&&(U=j[A].B)}I=j[0].R+D,O=N+(U-N)/2}else I=j[0].R+10,O=j[0].Cy;if(l(g.L,I,h)){_=I-g.L;if((H=Math.abs(_))<=m.min_abs_dx+F){H<m.min_abs_dx-F&&m.resetMinDx(_,H),E.push(u(j[0].R,O,I,O));for(A=1;A<j.length;++A)E.push(u(j[A].R,O,j[A-1].L,O))}}}if(C.length>0){C.sort(function(e,t){return e.L<t.L?-1:e.L>t.L?1:0}),(j=[]).push(C[0]);for(R=C[0].R,A=1;A<C.length;++A)C[A].L>R&&(j.push(C[A]),R=C[A].R);I=0,O=0;if(j.length>=2){for(D=j[1].L-j[0].R,N=j[0].T,U=j[0].B,A=1;A<j.length;++A){if(!r.default.floatEq(j[A].L-j[A-1].R,D)){j.length=A;break}j[A].T<N&&(N=j[A].T),j[A].B>U&&(U=j[A].B)}I=j[0].L-D,O=N+(U-N)/2}else I=j[0].L-10,O=j[0].Cy;if(l(g.R,I,h)){var H;_=I-g.R;if((H=Math.abs(_))<=m.min_abs_dx+F){H<m.min_abs_dx-F&&m.resetMinDx(_,H),E.push(u(j[0].L,O,I,O));for(A=1;A<j.length;++A)E.push(u(j[A].L,O,j[A-1].R,O))}}}if(B.length>0){B.sort(function(e,t){return e.B>t.B?-1:e.B<t.B?1:0}),(j=[]).push(B[0]);for(R=B[0].T,A=1;A<B.length;++A)B[A].B<R&&(j.push(B[A]),R=B[A].T);I=0,O=0;if(j.length>=2){for(D=j[0].T-j[1].B,N=j[0].L,U=j[0].R,A=1;A<j.length;++A){if(!r.default.floatEq(j[A-1].T-j[A].B,D)){j.length=A;break}j[A].L<N&&(N=j[A].L),j[A].R>U&&(U=j[A].R)}I=j[0].B+D,O=N+(U-N)/2}else I=j[0].B+10,O=j[0].Cx;if(l(g.T,I,h)){M=I-g.T;if((G=Math.abs(M))<=m.min_abs_dy+F){G<m.min_abs_dy-F&&m.resetMinDy(M,G),E.push(u(O,j[0].B,O,I));for(A=1;A<j.length;++A)E.push(u(O,j[A].B,O,j[A-1].T))}}}if(L.length>0){var j;L.sort(function(e,t){return e.T<t.T?-1:e.T>t.T?1:0}),(j=[]).push(L[0]);for(R=L[0].B,A=1;A<L.length;++A)L[A].T>R&&(j.push(L[A]),R=L[A].B);I=0,O=0;if(j.length>=2){for(D=j[1].T-j[0].B,N=j[0].L,U=j[0].R,A=1;A<j.length;++A){if(!r.default.floatEq(j[A].T-j[A-1].B,D)){j.length=A;break}j[A].L<N&&(N=j[A].L),j[A].R>U&&(U=j[A].R)}I=j[0].T-D,O=N+(U-N)/2}else I=j[0].T-10,O=j[0].Cx;if(l(g.B,I,h)){var G;M=I-g.B;if((G=Math.abs(M))<=m.min_abs_dy+F){G<m.min_abs_dy-F&&m.resetMinDy(M,G),E.push(u(O,j[0].T,O,I));for(A=1;A<j.length;++A)E.push(u(O,j[A].T,O,j[A-1].B))}}}var z=r.default.point(f.x+m.min_dx,f.y+m.min_dy),V=g.L+m.min_dx,K=g.R+m.min_dx,W=g.T+m.min_dy,$=g.B+m.min_dy,q=[];for(A=0;A<m.vert_snap_lines.length;++A){(Z=m.vert_snap_lines[A]).pointA.y=Math.min(Z.pointA.y,W),Z.pointB.y=Math.max(Z.pointB.y,$),q.push(Z)}for(A=0;A<m.horz_snap_lines.length;++A){var Z;(Z=m.horz_snap_lines[A]).pointA.x=Math.min(Z.pointA.x,V),Z.pointB.x=Math.max(Z.pointB.x,K),q.push(Z)}return{snappedAnchor:z,snapInfo:a.default.createSnapInfo(q,E,[])}}};return{createInstance:function(){return new s}}}]),window.mainApp.factory(u,getConstructor("bl-edit-input-snapdata-module",u,"factory"))},"3cyn":function(e,t,n){"use strict";var r=i(n("Xxa5")),o=i(n("exGp"));function i(e){return e&&e.__esModule?e:{default:e}}var a="bl-selecteditobjectservice-insert-module",l="bl-selecteditobjectservice-insert-factory";angular.module(a,["bl-insertmodule-module"]).factory(l,["$rootScope","ui-helper-factory",function(e,t){var n=t.ondemand.getInsertModuleService,i={};return i.selectObject=function(){var e=(0,o.default)(r.default.mark(function e(t,o,i){var a,l,u,c,s;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a={selected:!1,inputHandler:null},t&&o){e.next=3;break}return e.abrupt("return",a);case 3:if("Transform"===o.getObjectType()){e.next=5;break}return e.abrupt("return",a);case 5:if(l=o.getData(),u=l.getElement(),!((c=o.getPageIndex())<0)){e.next=10;break}return e.abrupt("return",a);case 10:return e.next=12,n();case 12:return s=e.sent,e.next=15,s.createAndSetTransformer(t,c,u,i);case 15:return a.inputHandler=e.sent,a.selected=!0,e.abrupt("return",a);case 18:case"end":return e.stop()}},e,this)}));return function(t,n,r){return e.apply(this,arguments)}}(),i}]),window.mainApp.factory(l,getConstructor(a,l,"factory"))},"4TVJ":function(e,t,n){"use strict";var r=function(e){return e&&e.__esModule?e:{default:e}}(n("C3UN"));var o="bl-text-edit-textfield-inputhandler-factory-module",i="bl-text-edit-textfield-inputhandler-factory";function a(){var e={};return e.createInstance=function(e,t){return new function(e){var t,n=e,o=!1;this.initialize=function(e){t=e},this.terminate=function(){o||t.finalize(),n&&n.setActiveTool("edit"),n=null},this.getToolName=function(){return"TextBlockEdit"},this.isFinished=function(){return o},this.handleEvent=function(e){if(!o){switch(e.type){case r.default.BLInputEventType.kBLInputEventCommand:return i(e.commandArgs.command);case r.default.BLInputEventType.kBLInputEventPointerPressed:if(e.pointerArgs.button===r.default.BLPointerButton.kBLPointerButtonLeft)return l(e.pointerArgs.position,e.pointerArgs.flags);break;case r.default.BLInputEventType.kBLInputEventPointerReleased:if(e.pointerArgs.button===r.default.BLPointerButton.kBLPointerButtonLeft)return u(e.pointerArgs.position,e.pointerArgs.flags);if(e.pointerArgs.button===r.default.BLPointerButton.kBLPointerButtonRight)return c(e.pointerArgs.position,e.pointerArgs.flags);break;case r.default.BLInputEventType.kBLInputEventPointerMoved:return a(e.pointerArgs.position,e.pointerArgs.flags);case r.default.BLInputEventType.kBLInputEventWheelChanged:return s(e.wheelArgs.position,e.wheelArgs.delta);case r.default.BLInputEventType.kBLInputEventKeyPressed:return d(e.keyArgs.keycode,e.keyArgs.flags);case r.default.BLInputEventType.kBLInputEventKeyReleased:return f(e.keyArgs.keycode,e.keyArgs.flags);case r.default.BLInputEventType.kBLInputEventCharReceived:return p(e.charArgs.unicode);case r.default.BLInputEventType.kBLInputEventPointerDoubleClicked:return g(e.pointerArgs.position,e.pointerArgs.flags)}return!1}return!1};var i=function(e){if("Cut"==e)t.cut();else if("Copy"==e)t.copy();else if("Paste"==e)t.paste();else{if("Delete"==e)return!1;"Undo"==e?t.canUndo()&&t.undo():"Redo"==e&&t.canRedo()&&t.redo()}return!0},a=function(e,n){return t.mouseMove(e,n)},l=function(e,n){return t.mouseDown(e,n)},u=function(e,n){return t.mouseUp(e,n)},c=function(e,r){var o=t.getPageIndex(),i=n.mapPointToPage(o,e);return!!t.hitTest(o,i)&&(t.hasSelection(),!0)},s=function(e,n){return t.mouseWheel(e,n)},d=function(e,n){return e!==r.default.kBLKey.kBLKey_TAB&&(e===r.default.kBLKey.kBLKey_ESCAPE?(t.finalize(!1),o=!0,!1):e===r.default.kBLKey.kBLKey_V&&r.default.BLFlagIsSet(n,r.default.BLInputEventFlags.kBLInputEventFlagCtrlPressed)?i("Paste"):e===r.default.kBLKey.kBLKey_X&&r.default.BLFlagIsSet(n,r.default.BLInputEventFlags.kBLInputEventFlagCtrlPressed)?i("Cut"):t.keyDown(e,n))},f=function(e,n){return t.keyUp(e,n)},p=function(e){return t.charReceived(e)},g=function(e,n){return t.doubleClick(e,n)}}(t)},e}angular.module(o,[]).factory(i,a),a.$inject=["$rootScope"],window.mainApp.factory(i,getConstructor(o,i,"factory"))},"5OQq":function(e,t,n){"use strict";n("snJg"),n("IoHx");var r="ui-activity-recent-directive-module";angular.module(r,[]).directive("countdownTimer",["$interval",function(e){return{restrict:"E",scope:{timestampfrom:"=",milliseconds:"=",callback:"&"},link:function(t,n,r){var o,i=t.timestampfrom,a=t.milliseconds;function l(){var r=a-((new Date).getTime()-i);r>999?n.text(function(e){var t=(e=Math.floor(e/1e3))%60;if(t>30?e+=60-t:e-=t,e<60)return"less than a minute";var n=(e=Math.floor(e/60))%60,r=(e=Math.floor(e/60))%24,o=(e=Math.floor(e/24),"");return e>0&&(o=e+"d "),r>0&&(o+=r+"h "),n>0&&(o+=n+"m"),o}(r)):(e.cancel(o),t.callback())}t.$watch("timestampfrom",function(e,t){e!=t&&(i=e,l())}),n.on("$destroy",function(){e.cancel(o)}),o=e(function(){l()},3e4),l()}}}]).directive("ngCanvasImage",["ui-rendering-factory",function(e){return{restrict:"A",link:function(t,n,r){t.$watch(r.ngCanvasImage,function(t){t&&e.drawCanvas(n,t)})}}}]).directive("recentDocs",function(){return{restrict:"E",template:(window.deviceDetect.isPhone()?['\n              <div> \n               <section class="title" translate="Recent Files"></section>\n               <p ng-show="recentFactory.isLoading" translate="Loading..." class="loading-text"></p>\n               \x3c!--<p ng-hide="recentFactory.isLoading || recentFactory.recentDocuments.length > 0" translate="There are no items to show"></p>--\x3e\n               <div class="flex-row recent-files-wrap">\n                  <div class="nav-item recent-item" ng-repeat="document in recentFactory.recentDocuments track by document.id">\n                    <div ng-canvas-image="document.thumbnail.data">\n                       <canvas ng-click="recentFactory.openRecentDocument(document)" name="recent-document-{{::document.name}}"></canvas>\n                    </div>\n                    <a class="close-btn" ng-click="recentFactory.removeDocumentWithId(document.id)"></a>\n                  </div>                  \n                </div>\n              </div>\n            ']:['<div class="recent-docs">','<div class="top-block">','<h2 translate="Recent"></h2>','<div class="flex-row"  ng-class="{\'disabled\': recentFactory.recentDocuments.length < 1}">','<a class="btn-clear" ng-click="recentFactory.clearRecentDocuments()">','<i class="icon"><svg class="icon-svg"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="images/symbol-defs-activity.svg#icon-clear" /></svg></i>','<span translate="Clear All"></span>',"</a>","<a class=\"btn-circle btn-list-view hover-tooltip\" ng-class=\"{'active': recentFactory.view === 'list'}\" ng-click=\"recentFactory.view='list'\">",'<i class="icon">','<svg class="icon-svg"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="images/symbol-defs-activity.svg#icon-list-view" /></svg>',"</i>",'<tooltip title="List view"></tooltip>',"</a>","<a class=\"btn-circle btn-page-view hover-tooltip\" ng-class=\"{'active': recentFactory.view === 'thumbnail'}\" ng-click=\"recentFactory.view='thumbnail'\">",'<i class="icon">','<svg class="icon-svg"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="images/symbol-defs-activity.svg#icon-page-view" /></svg>',"</i>",'<tooltip title="Thumbnail view"></tooltip>',"</a>","</div>","</div>",'<p ng-show="recentFactory.isLoading" translate="Loading..." class="loading-text"></p>','<div ng-hide="recentFactory.isLoading || recentFactory.recentDocuments.length > 0" >','<div class="open-document">','<div class="open-document__img-box">','<svg class="icon-svg">','<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="images/symbol-defs.svg#icon-open-section" />',"</svg>","</div>",'<div class="open-document__description">','<h3 translate="No document is open"></h3>','<p translate="Create New PDF or Open an existing document to start working."></p>','<p translate="Your documents will apear here."></p>',"</div>","</div>","</div>",'<div class="recent-docs-container clearfix" ng-show="recentFactory.recentDocuments.length > 0 && recentFactory.isLoading === false">','<ul class="recent-tile" ng-if="recentFactory.view === \'thumbnail\'">','<li ng-repeat="document in recentFactory.recentDocuments track by document.id">','<div class="img clearfix" ng-canvas-image="document.thumbnail.data">','<canvas width="127.5" height="165" ng-click="recentFactory.openRecentDocument(document)" title="{{::document.name}}" name="recent-document-{{::document.name}}"></canvas>','\x3c!--<div class="btn-container">','<span class="font-icon font-icon-close" ng-click="recentFactory.removeDocumentWithId(document.id)"></span>',"</div>--\x3e","</div>",'<div class="text-box">','<span class="title">{{::document.name | truncate:20}}</span>','<span class="time">','<span translate="available for"></span>&nbsp;','<countdown-timer timestampfrom="document.lastAccessDateTime" milliseconds="recentFactory.avaliablePeriod" callback="recentFactory.removeDocumentWithId(document.id, true)" />',"</span>",'<div class="pin-holder" ng-show="document.pin">','<i class="icon">','<svg class="icon-svg"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="images/symbol-defs-activity.svg#icon-pin" /></svg>',"</i>","</div>","</div>",'<div class="btn-more-holder" ng-class="{\'active\': document.more}" id="{{::document.id}}" ng-lost-focus="document.more = false" tabindex="1020"  focus-me="document.more" ignore-list="{{::document.id}}">','<a class="btn-circle btn-more hover-tooltip" ng-click="document.more = !document.more">','<i class="icon">','<svg class="icon-svg"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="images/symbol-defs-activity.svg#icon-more" /></svg>',"</i>",'<tooltip title="More"></tooltip>',"</a>",'<div class="recent-context-menu" type="context">','\x3c!--<div class="menuitem" label="pin-item" ng-click="recentFactory.pin(document)">','<i class="icon">','<svg class="icon-svg"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="" ng-attr-xlink:href="{{document.pin ? \'images/symbol-defs-activity.svg#icon-unpin\' : \'images/symbol-defs-activity.svg#icon-pin\'}}"xlink:href="images/symbol-defs-activity.svg#icon-pin" /></svg>',"</i>","<span translate=\"{{document.pin ? 'Unpin': 'Pin'}} to the top of the list\"></span>","</div>--\x3e",'<div class="menuitem" label="remove-item" ng-click="recentFactory.removeDocumentWithId(document.id)">','<i class="icon">','<svg class="icon-svg"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="images/symbol-defs-activity.svg#icon-remove" /></svg>',"</i>",'<span translate="Remove"></span>',"</div>","</div>","</div>","</li>","</ul>",'<ul class="recent-list" ng-if="recentFactory.view === \'list\'">','<li ng-repeat="document in recentFactory.recentDocuments track by document.id">','<div class="info-holder" ng-click="recentFactory.openRecentDocument(document)" title="{{::document.name}}">','<div class="img clearfix">','<i class="icon">','<svg class="icon-svg"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="images/symbol-defs-activity.svg#icon-pdf" /></svg>',"</i>","</div>",'<div class="text-box">','<span class="title">{{::document.name | truncate:20}}</span>','<span class="time">','<span translate="available for"></span>&nbsp;','<countdown-timer timestampfrom="document.lastAccessDateTime" milliseconds="recentFactory.avaliablePeriod" callback="recentFactory.removeDocumentWithId(document.id, true)" />',"</span>","</div>","</div>",'\x3c!--<div class="btn-container">','<span class="font-icon font-icon-close" ng-click="recentFactory.removeDocumentWithId(document.id)"></span>',"</div>--\x3e",'<div class="pin-holder" ng-show="document.pin">','<i class="icon">','<svg class="icon-svg"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="images/symbol-defs-activity.svg#icon-pin" /></svg>',"</i>","</div>",'<div class="btn-more-holder" ng-class="{\'active\': document.more}" id="{{::document.id}}" ng-lost-focus="document.more = false" tabindex="1020"  focus-me="document.more" ignore-list="{{::document.id}}">','<a class="btn-circle btn-more hover-tooltip" ng-click="document.more = !document.more">','<i class="icon">','<svg class="icon-svg"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="images/symbol-defs-activity.svg#icon-more" /></svg>',"</i>",'<tooltip title="More"></tooltip>',"</a>",'<div class="recent-context-menu" type="context">','\x3c!--div class="menuitem" label="pin-item" ng-click="recentFactory.pin(document)">','<i class="icon">','<svg class="icon-svg"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="" ng-attr-xlink:href="{{document.pin ? \'images/symbol-defs-activity.svg#icon-unpin\' : \'images/symbol-defs-activity.svg#icon-pin\'}}"xlink:href="images/symbol-defs-activity.svg#icon-pin" /></svg>',"</i>","<span translate=\"{{document.pin ? 'Unpin': 'Pin'}} to the top of the list\"></span>","</div>--\x3e",'<div class="menuitem" label="remove-item" ng-click="recentFactory.removeDocumentWithId(document.id)">','<i class="icon">','<svg class="icon-svg"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="images/symbol-defs-activity.svg#icon-remove" /></svg>',"</i>",'<span translate="Remove"></span>',"</div>","</div>","</div>","</li>","</ul>","</div>","</div>"]).join(""),replace:!0}}),window.mainApp.directive("countdownTimer",getConstructor(r,"countdownTimer","directive")),window.mainApp.directive("ngCanvasImage",getConstructor(r,"ngCanvasImage","directive")),window.mainApp.directive("recentDocs",getConstructor(r,"recentDocs","directive"))},"5QSM":function(e,t,n){"use strict";var r=i(n("b8L+")),o=i(n("oRGr"));function i(e){return e&&e.__esModule?e:{default:e}}n("VVVL");var a="bl-ocr-idrs-zone-factory";angular.module("bl-ocr-idrs-zone-module",["geometry-factory-module"]).factory(a,["$q","$rootScope","geometry-factory",function(e,t,n){var i=function(e){switch(e){case o.default.OcrZoneType.kOcrZoneNone:return o.default.OcrZoneColor.kHandAreaColor;case o.default.OcrZoneType.kOcrZoneText:return o.default.OcrZoneColor.kTextAreaColor;case o.default.OcrZoneType.kOcrZoneGraphic:return o.default.OcrZoneColor.kGraphicAreaColor;case o.default.OcrZoneType.kOcrZoneTable:return o.default.OcrZoneColor.kTableAreaColor;case o.default.OcrZoneType.kOcrZoneBarcode:return o.default.OcrZoneColor.kBarcodeAreaColor;case o.default.OcrZoneType.kOcrZoneHand:return o.default.OcrZoneColor.kHandAreaColor}return o.default.OcrZoneColor.kNoneAreaColor},a=function e(t){var a=null,l=[],u=[];a=t;for(var c=0,s=t.lines.length;c<s;c++)l.push(t.lines[c]);this.transform=function(e){a.isRectangle||d();var t=e.mapRect(a.rect.copy());a.rect=t.floor(),f(e),p(e)},this.hitTest=function(e){return!!a.rect.copy().containsPoint(e)},this.insertSeparator=function(e,t){e>u.length?console.log("Index out of range"):u.splice(e,0,t)},this.removeSeparator=function(e){e>=u.length?console.log("Index out of range"):u.splice(e,1)},this.getSeparatorsCount=function(){return u.length},this.getSeparator=function(e){return e>=u.length?(console.log("Index out of range"),null):u[e]},this.draw=function(e,t){e&&t&&(e.pushState(),g(e,t),a.isRectangle||h(e,t),m(e,t),e.popState())},this.getRect=function(){return a.rect.copy()},this.getType=function(){return a.type},this.getOcrZone=function(){return a},this.clone=function(){return new e(angular.copy(a))};var d=function(){l=[];var e=a.rect,t=[e.right,e.left,e.top],n=[e.left,e.right,e.bottom];l.push(n),l.push(t),a.lines=l,a.isRectangle=!0},f=function(e){for(var t=0,n=l.length;t<n;t++){var o=l[t],i=e.mapPoint(r.default.point(o[0],o[2])).floor(),a=e.mapPoint(r.default.point(o[1],o[2])).floor();o[0]=i.x,o[1]=a.x,o[2]=i.y}},p=function(e){for(var t=0,n=u.length;t<n;t++){var i=u[t];switch(i.type){case o.default.OcrZoneSeparatorType.kOcrZoneHorzSeparator:var a=e.mapPoint(r.default.point(0,i.position)).floor();i.position=a.y;break;case o.default.OcrZoneSeparatorType.kOcrZoneVertSeparator:var l=e.mapPoint(r.default.point(i.position,0)).floor();i.position=l.x}}},g=function(e,t){var n=i(a.type),r=t.mapRectToView(a.rect);e.strokeRect(r,n)},h=function(e,t){for(var o=i(a.type),u=parseInt("5F",16),c="rgba("+parseInt(o.substring(1,3),16)+", "+parseInt(o.substring(3,5),16)+", "+parseInt(o.substring(5,7),16)+", "+u/255+")",s=null,d=0,f=l.length;d<f;d++){var p=l[d],g=t.mapPointToView(r.default.point(p[0],p[2])).floor(),h=t.mapPointToView(r.default.point(p[1],p[2])).floor();g.offset(.5,.5),h.offset(.5,.5),s?s.lineTo(g):(s=n.createGeometry()).beginFigure(g),s.lineTo(h)}s&&(s.endFigureClose(),e.strokeGeometry(s,c,.5))},m=function(e,t){for(var l=i(a.type),c=0,s=u.length;c<s;c++){var d=u[c],f=r.default.point(),p=r.default.point();switch(d.type){case o.default.OcrZoneSeparatorType.kOcrZoneHorzSeparator:f=t.mapPointToView(r.default.point(a.rect.left,d.position)).floor(),p=t.mapPointToView(r.default.point(a.rect.right,d.position)).floor();break;case o.default.OcrZoneSeparatorType.kOcrZoneVertSeparator:f=t.mapPointToView(r.default.point(d.position,a.rect.top)).floor(),p=t.mapPointToView(r.default.point(d.position,a.rect.bottom)).floor()}f.offset(.5,.5),p.offset(.5,.5);var g=n.createGeometry();g.beginFigure(f),g.lineTo(p),g.endFigure(),e.strokeGeometry(g,l,1)}}};return{createInstance:function(e){return new a(e)},createZone:function(e,t){var n={};n.rect=e?e.copy():r.default.rect(),n.isRectangle=!0,n.type=t,n.lines=[];var o=[e.right,e.left,e.top],i=[e.left,e.right,e.bottom];return n.lines.push(o),n.lines.push(i),new a(n)},getZoneColor:i}}]),window.mainApp.factory(a,getConstructor("bl-ocr-idrs-zone-module",a,"factory"))},"5UMD":function(e,t,n){"use strict";var r=function(e){return e&&e.__esModule?e:{default:e}}(n("b8L+"));var o="bl-edit-utilites-service";angular.module("bl-edit-utilites-module",[]).service(o,["$rootScope",function(e){var t={correctCTMToRespectPageBox:function(e,t,n){var o=n.mapQuad(r.default.quadFromRect(t));if(o.hasIntersectionRect(e))return n;var i=o.getBound();if(i.bottom>i.top){var a=i.bottom;i.bottom=i.top,i.top=a}var l=r.default.point(),u=i.getSize();return e.right>i.right&&i.left>e.left||(e.left>i.right?l.x=e.left-i.right+u.width:e.right<i.left&&(l.x=e.right-i.left-u.width)),e.top>i.top&&i.bottom>e.bottom||(e.bottom>i.top?l.y=e.bottom-i.top+u.height:e.top<i.bottom&&(l.y=e.top-i.bottom-u.height)),0==l.x&&0==l.y&&(e.left>i.left?l.x=e.left-i.left:e.right<i.right&&(l.x=e.right-i.right),e.top<i.top?l.y=e.top-i.top:e.bottom>i.bottom&&(l.y=e.bottom-i.bottom)),n.multiply(r.default.translationMatrix(l.x,l.y))},correctRectToRespectPageBox:function(e,t){if(t.hasIntersection(e))return t;var n=t.copy();if(n.bottom>n.top){var o=n.bottom;n.bottom=n.top,n.top=o}var i=r.default.point(),a=n.getSize();return e.right>n.right&&n.left>e.left||(e.left>n.right?i.x=e.left-n.right+a.width:e.right<n.left&&(i.x=e.right-n.left-a.width)),e.top>n.top&&n.bottom>e.bottom||(e.bottom>n.top?i.y=e.bottom-n.top+a.height:e.top<n.bottom&&(i.y=e.top-n.bottom-a.height)),0==i.x&&0==i.y&&(e.left>n.left?i.x=e.left-n.left:e.right<n.right&&(i.x=e.right-n.right),e.top<n.top?i.y=e.top-n.top:e.bottom>n.bottom&&(i.y=e.bottom-n.bottom)),n.offset(i.x,i.y),n},shouldSkipContainer:function(e){var t=!1;if(!isUndefinedOrNull(e.artifact)){var n=e.artifact;"Background"!==n&&"PageNumber"!==n&&"Watermark"!==n&&"BatesN"!==n&&"Header"!==n||(t=!0)}return t}};return t}]),window.mainApp.service(o,getConstructor("bl-edit-utilites-module",o,"service"))},"6Drf":function(e,t,n){"use strict";var r=i(n("eWOG")),o=i(n("b8L+"));function i(e){return e&&e.__esModule?e:{default:e}}n("v+Fc");var a="form-textlayout-factory";function l(e){var t={},n=0,i=1,a=2;return t.createInstance=function(i){return new function(i){var a,l,u=this,c=function(){this.start_index=0,this.num_phrases=0,this.advance=0},s=function(){this.words=[],this.num_symbols=0,this.length=0},d="",f=n,p=Number.MAX_VALUE,g=i,h=1,m=!1,v=!1,y=!1,b=0,x=!0,S=!1,P=[],k=[];u.setText=function(e){if(e){var t=e;p>0&&p<e.length&&(t=e.spliceSlice(0,p)),d!=t&&(d=t,x=!0)}},u.keyStroke=function(e,t,n){e<d.length&&t>e&&(d=d.substring(0,e)+d.substring(t,d.length));var r=Number.MAX_VALUE;if(p>0&&(r=p-d.length),0!=r){var o=n;r<n.length&&(o=n.spliceSlice(0,r)),e<d.length?d=[d.slice(0,e),o,d.slice(e)].join(""):d+=o,x=!0}},u.getText=function(){return d},u.setLineHeightFactor=function(e){h!=e&&(h=e,x=!0)},u.getLineHeightFactor=function(){return h},u.setQuadding=function(e){f!=e&&(f=e,x=!0)},u.getQuadding=function(){return f},u.setWordWrap=function(e){l!=e&&(l=e,x=!0)},u.getWordWrap=function(){return l},u.setBound=function(e){a!=e&&(a=e,x=!0)},u.getBound=function(){return a},u.setFontSize=function(e){g!=e&&(g=e,x=!0)},u.getFontSize=function(){return g},u.setMaxLen=function(e){e!=p&&(e>0&&(p<=0||e<p)&&(d=d.spliceSlice(0,e)),p=e,x=!0)},u.getMaxLen=function(){return p},u.getTopLine=function(){return b},u.setTopLine=function(e){if(y)b=0;else{var t=k.length-u.getMaxLinesCount();b=Math.max(Math.min(e,t),0),x=!0}},u.hasScroll=function(){return S},u.setMultiline=function(e){m!=e&&(m=e,x=!0)},u.isMultiline=function(){return m},u.setPassword=function(e){v!=e&&(v=e,x=!0)},u.isPassword=function(){return v},u.setComb=function(e){y!=e&&(y=e,x=!0)},u.isComb=function(){return y},u.getSymbolsCount=function(){return d.length},u.getLinesCount=function(){return k.length},u.getMaxLinesCount=function(){var e=h*g,t=parseInt(a.getHeight()/e);return Math.max(t,1)},u.getFirstSymbol=function(e){if(e>=k.length)return d.length;for(var t=0,n=0;n<e;n++)t+=u.getNumSymbolsOnLine(n);return t},u.getNumSymbolsOnLine=function(e){return e>=k.length?0:k[e].num_symbols},u.getLastSymbol=function(e){return e>=k.length?d.length:u.getFirstSymbol(e)+u.getNumSymbolsOnLine(e)-1},u.getLineWithSymbol=function(e){for(var t=0,n=0;n<k.length;++n)if((t+=u.getNumSymbolsOnLine(n))>e)return n;return u.getLinesCount()-1},u.getSymbolAtPoint=function(e){var t=b;t>0&&--t;var n=u.getFirstSymbol(t),r=b+u.getMaxLinesCount()+1,i=u.getLinesCount();(y||r>i)&&(r=i);for(var a=t;a<r;++a){var l=k[a],c=(g=P[l.words[0].start_index]).getRect();if(!o.default.floatLt(c.max_y(),e.y)){for(var s=0;s<l.words.length;s++)for(var f=l.words[s],p=0;p<f.num_phrases;p++){c=(g=P[f.start_index+p]).getRect();for(var g,h=g._text.length,m=c.min_x(),v=0;v<h;++v){var x=g.getSymbolRect(v).getWidth();if(m+=x,o.default.floatLt(e.x,m))return o.default.floatLt(e.x,m-.5*x)||o.default.floatEq(m,c.max_x())?n+v:n+ ++v}n+=h}if(!y)return a!=i-1?n-1:n}n+=l.num_symbols}return d.length},u.getCharQuad=function(e){for(var t=0,n=0;n<k.length;++n){var r=k[n].num_symbols;if(t+r>e)for(var i=0;i<k[n].words.length;i++)for(var a=k[n].words[i],l=0;l<a.num_phrases;++l){var u=P[a.start_index+l],c=u._text.length;if(t+c>e)return u.getSymbolQuad(e-t);t+=c}t+=r}var s,d=P.length-1,f=P[d];if(0==f._text.length){var p=(s=f.getRect()).min_x();s.left=s.right=p}else{var g=(s=f.getSymbolRect(f._text.length-1)).max_x();s.left=s.right=g}return o.default.quadFromRect(s)},u.getLineRect=function(e){var t;if(e<k.length)for(var n=k[e],r=0;r<n.words.length;r++)for(var i=n.words[r],a=0;a<i.num_phrases;++a){var l=P[i.start_index+a].getRect();t=t.isAreaEmpty()?l:o.default.unionRects(t,l)}return t},u.getMaxLineWidth=function(){for(var e=0,t=0;t<k.length;t++){var n=k[t];e<n.length&&(e=n.length)}return e},u.getLineHeight=function(){return h*g},u.isNeedUpdate=function(){return x},u.update=function(){if(x){var t=r.default.field.getFontName();P=[],k=[],S=!1;var n=0;y&&p>0&&(n=a.getWidth()/p);var i=o.default.rect(0,a.getHeight(),n,0);i.offset(a.min_x(),a.min_y());var f=h*g,T=b,w=a.min_x(),C=a.min_y();m?C-=T*f:C+=(a.getHeight()-g)/2;var B=e.createInstance(t,g);B.translate(w,C),P.push(B);var L=new c;L.start_index=0,L.num_phrases=1,L.advance=0;var F=new s;F.words.push(L);for(var A=0,_=d.replace(new RegExp("\r\n","g"),"\n"),M=0;M<_.length;M++){var E=v?"*":_[M];E<" "&&(E=" "),B._text+=E;var R=B.getSymbolRect(B._text.length-1).getWidth();if(A+=R,L.advance+=R,w+=R,y){if(A>n){var I=n/A;B.scale(I),A=B.getRect().getWidth()}F=u.finishLine(F,n,A),i.offset(n,0),w=i.min_x(),(B=e.createInstance(t,g)).translate(w,C),P.push(B),(L=new c).start_index=P.length-1,L.num_phrases=1,L.advance=0,(F=new s).words.push(L),A=0}if(m&&("\n"!=_[M]&&"\r"!=_[M]||(A-=R,L.advance-=R,w-=R,u.finishLine(F,a.getWidth(),A),w=a.min_x(),C+=f,(B=e.createInstance(t,g)).translate(w,C),P.push(B),(L=new c).start_index=P.length-1,L.num_phrases=1,L.advance=0,(F=new s).words.push(L),A=0),l&&A>a.getWidth())){var O=0;if(F.words.length>1){O+=L.advance,A-=L.advance;var D=w-L.advance,N=C;F.words.pop(),u.finishLine(F,a.getWidth(),A);for(var U=(w=a.min_x())-D,H=(C+=f)-N,j=0;j<L.num_phrases;++j)P[L.start_index+j].translate(U,H)}else{var G=e.createInstance(t,g);O+=R,A-=R,L.advance-=R,G._text+=B._text[B._text.length-1],B._text=B._text.slice(0,-1),u.finishLine(F,a.getWidth(),A),w=a.min_x(),C+=f,(B=G).translate(w,C),P.push(B),(L=new c).start_index=P.length-1,L.num_phrases=1,L.advance=O}(F=new s).words.push(L),A=O,w+=O}}u.finishLine(F,a.getWidth(),A);var z=k.length,V=u.getMaxLinesCount();x=!1,y||z<=V?(S=!1,0!=b&&(u.setTopLine(0),u.update())):(S=!0,0!=b&&z-b<V&&(u.setTopLine(z-V),u.update()))}},u.finishLine=function(e,n,r){var o=t.getLineOffset(f,n,r,y);e.length=r,e.num_symbols=0;for(var i=0;i<e.words.length;++i)for(var a=e.words[i],l=0;l<a.num_phrases;++l){var u=P[a.start_index+l];e.num_symbols+=u._text.length,u.translate(o,0)}k.push(e)}}(i)},t.getLineOffset=function(e,t,r,o){if(void 0===o&&(o=!1),o)return.5*(t-r);switch(e){case n:return 0;case i:return.5*(t-r);case a:return t-r}return 0},t}angular.module("form-textlayout-factory-module",[]).factory(a,l),l.$inject=["form-phrase-factory"],window.mainApp.factory(a,getConstructor("form-textlayout-factory-module",a,"factory"))},"6ltY":function(e,t,n){(function(e,r){var o;
/*!
 * Platform.js v1.3.6
 * Copyright 2014-2020 Benjamin Tan
 * Copyright 2011-2013 John-David Dalton
 * Available under MIT license
 */(function(){"use strict";var i={function:!0,object:!0},a=i[typeof window]&&window||this,l=i[typeof t]&&t,u=i[typeof e]&&e&&!e.nodeType&&e,c=l&&u&&"object"==typeof r&&r;!c||c.global!==c&&c.window!==c&&c.self!==c||(a=c);var s=Math.pow(2,53)-1,d=/\bOpera/,f=Object.prototype,p=f.hasOwnProperty,g=f.toString;function h(e){return(e=String(e)).charAt(0).toUpperCase()+e.slice(1)}function m(e){return e=S(e),/^(?:webOS|i(?:OS|P))/.test(e)?e:h(e)}function v(e,t){for(var n in e)p.call(e,n)&&t(e[n],n,e)}function y(e){return null==e?h(e):g.call(e).slice(8,-1)}function b(e){return String(e).replace(/([ -])(?!$)/g,"$1?")}function x(e,t){var n=null;return function(e,t){var n=-1,r=e?e.length:0;if("number"==typeof r&&r>-1&&r<=s)for(;++n<r;)t(e[n],n,e);else v(e,t)}(e,function(r,o){n=t(n,r,o,e)}),n}function S(e){return String(e).replace(/^ +| +$/g,"")}var P=function e(t){var n=a,r=t&&"object"==typeof t&&"String"!=y(t);r&&(n=t,t=null);var o=n.navigator||{},i=o.userAgent||"";t||(t=i);var l,u,c=r?!!o.likeChrome:/\bChrome\b/.test(t)&&!/internal|\n/i.test(g.toString()),s=r?"Object":"ScriptBridgingProxyObject",f=r?"Object":"Environment",p=r&&n.java?"JavaPackage":y(n.java),h=r?"Object":"RuntimeObject",P=/\bJava/.test(p)&&n.java,k=P&&y(n.environment)==f,T=P?"a":"α",w=P?"b":"β",C=n.document||{},B=n.operamini||n.opera,L=d.test(L=r&&B?B["[[Class]]"]:y(B))?L:B=null,F=t,A=[],_=null,M=t==i,E=M&&B&&"function"==typeof B.version&&B.version(),R=function(e){return x(e,function(e,n){return e||RegExp("\\b"+(n.pattern||b(n))+"\\b","i").exec(t)&&(n.label||n)})}([{label:"EdgeHTML",pattern:"Edge"},"Trident",{label:"WebKit",pattern:"AppleWebKit"},"iCab","Presto","NetFront","Tasman","KHTML","Gecko"]),I=function(e){return x(e,function(e,n){return e||RegExp("\\b"+(n.pattern||b(n))+"\\b","i").exec(t)&&(n.label||n)})}(["Adobe AIR","Arora","Avant Browser","Breach","Camino","Electron","Epiphany","Fennec","Flock","Galeon","GreenBrowser","iCab","Iceweasel","K-Meleon","Konqueror","Lunascape","Maxthon",{label:"Microsoft Edge",pattern:"(?:Edge|Edg|EdgA|EdgiOS)"},"Midori","Nook Browser","PaleMoon","PhantomJS","Raven","Rekonq","RockMelt",{label:"Samsung Internet",pattern:"SamsungBrowser"},"SeaMonkey",{label:"Silk",pattern:"(?:Cloud9|Silk-Accelerated)"},"Sleipnir","SlimBrowser",{label:"SRWare Iron",pattern:"Iron"},"Sunrise","Swiftfox","Vivaldi","Waterfox","WebPositive",{label:"Yandex Browser",pattern:"YaBrowser"},{label:"UC Browser",pattern:"UCBrowser"},"Opera Mini",{label:"Opera Mini",pattern:"OPiOS"},"Opera",{label:"Opera",pattern:"OPR"},"Chromium","Chrome",{label:"Chrome",pattern:"(?:HeadlessChrome)"},{label:"Chrome Mobile",pattern:"(?:CriOS|CrMo)"},{label:"Firefox",pattern:"(?:Firefox|Minefield)"},{label:"Firefox for iOS",pattern:"FxiOS"},{label:"IE",pattern:"IEMobile"},{label:"IE",pattern:"MSIE"},"Safari"]),O=U([{label:"BlackBerry",pattern:"BB10"},"BlackBerry",{label:"Galaxy S",pattern:"GT-I9000"},{label:"Galaxy S2",pattern:"GT-I9100"},{label:"Galaxy S3",pattern:"GT-I9300"},{label:"Galaxy S4",pattern:"GT-I9500"},{label:"Galaxy S5",pattern:"SM-G900"},{label:"Galaxy S6",pattern:"SM-G920"},{label:"Galaxy S6 Edge",pattern:"SM-G925"},{label:"Galaxy S7",pattern:"SM-G930"},{label:"Galaxy S7 Edge",pattern:"SM-G935"},"Google TV","Lumia","iPad","iPod","iPhone","Kindle",{label:"Kindle Fire",pattern:"(?:Cloud9|Silk-Accelerated)"},"Nexus","Nook","PlayBook","PlayStation Vita","PlayStation","TouchPad","Transformer",{label:"Wii U",pattern:"WiiU"},"Wii","Xbox One",{label:"Xbox 360",pattern:"Xbox"},"Xoom"]),D=function(e){return x(e,function(e,n,r){return e||(n[O]||n[/^[a-z]+(?: +[a-z]+\b)*/i.exec(O)]||RegExp("\\b"+b(r)+"(?:\\b|\\w*\\d)","i").exec(t))&&r})}({Apple:{iPad:1,iPhone:1,iPod:1},Alcatel:{},Archos:{},Amazon:{Kindle:1,"Kindle Fire":1},Asus:{Transformer:1},"Barnes & Noble":{Nook:1},BlackBerry:{PlayBook:1},Google:{"Google TV":1,Nexus:1},HP:{TouchPad:1},HTC:{},Huawei:{},Lenovo:{},LG:{},Microsoft:{Xbox:1,"Xbox One":1},Motorola:{Xoom:1},Nintendo:{"Wii U":1,Wii:1},Nokia:{Lumia:1},Oppo:{},Samsung:{"Galaxy S":1,"Galaxy S2":1,"Galaxy S3":1,"Galaxy S4":1},Sony:{PlayStation:1,"PlayStation Vita":1},Xiaomi:{Mi:1,Redmi:1}}),N=function(e){return x(e,function(e,n){var r=n.pattern||b(n);return!e&&(e=RegExp("\\b"+r+"(?:/[\\d.]+|[ \\w.]*)","i").exec(t))&&(e=function(e,t,n){var r={"10.0":"10",6.4:"10 Technical Preview",6.3:"8.1",6.2:"8",6.1:"Server 2008 R2 / 7","6.0":"Server 2008 / Vista",5.2:"Server 2003 / XP 64-bit",5.1:"XP",5.01:"2000 SP1","5.0":"2000","4.0":"NT","4.90":"ME"};return t&&n&&/^Win/i.test(e)&&!/^Windows Phone /i.test(e)&&(r=r[/[\d.]+$/.exec(e)])&&(e="Windows "+r),e=String(e),t&&n&&(e=e.replace(RegExp(t,"i"),n)),e=m(e.replace(/ ce$/i," CE").replace(/\bhpw/i,"web").replace(/\bMacintosh\b/,"Mac OS").replace(/_PowerPC\b/i," OS").replace(/\b(OS X) [^ \d]+/i,"$1").replace(/\bMac (OS X)\b/,"$1").replace(/\/(\d)/," $1").replace(/_/g,".").replace(/(?: BePC|[ .]*fc[ \d.]+)$/i,"").replace(/\bx86\.64\b/gi,"x86_64").replace(/\b(Windows Phone) OS\b/,"$1").replace(/\b(Chrome OS \w+) [\d.]+\b/,"$1").split(" on ")[0])}(e,r,n.label||n)),e})}(["Windows Phone","KaiOS","Android","CentOS",{label:"Chrome OS",pattern:"CrOS"},"Debian",{label:"DragonFly BSD",pattern:"DragonFly"},"Fedora","FreeBSD","Gentoo","Haiku","Kubuntu","Linux Mint","OpenBSD","Red Hat","SuSE","Ubuntu","Xubuntu","Cygwin","Symbian OS","hpwOS","webOS ","webOS","Tablet OS","Tizen","Linux","Mac OS X","Macintosh","Mac","Windows 98;","Windows "]);function U(e){return x(e,function(e,n){var r=n.pattern||b(n);return!e&&(e=RegExp("\\b"+r+" *\\d+[.\\w_]*","i").exec(t)||RegExp("\\b"+r+" *\\w+-[\\w]*","i").exec(t)||RegExp("\\b"+r+"(?:; *(?:[a-z]+[_-])?[a-z]+\\d+|[^ ();-]*)","i").exec(t))&&((e=String(n.label&&!RegExp(r,"i").test(n.label)?n.label:e).split("/"))[1]&&!/[\d.]+/.test(e[0])&&(e[0]+=" "+e[1]),n=n.label||n,e=m(e[0].replace(RegExp(r,"i"),n).replace(RegExp("; *(?:"+n+"[_-])?","i")," ").replace(RegExp("("+n+")[-_.]?(\\w)","i"),"$1 $2"))),e})}function H(e){return x(e,function(e,n){return e||(RegExp(n+"(?:-[\\d.]+/|(?: for [\\w-]+)?[ /-])([\\d.]+[^ ();/_-]*)","i").exec(t)||0)[1]||null})}if(R&&(R=[R]),/\bAndroid\b/.test(N)&&!O&&(l=/\bAndroid[^;]*;(.*?)(?:Build|\) AppleWebKit)\b/i.exec(t))&&(O=S(l[1]).replace(/^[a-z]{2}-[a-z]{2};\s*/i,"")||null),D&&!O?O=U([D]):D&&O&&(O=O.replace(RegExp("^("+b(D)+")[-_.\\s]","i"),D+" ").replace(RegExp("^("+b(D)+")[-_.]?(\\w)","i"),D+" $2")),(l=/\bGoogle TV\b/.exec(O))&&(O=l[0]),/\bSimulator\b/i.test(t)&&(O=(O?O+" ":"")+"Simulator"),"Opera Mini"==I&&/\bOPiOS\b/.test(t)&&A.push("running in Turbo/Uncompressed mode"),"IE"==I&&/\blike iPhone OS\b/.test(t)?(D=(l=e(t.replace(/like iPhone OS/,""))).manufacturer,O=l.product):/^iP/.test(O)?(I||(I="Safari"),N="iOS"+((l=/ OS ([\d_]+)/i.exec(t))?" "+l[1].replace(/_/g,"."):"")):"Konqueror"==I&&/^Linux\b/i.test(N)?N="Kubuntu":D&&"Google"!=D&&(/Chrome/.test(I)&&!/\bMobile Safari\b/i.test(t)||/\bVita\b/.test(O))||/\bAndroid\b/.test(N)&&/^Chrome/.test(I)&&/\bVersion\//i.test(t)?(I="Android Browser",N=/\bAndroid\b/.test(N)?N:"Android"):"Silk"==I?(/\bMobi/i.test(t)||(N="Android",A.unshift("desktop mode")),/Accelerated *= *true/i.test(t)&&A.unshift("accelerated")):"UC Browser"==I&&/\bUCWEB\b/.test(t)?A.push("speed mode"):"PaleMoon"==I&&(l=/\bFirefox\/([\d.]+)\b/.exec(t))?A.push("identifying as Firefox "+l[1]):"Firefox"==I&&(l=/\b(Mobile|Tablet|TV)\b/i.exec(t))?(N||(N="Firefox OS"),O||(O=l[1])):!I||(l=!/\bMinefield\b/i.test(t)&&/\b(?:Firefox|Safari)\b/.exec(I))?(I&&!O&&/[\/,]|^[^(]+?\)/.test(t.slice(t.indexOf(l+"/")+8))&&(I=null),(l=O||D||N)&&(O||D||/\b(?:Android|Symbian OS|Tablet OS|webOS)\b/.test(N))&&(I=/[a-z]+(?: Hat)?/i.exec(/\bAndroid\b/.test(N)?N:l)+" Browser")):"Electron"==I&&(l=(/\bChrome\/([\d.]+)\b/.exec(t)||0)[1])&&A.push("Chromium "+l),E||(E=H(["(?:Cloud9|CriOS|CrMo|Edge|Edg|EdgA|EdgiOS|FxiOS|HeadlessChrome|IEMobile|Iron|Opera ?Mini|OPiOS|OPR|Raven|SamsungBrowser|Silk(?!/[\\d.]+$)|UCBrowser|YaBrowser)","Version",b(I),"(?:Firefox|Minefield|NetFront)"])),(l=("iCab"==R&&parseFloat(E)>3?"WebKit":/\bOpera\b/.test(I)&&(/\bOPR\b/.test(t)?"Blink":"Presto"))||/\b(?:Midori|Nook|Safari)\b/i.test(t)&&!/^(?:Trident|EdgeHTML)$/.test(R)&&"WebKit"||!R&&/\bMSIE\b/i.test(t)&&("Mac OS"==N?"Tasman":"Trident")||"WebKit"==R&&/\bPlayStation\b(?! Vita\b)/i.test(I)&&"NetFront")&&(R=[l]),"IE"==I&&(l=(/; *(?:XBLWP|ZuneWP)(\d+)/i.exec(t)||0)[1])?(I+=" Mobile",N="Windows Phone "+(/\+$/.test(l)?l:l+".x"),A.unshift("desktop mode")):/\bWPDesktop\b/i.test(t)?(I="IE Mobile",N="Windows Phone 8.x",A.unshift("desktop mode"),E||(E=(/\brv:([\d.]+)/.exec(t)||0)[1])):"IE"!=I&&"Trident"==R&&(l=/\brv:([\d.]+)/.exec(t))&&(I&&A.push("identifying as "+I+(E?" "+E:"")),I="IE",E=l[1]),M){if(function(e,t){var n=null!=e?typeof e[t]:"number";return!(/^(?:boolean|number|string|undefined)$/.test(n)||"object"==n&&!e[t])}(n,"global"))if(P&&(F=(l=P.lang.System).getProperty("os.arch"),N=N||l.getProperty("os.name")+" "+l.getProperty("os.version")),k){try{E=n.require("ringo/engine").version.join("."),I="RingoJS"}catch(e){(l=n.system)&&l.global.system==n.system&&(I="Narwhal",N||(N=l[0].os||null))}I||(I="Rhino")}else"object"==typeof n.process&&!n.process.browser&&(l=n.process)&&("object"==typeof l.versions&&("string"==typeof l.versions.electron?(A.push("Node "+l.versions.node),I="Electron",E=l.versions.electron):"string"==typeof l.versions.nw&&(A.push("Chromium "+E,"Node "+l.versions.node),I="NW.js",E=l.versions.nw)),I||(I="Node.js",F=l.arch,N=l.platform,E=(E=/[\d.]+/.exec(l.version))?E[0]:null));else y(l=n.runtime)==s?(I="Adobe AIR",N=l.flash.system.Capabilities.os):y(l=n.phantom)==h?(I="PhantomJS",E=(l=l.version||null)&&l.major+"."+l.minor+"."+l.patch):"number"==typeof C.documentMode&&(l=/\bTrident\/(\d+)/i.exec(t))?(E=[E,C.documentMode],(l=+l[1]+4)!=E[1]&&(A.push("IE "+E[1]+" mode"),R&&(R[1]=""),E[1]=l),E="IE"==I?String(E[1].toFixed(1)):E[0]):"number"==typeof C.documentMode&&/^(?:Chrome|Firefox)\b/.test(I)&&(A.push("masking as "+I+" "+E),I="IE",E="11.0",R=["Trident"],N="Windows");N=N&&m(N)}if(E&&(l=/(?:[ab]|dp|pre|[ab]\d+pre)(?:\d+\+?)?$/i.exec(E)||/(?:alpha|beta)(?: ?\d)?/i.exec(t+";"+(M&&o.appMinorVersion))||/\bMinefield\b/i.test(t)&&"a")&&(_=/b/i.test(l)?"beta":"alpha",E=E.replace(RegExp(l+"\\+?$"),"")+("beta"==_?w:T)+(/\d+\+?/.exec(l)||"")),"Fennec"==I||"Firefox"==I&&/\b(?:Android|Firefox OS|KaiOS)\b/.test(N))I="Firefox Mobile";else if("Maxthon"==I&&E)E=E.replace(/\.[\d.]+/,".x");else if(/\bXbox\b/i.test(O))"Xbox 360"==O&&(N=null),"Xbox 360"==O&&/\bIEMobile\b/.test(t)&&A.unshift("mobile mode");else if(!/^(?:Chrome|IE|Opera)$/.test(I)&&(!I||O||/Browser|Mobi/.test(I))||"Windows CE"!=N&&!/Mobi/i.test(t))if("IE"==I&&M)try{null===n.external&&A.unshift("platform preview")}catch(e){A.unshift("embedded")}else(/\bBlackBerry\b/.test(O)||/\bBB10\b/.test(t))&&(l=(RegExp(O.replace(/ +/g," *")+"/([.\\d]+)","i").exec(t)||0)[1]||E)?(N=((l=[l,/BB10/.test(t)])[1]?(O=null,D="BlackBerry"):"Device Software")+" "+l[0],E=null):this!=v&&"Wii"!=O&&(M&&B||/Opera/.test(I)&&/\b(?:MSIE|Firefox)\b/i.test(t)||"Firefox"==I&&/\bOS X (?:\d+\.){2,}/.test(N)||"IE"==I&&(N&&!/^Win/.test(N)&&E>5.5||/\bWindows XP\b/.test(N)&&E>8||8==E&&!/\bTrident\b/.test(t)))&&!d.test(l=e.call(v,t.replace(d,"")+";"))&&l.name&&(l="ing as "+l.name+((l=l.version)?" "+l:""),d.test(I)?(/\bIE\b/.test(l)&&"Mac OS"==N&&(N=null),l="identify"+l):(l="mask"+l,I=L?m(L.replace(/([a-z])([A-Z])/g,"$1 $2")):"Opera",/\bIE\b/.test(l)&&(N=null),M||(E=null)),R=["Presto"],A.push(l));else I+=" Mobile";(l=(/\bAppleWebKit\/([\d.]+\+?)/i.exec(t)||0)[1])&&(l=[parseFloat(l.replace(/\.(\d)$/,".0$1")),l],"Safari"==I&&"+"==l[1].slice(-1)?(I="WebKit Nightly",_="alpha",E=l[1].slice(0,-1)):E!=l[1]&&E!=(l[2]=(/\bSafari\/([\d.]+\+?)/i.exec(t)||0)[1])||(E=null),l[1]=(/\b(?:Headless)?Chrome\/([\d.]+)/i.exec(t)||0)[1],537.36==l[0]&&537.36==l[2]&&parseFloat(l[1])>=28&&"WebKit"==R&&(R=["Blink"]),M&&(c||l[1])?(R&&(R[1]="like Chrome"),l=l[1]||((l=l[0])<530?1:l<532?2:l<532.05?3:l<533?4:l<534.03?5:l<534.07?6:l<534.1?7:l<534.13?8:l<534.16?9:l<534.24?10:l<534.3?11:l<535.01?12:l<535.02?"13+":l<535.07?15:l<535.11?16:l<535.19?17:l<536.05?18:l<536.1?19:l<537.01?20:l<537.11?"21+":l<537.13?23:l<537.18?24:l<537.24?25:l<537.36?26:"Blink"!=R?"27":"28")):(R&&(R[1]="like Safari"),l=(l=l[0])<400?1:l<500?2:l<526?3:l<533?4:l<534?"4+":l<535?5:l<537?6:l<538?7:l<601?8:l<602?9:l<604?10:l<606?11:l<608?12:"12"),R&&(R[1]+=" "+(l+="number"==typeof l?".x":/[.+]/.test(l)?"":"+")),"Safari"==I&&(!E||parseInt(E)>45)?E=l:"Chrome"==I&&/\bHeadlessChrome/i.test(t)&&A.unshift("headless")),"Opera"==I&&(l=/\bzbov|zvav$/.exec(N))?(I+=" ",A.unshift("desktop mode"),"zvav"==l?(I+="Mini",E=null):I+="Mobile",N=N.replace(RegExp(" *"+l+"$"),"")):"Safari"==I&&/\bChrome\b/.exec(R&&R[1])?(A.unshift("desktop mode"),I="Chrome Mobile",E=null,/\bOS X\b/.test(N)?(D="Apple",N="iOS 4.3+"):N=null):/\bSRWare Iron\b/.test(I)&&!E&&(E=H("Chrome")),E&&0==E.indexOf(l=/[\d.]+$/.exec(N))&&t.indexOf("/"+l+"-")>-1&&(N=S(N.replace(l,""))),N&&-1!=N.indexOf(I)&&!RegExp(I+" OS").test(N)&&(N=N.replace(RegExp(" *"+b(I)+" *"),"")),R&&!/\b(?:Avant|Nook)\b/.test(I)&&(/Browser|Lunascape|Maxthon/.test(I)||"Safari"!=I&&/^iOS/.test(N)&&/\bSafari\b/.test(R[1])||/^(?:Adobe|Arora|Breach|Midori|Opera|Phantom|Rekonq|Rock|Samsung Internet|Sleipnir|SRWare Iron|Vivaldi|Web)/.test(I)&&R[1])&&(l=R[R.length-1])&&A.push(l),A.length&&(A=["("+A.join("; ")+")"]),D&&O&&O.indexOf(D)<0&&A.push("on "+D),O&&A.push((/^on /.test(A[A.length-1])?"":"on ")+O),N&&(l=/ ([\d.+]+)$/.exec(N),u=l&&"/"==N.charAt(N.length-l[0].length-1),N={architecture:32,family:l&&!u?N.replace(l[0],""):N,version:l?l[1]:null,toString:function(){var e=this.version;return this.family+(e&&!u?" "+e:"")+(64==this.architecture?" 64-bit":"")}}),(l=/\b(?:AMD|IA|Win|WOW|x86_|x)64\b/i.exec(F))&&!/\bi686\b/i.test(F)?(N&&(N.architecture=64,N.family=N.family.replace(RegExp(" *"+l),"")),I&&(/\bWOW64\b/i.test(t)||M&&/\w(?:86|32)$/.test(o.cpuClass||o.platform)&&!/\bWin64; x64\b/i.test(t))&&A.unshift("32-bit")):N&&/^OS X/.test(N.family)&&"Chrome"==I&&parseFloat(E)>=39&&(N.architecture=64),t||(t=null);var j={};return j.description=t,j.layout=R&&R[0],j.manufacturer=D,j.name=I,j.prerelease=_,j.product=O,j.ua=t,j.version=I&&E,j.os=N||{architecture:null,family:null,version:null,toString:function(){return"null"}},j.parse=e,j.toString=function(){return this.description||""},j.version&&A.unshift(E),j.name&&A.unshift(I),N&&I&&(N!=String(N).split(" ")[0]||N!=I.split(" ")[0]&&!O)&&A.push(O?"("+N+")":"on "+N),A.length&&(j.description=A.join(" ")),j}();a.platform=P,void 0===(o=function(){return P}.call(t,n,t,e))||(e.exports=o)}).call(this)}).call(t,n("3IRH")(e),n("DuR2"))},"8Iew":function(e,t,n){"use strict";n("isVG");var r="storage-cloud-module",o=angular.module(r,["ui-helper-module"]);function i(e,t,n,r,o,i,a,l,u){var c={},s=function(t){return t.then(function(t){return 200==t.status?t.data:e.reject(t.data?t.data.error_code:null)})};return document.domain=document.domain,window.oauthcallback=function(e){t.$broadcast("event-"+e+"-refresh-signin")},c.autoSignIn=function(t,n,r,i){i&&i("");var a={method:"get",url:u.uiApiBase+"api/cloudstorage/signIn",cache:!1,params:{clientType:t}};isIE&&(a.url+="?salt="+guid.newGuid()),o(a).then(function(t){return 200==t.status&&t.data?t.data:e.reject(t.data?t.data.error_code:null)}).then(function(t){var r=t.result,o=t.authUrl;if(i&&i(o),!r||!o)return e.reject();n&&n()}).catch(function(e){r&&r()})},c.signIn=function(e){!function(e,t,n,r){var o=void 0!=window.screenLeft?window.screenLeft:screen.left,a=void 0!=window.screenTop?window.screenTop:screen.top,l=(window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width)/2-n/2+o,u=(window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height)/2-r/2+a;i.open(e,t,"toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=yes, copyhistory=no, width="+n+", height="+r+", top="+u+", left="+l)}(e,"auth",800,600)},c.signOut=function(t){var n={method:"get",url:u.uiApiBase+"api/cloudstorage/signOut",cache:!1,params:{clientType:t}};isIE&&(n.url+="?salt="+guid.newGuid());var r=o(n);return s(r).then(function(t){if(!1===t)return e.reject()})},c.list=function(e,t){var n={method:"post",cache:!1,url:u.uiApiBase+"api/cloudstorage/list",params:{clientType:e,parentId:t}};isIE&&(n.url+="?salt="+guid.newGuid());var r=o(n);return s(r)},c.getQuota=function(e){var t=o({method:"get",url:u.uiApiBase+"api/cloudstorage/getQuota",params:{clientType:e}});return s(t)},c.getUser=function(e){var t=o({method:"get",url:u.uiApiBase+"api/cloudstorage/getUser",params:{clientType:e}});return s(t)},c.saveToCloudStorage=function(e,t){var n=u.uiApiBase+"api/cloudstorage/saveToCloudStorage";return new l(n,e,t)},c.saveToCloudStorageAsPromise=function(e,t){return c.saveToCloudStorage(e,t).promise()},c.uploadToSaasStorage=function(e,t,n,r){~n.indexOf('"')&&(n=n.replace(/"/g,"'"));var o=u.uiApiBase+"api/cloudstorage/uploadToSaasStorage";return new l(o,{clientType:e,itemId:t,fileName:n},r)},c.checkOutState=function(e,t){var n=o({method:"get",url:u.uiApiBase+"api/cloudstorage/checkOutState",params:{clientType:e,itemId:t}});return s(n)},c.checkIn=function(e){var t=o({method:"post",url:u.uiApiBase+"api/cloudstorage/checkIn",data:e});return s(t)},c.checkOut=function(e){var t=o({method:"get",url:u.uiApiBase+"api/cloudstorage/checkOut",params:e});return s(t)},c.undoCheckOut=function(e){var t=o({method:"get",url:u.uiApiBase+"api/cloudstorage/undoCheckOut",params:e});return s(t)},c.versionHistory=function(e){var t=o({method:"get",url:u.uiApiBase+"api/cloudstorage/versionHistory",params:e});return s(t)},c.fsGetDocProperties=function(e){var t=o({method:"get",url:u.uiApiBase+"api/cloudstorage/fsGetDocProperties",params:e});return s(t)},c.fsSetDocProperties=function(e){var t=o({method:"post",url:u.uiApiBase+"api/cloudstorage/fsSetDocProperties",data:e});return s(t)},c}o.service("longOperationService",["$http","$q","GLOBAL",function(e,t,n){return function(r,o,i){var a=this;a.url=r,a.params=o,a.callback=i;var l=function(e){return e.then(function(e){return 200==e.status?e.data:t.reject(e.data?e.data.error_code:null)})},u=function(){(function(){var t=e({method:"get",params:{cancelableOperationId:a.cancelableOperationId},url:n.uiApiBase+"api/cancelableOpsStack/progress"});return l(t)})().then(function(e){a.callback&&a.callback(e)})};this.promise=function(){return function(){var t=e({method:"get",url:n.uiApiBase+"api/cancelableOpsStack/create"});return l(t)}().then(function(r){a.cancelableRequest=function(n){var r=n,o=t.defer();return a.params.operationId=r,{promise:e({method:"post",url:a.url,params:a.params,timeout:o.promise}).then(function(e){return e.data}),cancel:function(e){o.resolve(e)}}}(r),a.cancelableOperationId=r;var o=setInterval(u,500);return a.cancelableRequest.promise.finally(function(){a.cancelableRequest=null,clearInterval(o),function(){var t=e({method:"post",url:n.uiApiBase+"api/cancelableOpsStack/delete",params:{cancelableOperationId:a.cancelableOperationId}});l(t)}()})})},this.cancel=function(){a.cancelableRequest&&(a.cancelableRequest.cancel(),function(){var t=e({method:"post",url:n.uiApiBase+"api/cancelableOpsStack/cancel",params:{cancelableOperationId:a.cancelableOperationId}});l(t)}(a.cancelableOperationId))}}}]),o.factory("storage-cloud-factory",i),i.$inject=["$q","$rootScope","$timeout","$injector","$http","$window","ui-helper-factory","longOperationService","GLOBAL"],window.mainApp.factory("longOperationService",getConstructor(r,"longOperationService","service")),window.mainApp.factory("storage-cloud-factory",getConstructor(r,"storage-cloud-factory","factory"))},"99ez":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.module=void 0;var r=a(n("//Fk")),o=a(n("/jXN")),i=a(n("Av7u"));function a(e){return e&&e.__esModule?e:{default:e}}n("jKMt"),n("w1D8");var l="ui-sitemenu-create-core-module",u="ui-sitemenu-create-core-factory",c="https://api-pw.sodapdf.com/",s=o.default.module(l,["ngFileUpload","storage-document-uploader-service-module","ui-helper-module"]);function d(e,t,n,o,a,l,u,c,s,d,f,p,g,h){var m=g.getDialogFactory(),v=g.ondemand.getAuthenticationUiProxyService();return function(n){this.service={files:[],isGridVisible:!1,selectedFile:null,isPrevDisabled:!1,isNextDisabled:!1,noFilesOpened:!0,isActionBtnDisabled:!0,batching:!1,combining:!1,error:!1,url:"",progress:0};var o=null,c={inprocess:1,done:2,error:3,nonStarted:5},s=this.service;s.canceledFile={};var g=function(e){return e.some(function(e,t){return e.progressPercentage<100})},y=function(e){return e.some(function(e,t){return!e.inProcess&&!1===e.isAuth})},b=[],x=function(e){for(var t=0;t<s.files.length;t++){var n=s.files[t];if(n.hash===e)return n}},S=function(e){for(var t=0;t<s.files.length;t++){var n=s.files[t];if(n.guid===e)return n}},P=function(){for(var e=0;e<b.length;e++){var t=b[e];if(t.hash===s.canceledFile.hash&&!t.isCanceled){t.isCanceled=!0,t.uploader.abort();break}}},k=function(e,t){if(0!==s.files.length){var n=x(e);n&&(n.progressPercentage=isNaN(t)?0:t)}},T=function(e,t){if(0!==s.files.length){var n=x(e);n&&(n.guid=t)}},w=function(e,t,n){return e.isPdf&&e.guid?d.openDocument(e.guid,{name:e.name,password:e.password}).then(function(){t.resolve()}).catch(function(){var n=s.files.indexOf(e);n>-1&&s.files.splice(n,1),t.resolve()}):t.resolve(),t.promise},C=function(){s.batching=!1,s.files.length=0,s.isGridVisible=!1},B=function(){var n=0;!function r(){if(n<s.files.length){var o=t.defer();w(s.files[n++],o).then(function(){r()},function(){C()})}else{for(var i=[],a=0,l=s.files.length;a<l;++a){var u=s.files[a];if(u.status===c.done&&u.destFileGuid){var d={id:u.destFileGuid,options:{name:u.destFileName,action:"open",password:u.password}};i.push({method:function(n){var r=t.defer();return e.$state.transitionTo("document",n).finally(function(){r.resolve()}),r.promise},value:d})}}h.execute(i).then(function(){C()})}}()},L=function(e,t){var n=void 0,r=function(t){1===t.result&&3!==t.status&&12!==t.status||a.cancel(n)&&(e.status=c.error,C()),2===t.status&&(e.status=c.done)},o=function(e){0!==e.status&&C(),a.cancel(n)};n=a(function(){!function(e){return e.some(function(e,t){return e.status===c.nonStarted})}(s.files)&&!function(e){return e.some(function(e,t){return e.status===c.inprocess})}(s.files)&&a.cancel(n)?B():f.checkStatus(t.actionId).then(r,o)},5e3)},F=function(e,t,n,r,o){var i={FileEntries:[{FileType:r,FileName:n,FileGuid:t}],FromFileType:r,ToFileType:"pdf"},a=function(t){if(1!==t.result||3===t.status||12===t.status);else{var n=t.destFiles[0];e.destFileGuid=n.FileGuid,e.destFileName=n.FileName,e.actionId=t.actionId,L(e,t)}},l=function(t){0!==t.status&&(e.actionId=null)};"batch"===o?f.createBatchPdfDocument(i).then(a,l):f.createPdfDocument(i).then(a,l)},A=function(){s.isGridVisible=!1,s.combining=!1,s.files.length=0,s.progress=0},_=function t(n,r){var o=!1,i=function(i){s.progress=i.progress,1!==i.result||3===i.status||12===i.status?(o=!0,A(),s.error=!0):2===i.status&&(o=!0,A(),f.cancelDocumentProcessing(i.destFiles[0].FileGuid,2).then(function(){var t={id:i.destFiles[0].FileGuid,options:{name:i.destFiles[0].FileName,action:"open"}};e.$state.transitionTo("document",t)},function(e){throw e})),!1===o&&l(function(){t(n,r)},500)},u=function(e){e.status,a.cancel(void 0)};!0===r?f.checkStatusnows(n).then(i,u):f.checkStatus(n).then(i,u)};s.upload=function(t){if(t&&t.length){s.isActionBtnDisabled=!0;for(var r=0,o=t.length;r<o;++r){var i=t[r],a=p.upload(i,function(e,t,r,o){if(T(o.file.hash,e),"batch"!==n){var i=S(e);if(i){var a=i.name.fileExtension().name;"pdf"!==a&&"wwf"!==a||s.getPagesCount(e)}}},function(t,n,r,o){var i=S(t);!i&&o&&o.file&&(i=x(o.file.hash)),i&&(i.isAuth=!1,i.inProcess=!1),e.$broadcast("combine-files-isAuthorized-changed")},function(e){e.config.file.hash===s.canceledFile.hash&&P();var t=parseInt(100*e.loaded/e.total);k(e.config.file.hash,t)});a&&b.push({hash:i.hash,uploader:a,isCancelled:!1})}}},s.selectFile=function(e,t){s.selectedFile=e},s.updateBtnsState=function(e){s.isPrevDisabled=0===e.position,s.isNextDisabled=e.position>=s.files.length-1},s.decreasePosition=function(){if(!s.isPrevDisabled)for(var e=0;e<s.files.length;e++)if(s.files[e]===s.selectedFile){var t=s.files[e];t.position--,s.files[e-1].position++,s.files[e]=s.files[e-1],s.files[e-1]=t,s.selectedFile.position=e-1;break}},s.increasePosition=function(){if(!s.isNextDisabled)for(var e=0;e<s.files.length;e++)if(s.files[e]===s.selectedFile){var t=s.files[e];s.files[e+1].position--,t.position++,s.files[e]=s.files[e+1],s.files[e+1]=t,s.selectedFile.position=e+1;break}},s.deleteItem=function(){for(var e=0;e<s.files.length;e++){var t=s.files[e];if(t===s.selectedFile){s.canceledFile=t,s.files.splice(e,1);for(var n=e;n<s.files.length;n++)s.files[n].position--;s.files.length>0&&(e>=s.files.length?(s.selectedFile=s.files[e-1],s.selectedFile.position=e-1):(s.selectedFile=s.files[e],s.selectedFile.position=e))}}0===s.files.length&&(s.isGridVisible=!1,s.selectedFile=null)},s.deleteAll=function(){!function(){for(var e=0;e<b.length;e++){var t=b[e];t.isCanceled=!0,t.uploader.abort()}}(),s.files=[],s.selectedFile=null,s.isGridVisible=!1},s.isActive=function(e){return s.selectedFile===e},s.addGridFiles=function(e,t){s.isGridVisible=!0;for(var n=0===s.files.length?0:s.files.length,r=0;r<e.length;r++){var o=e[r],i={inProcess:!0};i.name=o.name,i.size=o.size,i.position=n+r,i.range={from:1,value:{isValid:!0}},i.isPdf="pdf"===o.name.fileExtension().name||"wwf"===o.name.fileExtension().name,i.isRangeValid={to:!0,from:!0},t?(i.hash=o.name.toString().hashCode()+"_"+(new Date).getTime(),i.guid=o.id,i.progressPercentage=100,i.isOpened=t,i.pagesCount=o.getPagesCount(),i.range.to=i.pagesCount,i.isAuth=!0):(i.hash=o.hash,i.progressPercentage=0,i.isAuth=!("pdf"===o.name.fileExtension().name||"wwf"===o.name.fileExtension().name)),s.files.push(i)}s.selectedFile=null==s.selectedFile?s.files[0]:s.selectedFile},s.process=function(e){if(s.isActionBtnDisabled){if("combine"===e){var t=function(e){return e.some(function(e,t){return!e.inProcess&&!e.range.value.isValid})}(s.files),n=y(s.files);if(t||n){var r=t?"Some ranges are not valid":"Please enter password(s)";m.then(function(e){e.messageBox.show({text:r,icon:"information",callbacks:[{text:"ok",callback:function(){}}]})})}}}else if(s.batching=!0,g(s.files))m.then(function(e){e.messageBox.show({text:"Some files are still uploading.",icon:"information",callbacks:[{text:"ok"}]})});else if("combine"!==e)if("createfromurl"!==e){for(var a=0,l=s.files.length;a<l;++a){var u=s.files[a],d=u.name.fileExtension();u.status=c.nonStarted,u.extension=d.name,"pdf"===d.name||"wwf"===d.name?(u.status=c.done,u.destFileGuid=u.guid,u.destFileName=u.name):d.isValid&&F(u,u.guid,u.name,d.name,e)}(function(e){return e.some(function(e,t){return"pdf"!==e.name.fileExtension().name&&"wwf"!==e.name.fileExtension().name})})(s.files)||B()}else s.combining=!0,p=function(e){_(e.data,!0)},h=function(e){s.error=!0,s.combining=!1,console.log(e.data.Message)},f.openFileFromUrl(s.url).then(p,h);else{s.combining=!0;var p=function(e){1!==e.result||3===e.status||12===e.status||(o=e.actionId,_(e.actionId,!0))},h=function(e){},v=function(){for(var e={FileEntries:[],FromFileType:"any",ToFileType:"pdf"},t=0,n=s.files.length;t<n;++t){var r=s.files[t],o={FileName:r.name,FileType:r.name.fileExtension().name,FileGuid:r.guid,IsOpened:r.isOpened};r.password&&(o.password=isUndefinedOrNull(r.password)?"":i.default.AES.decrypt(r.password,"Secret Passphrase").toString(i.default.enc.Utf8)),r.range.value.pages&&(o.PagesToConvert=r.range.value.pages),e.FileEntries.push(o)}return e}();f.combineFiles(v).then(p,h)}},s.cancelUploadFile=function(e,t){s.canceledFile=e,function(e){s.files.splice(e,1),0===s.files.length&&(s.isGridVisible=!1)}(t)},s.cancel=function(e,t){s.cancelUploadFile(e,t)},s.anyNotUploaded=function(e){return g(e)},s.anyNotAuth=function(e){return y(e)},s.cancelBatching=function(){for(var e=0;e<s.files.length;e++){var t=s.files[e];null!==t.actionId&&t.status===c.inprocess&&f.cancelDocumentProcessing(t.actionId,2)}s.batching=!1,s.isGridVisible=!1,s.files.length=0},s.cancelCombine=function(){isUndefinedOrNull(o)||(a.cancel(void 0),f.cancelDocumentProcessing(o,2)),A()},s.cancelBatchConvert=function(){},s.getPagesCount=function(t){var n=S(t);n.inProcess=!0;var r=isUndefinedOrNull(n.password)?"":i.default.AES.decrypt(n.password,"Secret Passphrase").toString(i.default.enc.Utf8);f.getPagesCount(n.guid,r).then(function(e){n.pagesCount=e,n.isAuth=!0,n.passwordRequired=!1},function(e){n.passwordRequired=403===e.status}).finally(function(){n.inProcess=!1,e.$broadcast("combine-files-isAuthorized-changed")})},s.loadUserData=function(){},s.resetUserData=function(){},v.then(function(e){e.subscribe(s)}),u.onStart({},function(e){if(s.files.length>0&&g(s.files))return e.router.stateService,new r.default(function(e){m.then(function(t){t.messageBox.show({text:"This will cancel all current uploads. Do you want to continue?",icon:"information",callbacks:[{text:"yes",callback:function(){s.deleteAll(),e()}},{text:"no",callback:function(){return!1}}]})})})})}}t.module=s,s.constant("urls",{upload:c+"api/upload/save",batch:c+"api/pdfactions/batchimport",combine:c+"api/pdfactions/combine"}),s.factory(u,d),d.$inject=["$rootScope","$q","$state","$http","$interval","$timeout","$transitions","Upload","urls","pdf-manager-factory","pdf-model-factory","storage-document-uploader-service","ui-helper-factory","chain-factory"],window.mainApp.factory(u,getConstructor(l,u,"factory")),window.mainApp.constant("urls",getConstructor(l,"urls","constant"))},APB7:function(e,t,n){"use strict";var r=i(n("b8L+")),o=i(n("C3UN"));function i(e){return e&&e.__esModule?e:{default:e}}n("ZqXQ"),n("5UMD");var a="bl-edit-transformer-factory";angular.module("bl-edit-transformer-module",["bl-edit-utilites-module","bl-edit-editobject-module","pdf-manager-module"]).factory(a,["$q","$rootScope","bl-edit-utilites-service","bl-edit-editobject-factory","pdf-manager-factory",function(e,t,n,i,a){var l=function(e,t,i,l){var u=e,c=t,s=u.getPage(c),d=null,f=l,p=null,g=o.default.TransformType.TRANSFORM_NONE,h=r.default.identityMatrix(),m=h.copy(),v=this;v.init=function(e){d=e,h=e.matrix?e.matrix.copy():r.default.identityMatrix(),m=h.copy()},v.init(i),v.getDocument=function(){return u},v.getElement=function(){return d},v.getPageIndex=function(){return c},v.getBBox=function(){return d.boundRect},v.isPerformingOperation=function(){return g!=o.default.TransformType.TRANSFORM_NONE},v.getOperationType=function(){return g},v.startOperation=function(e){g=e,m=h.copy()},v.endOperation=function(){p=null,h.isEqual(m)||a.changeElementMatrix(u,d,c,m).then(function(e){v.init(e)}).catch(function(){m=h.copy()}),g=o.default.TransformType.TRANSFORM_NONE},v.getTransform=function(){return h},v.setOperationTransform=function(e){var t=s.getCropBox();m=n.correctCTMToRespectPageBox(t,v.getUserSpaceRect(),e)},v.getOperationTransform=function(){return m},v.getRotationOrigin=function(){return v.getBounds().getCenter()},v.getUserSpaceRect=function(){var e=d.getQuad();return h.invert().mapQuad(e).getBound()},v.getOperationBounds=function(){var e=d.getQuad(),t=h.invert();return m.mapQuad(t.mapQuad(e))},v.getBounds=function(){return d.getQuad().copy()},v.hitTest=function(e){var t=h.invert();if(!t)return!1;var n=t.mapPoint(e);return v.getUserSpaceRect().containsPoint(n)},v.deleteElement=function(){a.deleteContentElement(u,d,c)};var y=function(e){var t={scaling:r.default.size(),rotation:0,shear:0,position:r.default.point()};t.scaling.width=Math.sqrt(e.a*e.a+e.b*e.b);var n=e.b/t.scaling.width,o=e.a/t.scaling.width;return t.rotation=Math.atan2(n,o),t.scaling.height=e.d*o-e.c*n,t.shear=(e.c+e.d-t.scaling.height*(o-n))/t.scaling.height*(o+n),t.position.x=e.e,t.position.y=e.f,t};v.getPosition_PropertyTest=function(){var e=g===o.default.TransformType.TRANSFORM_NONE?h.copy():m.copy();return y(e).position},v.getRotation_PropertyTest=function(){var e=g===o.default.TransformType.TRANSFORM_NONE?h.copy():m.copy();return y(e).rotation},v.setRotation=function(e){var t=y(h);t.rotation=e;var n=function(e){return r.default.scalingMatrix(e.scaling.width,e.scaling.height).multiply(r.default.rotationMatrix(e.rotation)).multiply(r.default.translationMatrix(e.position.x,e.position.y))}(t);a.changeElementMatrix(u,d,c,n).then(function(e){v.init(e)}).catch(function(){m=h.copy()})},v.getScaling_PropertyTest=function(){var e=g===o.default.TransformType.TRANSFORM_NONE?h.copy():m.copy();return y(e).scaling},v.setSnapData=function(e){f=e},v.getSnapData=function(){return f},v.setSnapInfo=function(e){p=e},v.getSnapInfo=function(){return p};var b=o.default.EditModes.Properties|o.default.EditModes.Move|o.default.EditModes.Rotate|o.default.EditModes.Resize|o.default.EditModes.Remove,x=deviceDetect.isPhone()?o.default.EditModes.Move:b;v.setCurrentEditMode=function(e){x=e},v.hasAnyCurrentEditMode=function(e){return!!(x&e)},v.hasAnyEditMode=function(e){return!!(b&e)}};return{createInstance:function(e,t,n,r){return new l(e,t,n,r)}}}]),window.mainApp.factory(a,getConstructor("bl-edit-transformer-module",a,"factory"))},ATCw:function(e,t,n){"use strict";var r="bl-text-edit-textfield-selection-factory-module",o="bl-text-edit-textfield-selection-factory";function i(e){return{createInstance:function(){return new function(){var e=null;this.init=function(t,n){e=n},this.done=function(){},this.getType=function(){return"TextBlockEdit"},this.getSelectionData=function(){return e},this.draw=function(t,n){e.draw(n,t)},this.hitTest=function(t,n){return e.hitTest(t,n)},this.getDestination=function(){var t={};return t.pPageIndex=e.getPageIndex(),t.pRect=e.getRect(),t},this.getProperties=function(){return null}}}}}angular.module(r,[]).factory(o,i),i.$inject=["$rootScope"],window.mainApp.factory(o,getConstructor(r,o,"factory"))},Ad04:function(e,t,n){"use strict";var r=function(e){return e&&e.__esModule?e:{default:e}}(n("oRGr"));var o="bl-ocr-idrs-inputHandlerStack-module",i="bl-ocr-idrs-inputHandlerStack-factory";angular.module(o,[]).factory(i,["$q","$rootScope",function(e,t){return{createInstance:function(){return new function(){var e=this,n=[],o={onHandleTypeChanged:function(e){t.$broadcast("idrs-inputHandlerStack-handleType-changed",e)}},i=!1;e.events=function(){return o},e.getHandleType=function(){return n.length>0?n[0].getHandleType():r.default.InputHandlerType.kHandle},e.dispatchEvent=function(t){i=!1;for(var r=!1,a=!1,l=0;l<n.length&&!r;l++){var u=n[l];if(u){var c=u.handleEvent(t);if(a=c.isHandlerFinished,r=c.isHandled,i)return;if(a){var s=n.shift();s&&s.terminate&&s.terminate();var d=e.getHandleType();o.onHandleTypeChanged(d)}}if(r)break}},e.resetInputHandler=function(){i=!0;for(var t=0;t<n.length;){var r=n[t];if(r)if(r.isUndeletable())++t;else{var a=n.splice(t,1),l=a.length>0?a[0]:null;l&&l.terminate&&l.terminate()}}var u=e.getHandleType();o.onHandleTypeChanged(u)},e.pushInputHandler=function(t){n.unshift(t);var r=e.getHandleType();o.onHandleTypeChanged(r)},e.terminate=function(){for(var e=0;e<n.length;e++){var t=n[e];t&&t.terminate&&t.terminate()}}}}}}]),window.mainApp.factory(i,getConstructor(o,i,"factory"))},BZtS:function(e,t,n){"use strict";var r=i(n("C3UN")),o=i(n("eWOG"));function i(e){return e&&e.__esModule?e:{default:e}}n("6Drf");var a="bl-widget-combobox-obj-factory-module",l="bl-widget-combobox-obj-factory";function u(e,t){var n={};return n.createInstance=function(n,i,a){return new function(n,i,a){var l,u,c,s,d,f,p,g=this,h=i,m=a,v=m.getStyle();if(r.default.pdfAcroformType.choice===v){s=m.getValue();var y=(m.options&&m.options.items?m.options.items:[]).indexOf(s);l=y,this.getWidget=function(){return m},this.canUndo=function(){return!1},this.canRedo=function(){return!1},this.undo=function(){},this.redo=function(){},this.clearUndoRedoStack=function(){},this.getRect=function(){return e.getFieldRect(m)},this.getPageIndex=function(){return h},this.setText=function(e){d.getText()!=e&&(d.setText(e),d.update())},this.getText=function(){return d.getText()},this.getNumChars=function(){return d.getText().length},this.isEditable=function(){return!1},this.getCharQuad=function(e){return d.getCharQuad(e)},this.selectAll=function(){this.setSelectorPosition(0),this.setCaretPosition(this.getNumChars())},this.setSelAtPoint=function(e){var t=d.getSymbolAtPoint(e);this.setSelectorPosition(t),this.setCaretPosition(t)},this.setSelectorAtPoint=function(e){var t=d.getSymbolAtPoint(e);this.setSelectorPosition(t)},this.setCaretAtPoint=function(e){var t=d.getSymbolAtPoint(e);this.setCaretPosition(t)},this.setCaretPosition=function(e){u!=e&&(u=e,p&&p(c,u))},this.setSelectorPosition=function(e){c!=e&&(c=e,p&&p(c,u))},this.hasSelection=function(){return c!=u},this.getSelectedText=function(){var e;if(this.hasSelection()){var t=c,n=u;t>n&&(n=[t,t=n][0]),e=this.getText().substring(t,n-t)}return e},this.getSelectorPosition=function(){return c},this.getCaretPosition=function(){return u},this.goLeft=function(e){var t=this.getCaretPosition();t>0&&this.setCaretPosition(--t),e||this.setSelectorPosition(t)},this.goRight=function(e){var t=this.getCaretPosition();t<this.getNumChars()&&this.setCaretPosition(++t),e||this.setSelectorPosition(t)},this.goToFirst=function(e){this.setCaretPosition(0),e||this.setSelectorPosition(0)},this.goToLast=function(e){var t=this.getNumChars();this.setCaretPosition(t),e||this.setSelectorPosition(t)},this.keyStroke=function(e,t,n){"number"==typeof e&&"number"==typeof t?(d.keyStroke(e,t,n),d.update()):x(n)},this.delete=function(e){var t=this.getSelectorPosition(),n=this.getCaretPosition();n<t&&(t=[n,n=t][0]),n==t&&(e?n>0&&this.setCaretPosition(n-1):this.setCaretPosition(n+1)),x("")},this.getNumOptions=function(){return(m.options&&m.options.items?m.options.items:[]).length},this.setSel=function(e){var t;(l=e)>=0&&l<this.getNumOptions()?(t=(m.options&&m.options.items?m.options.items:[])[l],m.setValue(t)):t=m.getValue(),d.setText(t),d.update()},this.setSelection=function(e){b(e),this.isEditable()&&this.selectAll()},this.getSelection=function(){return l},this.selectPrev=function(){var e=this.getNumOptions();if(e>0){var t=this.getSelection();-1==t?this.setSelection(e-1):t>0&&this.setSelection(--t)}},this.selectNext=function(){var e=this.getNumOptions();if(e>0){var t=this.getSelection();-1==t?this.setSelection(0):t<e-1&&this.setSelection(++t)}},this.selectFirst=function(){this.getNumOptions()>0&&this.setSelection(0)},this.selectLast=function(){var e=this.getNumOptions();e>0&&this.setSelection(e-1)},this.commitChanges=function(){return!0},this.cancelChanges=function(){this.setText(s)},this.onModify=function(){return!0},this.setOnSelChangedCallBack=function(e){p=e};var b=function(e){g.setSel(e)},x=function(e){var t=c,n=u;t>n&&(n=[t,t=n][0]),g.keyStroke(t,n,e),f=t+e.length,g.setSelectorPosition(f),g.setCaretPosition(f)},S=this.getRect();S.inflate(-o.default.comboBox.getMargin(),-o.default.comboBox.getMargin()),(d=t.createInstance(o.default.comboBox.getFontSize())).setText(s),d.setBound(S),d.update()}else console.error("Unsupported field type.")}(n,i,a)},n}angular.module(a,[]).factory(l,u),u.$inject=["bl-widget-renderer-service","form-textlayout-factory"],window.mainApp.factory(l,getConstructor(a,l,"factory"))},Bs4f:function(e,t,n){"use strict";var r="bl-widget-object-factory-module",o="bl-widget-object-factory";function i(){return{createInstance:function(e){return new function(e){var t=this;t.id=guid.newGuid(),t.parentId=void 0,t.fieldType="",t.isRequired=!1,t.isAutoComplete=!1,t.value=null,t.defaultValue=null,t.pageIndex=0,t.left=0,t.top=0,t.width=0,t.height=0,t.options=null,e&&angular.extend(t,e),t.getX=function(){return t.left},t.getY=function(){return t.top},t.getWidth=function(){return t.width},t.getHeight=function(){return t.height},t.getValue=function(){return isUndefinedOrNull(t.value)?isUndefinedOrNull(t.defaultValue)?null:t.defaultValue:t.value},t.setValue=function(e,n){t.value=null,t.defaultValue=e,t.onChangeValueCallback&&t.onChangeValueCallback(e,n)},t.getPage=function(){return t.pageIndex},t.setPosition=function(e,n){t.left=e,t.top=n},t.setSize=function(e,n){t.width=e,t.height=n},t.getStyle=function(){return t.fieldType},t.onChangeValueCallback=null}(e)}}}angular.module(r,[]).factory(o,i),i.$inject=[],window.mainApp.factory(o,getConstructor(r,o,"factory"))},C3UN:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={ArrowheadsStyle:{None:0,OpenArrow:1,ClosedArrow:2,ROpenArrow:3,RClosedArrow:4,Butt:5,Diamond:6,Circle:7,Square:8,Slash:9},kPDAtom:{kPDAtom_None:"None",kPDAtom_OpenArrow:"OpenArrow",kPDAtom_ClosedArrow:"ClosedArrow",kPDAtom_ROpenArrow:"ROpenArrow",kPDAtom_RClosedArrow:"RClosedArrow",kPDAtom_Butt:"Butt",kPDAtom_Diamond:"Diamond",kPDAtom_Circle:"Circle",kPDAtom_Square:"Square",kPDAtom_Slash:"Slash"},kBLKey:{kBLKey_DELETE:46,kBLKey_G:71,kBLKey_R:89,kBLKey_Y:89,kBLKey_Z:90,kBLKey_BACK:8,kBLKey_TAB:9,kBLKey_CLEAR:12,kBLKey_RETURN:13,kBLKey_SHIFT:16,kBLKey_CONTROL:17,kBLKey_MENU:null,kBLKey_PAUSE:null,kBLKey_CAPITAL:null,kBLKey_KANA:null,kBLKey_HANGEUL:null,kBLKey_HANGUL:null,kBLKey_JUNJA:null,kBLKey_FINAL:null,kBLKey_HANJA:null,kBLKey_KANJI:null,kBLKey_ESCAPE:27,kBLKey_CONVERT:null,kBLKey_NONCONVERT:null,kBLKey_ACCEPT:null,kBLKey_MODECHANGE:null,kBLKey_SPACE:32,kBLKey_PRIOR:33,kBLKey_NEXT:34,kBLKey_END:35,kBLKey_HOME:36,kBLKey_LEFT:37,kBLKey_UP:38,kBLKey_RIGHT:39,kBLKey_DOWN:40,kBLKey_SELECT:null,kBLKey_PRINT:null,kBLKey_EXECUTE:null,kBLKey_SNAPSHOT:null,kBLKey_INSERT:null,kBLKey_HELP:null,kBLKey_0:null,kBLKey_1:null,kBLKey_2:null,kBLKey_3:null,kBLKey_4:null,kBLKey_5:null,kBLKey_6:null,kBLKey_7:null,kBLKey_8:null,kBLKey_9:null,kBLKey_A:65,kBLKey_B:null,kBLKey_C:67,kBLKey_D:null,kBLKey_E:null,kBLKey_F:null,kBLKey_H:null,kBLKey_J:null,kBLKey_I:null,kBLKey_K:null,kBLKey_L:null,kBLKey_M:null,kBLKey_N:null,kBLKey_O:null,kBLKey_P:null,kBLKey_Q:null,kBLKey_S:null,kBLKey_T:null,kBLKey_U:null,kBLKey_V:86,kBLKey_W:null,kBLKey_X:88,kBLKey_LWIN:null,kBLKey_RWIN:null,kBLKey_APPS:null,kBLKey_SLEEP:null,kBLKey_NUMPAD0:null,kBLKey_NUMPAD1:null,kBLKey_NUMPAD2:null,kBLKey_NUMPAD3:null,kBLKey_NUMPAD4:null,kBLKey_NUMPAD5:null,kBLKey_NUMPAD6:null,kBLKey_NUMPAD7:null,kBLKey_NUMPAD8:null,kBLKey_NUMPAD9:null,kBLKey_MULTIPLY:null,kBLKey_ADD:null,kBLKey_SEPARATOR:null,kBLKey_SUBTRACT:null,kBLKey_DECIMAL:null,kBLKey_DIVIDE:null,kBLKey_F1:null,kBLKey_F2:null,kBLKey_F3:null,kBLKey_F4:null,kBLKey_F5:null,kBLKey_F6:null,kBLKey_F7:null,kBLKey_F8:null,kBLKey_F9:null,kBLKey_F10:null,kBLKey_F11:null,kBLKey_F12:null,kBLKey_F13:null,kBLKey_F14:null,kBLKey_F15:null,kBLKey_F16:null,kBLKey_F17:null,kBLKey_F18:null,kBLKey_F19:null,kBLKey_F20:null,kBLKey_F21:null,kBLKey_F22:null,kBLKey_F23:null,kBLKey_F24:null,kBLKey_NUMLOCK:null,kBLKey_SCROLL:null,kBLKey_OEM_FJ_JISHO:null,kBLKey_OEM_FJ_MASSHOU:null,kBLKey_OEM_FJ_TOUROKU:null,kBLKey_OEM_FJ_LOYA:null,kBLKey_OEM_FJ_ROYA:null,kBLKey_LSHIFT:null,kBLKey_RSHIFT:null,kBLKey_LCONTROL:null,kBLKey_RCONTROL:null,kBLKey_LMENU:null,kBLKey_RMENU:null,kBLKey_BROWSER_BACK:null,kBLKey_BROWSER_FORWARD:null,kBLKey_BROWSER_REFRESH:null,kBLKey_BROWSER_STOP:null,kBLKey_BROWSER_SEARCH:null,kBLKey_BROWSER_FAVORITES:null,kBLKey_BROWSER_HOME:null,kBLKey_VOLUME_MUTE:null,kBLKey_VOLUME_DOWN:null,kBLKey_VOLUME_UP:null,kBLKey_MEDIA_NEXT_TRACK:null,kBLKey_MEDIA_PREV_TRACK:null,kBLKey_MEDIA_STOP:null,kBLKey_MEDIA_PLAY_PAUSE:null,kBLKey_LAUNCH_MAIL:null,kBLKey_LAUNCH_MEDIA_SELECT:null,kBLKey_LAUNCH_APP1:null,kBLKey_LAUNCH_APP2:null,kBLKey_OEM_1:null,kBLKey_OEM_PLUS:null,kBLKey_OEM_COMMA:null,kBLKey_OEM_MINUS:null,kBLKey_OEM_PERIOD:null,kBLKey_OEM_2:null,kBLKey_OEM_3:null,kBLKey_OEM_4:null,kBLKey_OEM_5:null,kBLKey_OEM_6:null,kBLKey_OEM_7:null,kBLKey_OEM_8:null,kBLKey_OEM_AX:null,kBLKey_OEM_102:null,kBLKey_ICO_HELP:null,kBLKey_ICO_00:null,kBLKey_PROCESSKEY:null,kBLKey_ICO_CLEAR:null,kBLKey_OEM_RESET:null,kBLKey_OEM_JUMP:null,kBLKey_OEM_PA1:null,kBLKey_OEM_PA2:null,kBLKey_OEM_PA3:null,kBLKey_OEM_WSCTRL:null,kBLKey_OEM_CUSEL:null,kBLKey_OEM_ATTN:null,kBLKey_OEM_FINISH:null,kBLKey_OEM_COPY:null,kBLKey_OEM_AUTO:null,kBLKey_OEM_ENLW:null,kBLKey_OEM_BACKTAB:null,kBLKey_ATTN:null,kBLKey_CRSEL:null,kBLKey_EXSEL:null,kBLKey_EREOF:null,kBLKey_PLAY:null,kBLKey_ZOOM:null,kBLKey_NONAME:null,kBLKey_PA1:null,kBLKey_OEM_CLEAR:null},BLPointerButton:{kBLPointerButtonLeft:0,kBLPointerButtonRight:1,kBLPointerButtonMiddle:2},BLInputEventFlags:{kBLInputEventFlagLButtonPressed:1,kBLInputEventFlagRButtonPressed:2,kBLInputEventFlagShiftPressed:4,kBLInputEventFlagCtrlPressed:8,kBLInputEventFlagMButtonPressed:16},BLFlagIsSet:function(e,t){return 0!=(e&t)},BLCursorType:{kBLCursorArrow:0,kBLCursorHand:1,kBLCursorLinkHand:2,kBLCursorDragHand:3,kBLCursorIBeam:4,kBLCursorCross:5,kBLCursorNo:6,kBLCursorMove:7,kBLCursorRotate:8,kBLCursorScale_N:9,kBLCursorScale_NE:10,kBLCursorScale_E:11,kBLCursorScale_SE:12,kBLCursorScale_S:13,kBLCursorScale_SW:14,kBLCursorScale_W:15,kBLCursorScale_NW:16,kBLCursorScaleProportional_N:17,kBLCursorScaleProportional_NE:18,kBLCursorScaleProportional_E:19,kBLCursorScaleProportional_SE:20,kBLCursorScaleProportional_S:21,kBLCursorScaleProportional_SW:22,kBLCursorScaleProportional_W:23,kBLCursorScaleProportional_NW:24,kBLCursorReviewPencil:25,kBLCursorReviewPrecise:26,kBLCursorReviewStamp:27,kBLCursorReviewTextMarkup:28,kBLCursorSign:29,kBLCursorSnapshot:30,kBLCursorWait:51},BLRectFlags:{kBLRectPreferBottomOverTop:1,kBLRectPreferRightOverLeft:2,kBLRectDontScrollVisible:4},BLScrollBarType:{kBLScrollBarHorz:0,kBLScrollBarVert:1},BLScrollEvent:{kBLScrollHome:0,kBLScrollEnd:1,kBLScrollStepPlus:2,kBLScrollStepMinus:3,kBLScrollPagePlus:4,kBLScrollPageMinus:5,kBLScrollPos:6,kBLScrollSliderReleased:7,kBLScrollPanStartLeft:8,kBLScrollPanStartRight:9,kBLScrollPanEnd:10},BLSelectionOperations:{kBLSelectionAllowCopy:1,kBLSelectionAllowPaste:2,kBLSelectionAllowCut:4,kBLSelectionAllowUndo:8,kBLSelectionAllowRedo:16,kBLSelectionAllowToBack:32,kBLSelectionAllowToFront:64,kBLSelectionAllowOptList:128,kBLSelectionAllowMergeTextBlocks:256,kBLSelectionAllowRemoveTextBlock:512,kBLSelectionAllowViewSigned:1024,kBLSelectionAllowComment:2048,kBLSelectionAllowESignFieldTitle:4096,kBLSelectionAllowESignFieldCompany:8192,kBLSelectionShowESignFieldSelectSigner:16384,kBLSelectionShowEmbeddedFileOperations:32768,kBLSelectionAllowClipboardOperations:7,kBLSelectionAllowRollCmdOperations:24,kBLSelectionAllowMovableOperations:96,kBLSelectionAllowReply:1<<19,kBLSelectionAllowBringUp:1<<21,kBLSelectionAllowBringDown:1<<22},ContextMenuType:{Hand:"Hand",Edit:"Edit",Annotation:"Annotation",Measurement:"Measurement",Widget:"Widget",Link:"Link",Signature:"Signature",TextEdit:"TextEdit",Text:"Text",Transform:"Transform",ClipEdit:"ClipEdit",Image:"Image",EslSignature:"EslSignature"},pdfPageView:{none:"value",fitPage:"fit-page",fitWidth:"fit-width",actualSize:"actual-size",kBLZoomFitHeight:"?"},pdfDocumentMode:{view:"view",edit:"edit",select:"select",textFieldCreate:"textFieldCreate",checkBoxCreate:"checkBoxCreate",radioButtonCreate:"radioButtonCreate",comboBoxCreate:"comboBoxCreate",listBoxCreate:"listBoxCreate",pushButtonCreate:"pushButtonCreate",submitButtonCreate:"submitButtonCreate",emailButtonCreate:"emailButtonCreate",printButtonCreate:"printButtonCreate",annotOrder:"AnnotOrder",AddTextAnnot:"AddTextAnnot",Whiteout:"Whiteout",ClipCreate:"ClipCreate",ClipEdit:"ClipEdit",ImageCrop:"ImageCrop",TypeText:"TypeText"},pdfDocumentView:{single:"single",continuous:"continuous",facing:"facing",facingContinuous:"facing-continuous",facingConverPage:"facing-coverpage",facingContinuousConverPage:"facing-continuous-coverpage",flipper:"view-3d"},pdfAnnotationType:{unknown:"Unknown",link:"Link",text:"Text",freeText:"FreeText",underline:"Underline",highlight:"Highlight",ink:"Ink",strikeOut:"StrikeOut",line:"Line",polygon:"Polygon",polyLine:"PolyLine",stamp:"Stamp",square:"Square",circle:"Circle",widget:"Widget",squiggly:"Squiggly",caret:"Caret",redact:"Redact",popup:"Popup"},pdfAnnotationFlag:{Invisible:1,Hidden:2,Print:4,NoZoom:8,NoRotate:16,NoView:32,ReadOnly:64,Locked:128,ToggleNoView:256,LockedContents:512},pdfAcroformType:{unknown:"Unknown",button:"Btn",text:"Tx",choice:"Ch",signature:"Sig"},pdfAcroformFlag:{kAFPDFieldFlagReadOnly:1,kAFPDFieldFlagRequired:2,kAFPDFieldFlagNoExport:4,kAFPDTextFieldFlagMultiline:4096,kAFPDTextFieldFlagPassword:8192,kAFPDTextFieldFlagFileSelect:1048576,kAFPDTextFieldFlagDoNotSpellCheck:4194304,kAFPDTextFieldFlagDoNotScroll:8388608,kAFPDTextFieldFlagComb:16777216,kAFPDTextFieldFlagRichText:33554432,kAFPDButtonFieldFlagNoToggleToOff:16384,kAFPDButtonFieldFlagRadio:32768,kAFPDButtonFieldFlagPushbutton:65536,kAFPDButtonFieldFlagRadiosInUnison:33554432,kAFPDChoiceFieldFlagCombo:131072,kAFPDChoiceFieldFlagEdit:262144,kAFPDChoiceFieldFlagSort:524288,kAFPDChoiceFieldFlagMultiSelect:2097152,kAFPDChoiceFieldFlagDoNotSpellCheck:4194304,kAFPDChoiceFieldFlagCommitOnSelChange:67108864},pdfAction:{openWebPage:"openWebPage",openFile:"openFile",goToPage:"goToPage",js:"js"},pdfCommand:{saveFile:"SaveFile",securitySaveSettings:"SetSecurity",securityOwnerAuthorization:"SecurityOwnerAuthorization",securityApplyRedactions:"SecurityApplyRedactions",securityCreateRedactions:"SecurityCreateRedactions",changeAcroformValue:"ChangeAcroformValue",importAcroformsFdfData:"ImportFormData",exportAcroformsFdfData:"ExportFormData",resetAcroformsFdfData:"ResetFormData",doWhiteout:"WhiteoutPage",changeLayerState:"ChangeLayerState",createAnnotation:"CreateAnnotation",createTextMarkupAnnotation:"CreateTextMarkupAnnotation",createTextAnnotation:"CreateTextAnnotation",createInkAnnotation:"CreateInkAnnotation",createStampAnnotation:"CreateStampAnnotation",createShapeAnnotation:"CreateShapeAnnotation",createMeasurementAnnotation:"CreateMeasurementAnnotation",createMeasurementCalibration:"CreateMeasurementCalibration",createLinkAnnotation:"CreateLinkAnnotation",insertAnnotation:"InsertAnnot",changeAnnotationProperties:"ChangeAnnotProperties",deleteAnnotation:"DeleteAnnot",orderAnnotation:"OrderAnnotation",autoOrderAnnotation:"AutoOrderAnnotation",createTextBlock:"CreateTextBlock",transformTextBlock:"TransformTextBlock",editText:"EditText",deleteTextBlock:"DeleteTextBlock",replaceSearchResults:"Replace Search Results",insertImage:"InsertElement",changeElementMatrix:"ChangeElementMatrix",deleteContentElement:"DeleteElement",createClip:"InsertClipElement",transformClip:"TransformClipElement",deleteClip:"DeleteClipElement",cropImage:"CropImage",addAttachment:"AddAttachment",editAttachment:"ChangeAttachmentDescription",deleteAttachment:"DeleteAttachment",extractAttachment:"ExtractAttachment",extractAllAttachments:"ExtractAllAttachments",addBookmark:"AddBookmark",saveBookmark:"ChangeBookmarkProperties",deleteBookmark:"DeleteBookmark",changeMargin:"ChangePagesMargin",analyzeElement:"AnalyzeElement",exportElementImage:"ExportElementImage",extractPages:"ExtractPages",extractImage:"ExtractImage",extractImages:"ExtractImages",splitPdf:"SplitPdf",reducePdf:"ReducePdf",recognizeElement:"RecognizeElement",insertHeader:"InsertHeaders",deleteHeader:"DeleteHeaders",insertWatermark:"InsertWatermarks",deleteWatermark:"DeleteWatermarks",insertPageNumber:"InsertPageNumbers",deletePageNumber:"DeletePageNumbers",insertBatesNumbering:"InsertBatesNumbering",deleteBatesNumbering:"DeleteBatesNumbering",deletePages:"DeletePages",rotatePages:"RotatePages",movePages:"MovePages",changeSize:"ChangePagesSize",changeBackground:"ChangePagesBackground",insertBlankPages:"InsertBlankPages",insertPagesFromFile:"InsertPagesFromFile",insertDuplicatePages:"InsertDuplicatePages",replacePagesWithBlank:"ReplacePagesWithBlank",replacePagesFromFile:"ReplacePagesFromFile",replaceDuplicatePages:"ReplaceDuplicatePages",createStamp:"CreateStamp",deleteStamp:"DeleteStamp",changeDocumentProperties:"SetInfo",sendToEmail:"SendToEmail",sendToEvernote:"SendToEvernote",saveFileToStorage:"SaveFileToStorage",checkIn:"CheckIn",checkOut:"CheckOut",discardCheckOut:"DiscardCheckOut"},GLineCap:{kGLineCapFlat:0,kGLineCapRound:1,kGLineCapSquare:2},GLineJoin:{kGLineJoinMiter:0,kGLineJoinRound:1,kGLineJoinBevel:2},pdfClipPath:{moveTo:"m",lineTo:"l",curve:"v",close:"c"},pdfClipRule:{nonzero:0,evenodd:1},pdfPosition:{center:-1,top:0,rightTop:1,right:2,rightBottom:3,bottom:4,leftBottom:5,left:6,leftTop:7},BLDrawPageLayerType:{kBLDrawLayerGrid:0,kBLDrawLayerHighlight:1,kBLDrawLayerPage:2},TransformType:{TRANSFORM_NONE:0,TRANSFORM_MOVE:1,TRANSFORM_SCALE:2,TRANSFORM_ROTATE:3,TRANSFORM_RESIZE_BLOCK:4,TRANSFORM_HIT_ACTIONBUTTON:5},AnchorPlace:{ANCHOR_NONE:-1,ANCHOR_LEFT:0,ANCHOR_TOP:1,ANCHOR_RIGHT:2,ANCHOR_BOTTOM:3,ANCHOR_TOP_LEFT:4,ANCHOR_TOP_RIGHT:5,ANCHOR_BOTTOM_LEFT:6,ANCHOR_BOTTOM_RIGHT:7,ANCHOR_CENTER:8},PDEElementType:{kPDEElementUnknown:"unknown",kPDEElementContainer:"container",kPDEElementPlace:"place",kPDEElementPath:"path",kPDEElementText:"text",kPDEElementInlineImage:"image",kPDEElementShading:"shading",kPDEElementXObject:"xobject"},PDEXObjectType:{kPDEXObjectForm:"xform",kPDEXObjectImage:"ximage",kPDEXObjectPostScript:"xps",kPDEXObjectUnknown:"xunknown"},PDPageOperation:{kPDInsertPages:0,kPDDeletePages:1,kPDMovePages:2,kPDRotatePages:3,kPDResizePages:4},PDOptSaveQuality:{kPDOptSaveQualityMin:0,kPDOptSaveQualityLow:1,kPDOptSaveQualityMedium:2,kPDOptSaveQualityHigh:3,kPDOptSaveQualityMax:4},PDOptSaveFlags:{kOptSaveRemoveMetadata:1,kOptSaveRemoveBookmarks:2,kOptSaveRemoveAttachments:4,kOptSaveRemoveStructTree:8,kOptSaveDownsampleImages:16},BLInputEventType:{kBLInputEventPointerPressed:1,kBLInputEventPointerReleased:2,kBLInputEventPointerMoved:3,kBLInputEventPointerEnter:4,kBLInputEventPointerLeave:5,kBLInputEventCommand:6,kBLInputEventPointerDoubleClicked:7,kBLInputEventWheelChanged:8,kBLInputEventKeyPressed:9,kBLInputEventKeyReleased:10,kBLInputEventCharReceived:11,kBLInputEventActivated:12,kBLInputEventDeactivated:13},GInterpolationMode:{kGInterpolationModeNearestNeighbor:0,kGInterpolationModeLinear:1,kGInterpolationModeHighQualityLinear:2},GFontStyle:{kGFontStyleRegular:0,kGFontStyleBold:1,kGFontStyleItalic:2,kGFontStyleBoldItalic:3},Units:{unit:0,inch:1,millimetrs:2,centimeters:3,point:4},FontStyle:{Regular:0,Italic:1,Bold:2,BoldItalic:3},TextJustification:{Left:0,Center:1,Right:2},FontFormat:{Type1:0,TrueType:1,Type3:2},PDPageRenderFlags:{kPDPageRenderPrint:1,kPDPageRenderSkipContent:2,kPDPageRenderSkipAnnots:4,kPDPageRenderSkipMarkupAnnots:8,kPDPageRenderHighlightAnnots:16,kPDPageRenderOrderAnnots:32},PdfType:{PDF_IMAGE_TEXT:0,PDF_TEXT:1,PDF_TEXT_IMAGE:2},PdfVersion:{PDF_1_4:0,PDF_1_4_A1b:1,PDF_1_4_A1a:2,PDF_1_5:3,PDF_1_6:4,PDF_1_7:5,PDF_1_7_A2b:6,PDF_1_7_A2a:7,PDF_1_7_3:8,PDF_1_7_5:9,PDF_1_7_8:10},RetainColorMode:{RETAIN_NO_COLOR:0,RETAIN_COLOR_OF_TEXT:1,RETAIN_COLOR_OF_TEXT_AND_BACKGROUND:2},StampsEnum:{Custom:0,Dynamic:1,Business:2},pdfEncryption:{RC440:0,RC440128:1,AES128:2,AES256:3},PDPerms:{kPDPermOpen:1,kPDPermSecure:2,kPDPermPrint:4,kPDPermEdit:8,kPDPermCopy:16,kPDPermEditNotes:32,kPDPermSaveAs:64,kPDPermExt:128,kPDPermFillAndSign:256,kPDPermAccessible:512,kPDPermDocAssembly:1024,kPDPermHighPrint:2048,kPDPermOwner:32768,kPDPermFormSubmit:65536,kPDPermFormSpawnTempl:131072},pdfPageMode:{CloseAllPanels:"page-only",OpenOutlinesPanel:"bookmarks",OpenPagePreviewPanel:"page-preview",FullscreenMode:"fullscreen",OpenLayersPanel:"layers",OpenAttachmentsPanel:"attachments"},BLPermReqObj:{kBLPermReqObjUnknown:0,kBLPermReqObjDoc:1,kBLPermReqObjPage:2,kBLPermReqObjContent:3,kBLPermReqObjAnnot:4,kBLPermReqObjForm:5,kBLPermReqObjBookmark:6,kBLPermReqObjAttachment:7},BLPermReqOp:{kBLPermReqOpUnknown:0,kBLPermReqOpInsert:1,kBLPermReqOpDelete:2,kBLPermReqOpMove:3,kBLPermReqOpRotate:4,kBLPermReqOpModify:5,kBLPermReqOpExtract:6,kBLPermReqOpAccessible:7,kBLPermReqOpOpen:8,kBLPermReqOpSecure:9,kBLPermReqOpPrint:10,kBLPermReqOpPrintHigh:11,kBLPermReqOpFillIn:12,kBLPermReqOpFullSave:13,kBLPermReqOpCopy:14,kBLPermReqOpCopyForAccessibility:15,kBLPermReqOpCreationOfTemplatePages:16,kBLPermReqOpAllowDocAssembly:17},objectPropertyType:{number:"number",select:"select",color:"color",angle:"angle",textedit:"textedit",texteditUpdateOn:"texteditUpdateOn",textlabel:"textlabel",buttongroup:"buttongroup",action:"action",value:"value",script:"script",opacity:"opacity",maxLength:"maxLength",textarea:"textarea",items:"items"},objectPropertyGroupType:{appearance:"appearance",values:"values",events:"events",general:"general"},objectPropertyStyle:{alignment:"alignment",modifier:"modifier",bool:"bool",checked:"checked",borderStyle:"borderStyle",highlight:"highlight",rotate:"rotate",font:"font",fontSize:"fontSize",dateTime:"dateTime",eslSignatureType:"eslSignatureType",eslFieldType:"eslFieldType"},shapesEnum:{line:"line",arrow:"arrow",doubleArrow:"doubleArrow",isoscelesTriangle:"isoscelesTriangle",blockArrow:"blockArrow",brace:"brace",multiply:"multiply",explosion:"explosion",star:"star",oval:"oval",rectangle:"rectangle"},measurementsEnum:{distance:"distance",perimeter:"perimeter",area:"area"},animState:{kStateNone:0,kStatePull:1,kStatePullCorner:2,kStateAutoCorner:3,kStateFlipPage:4,kStateRelease:5},BLZoomType:{kBLZoomValue:"value",kBLZoomFitPage:"fit-page",kBLZoomFitWidth:"fit-width",kBLZoomFitHeight:"fit-height"},FlipDirection:{kFlipNone:0,kFlipLeft:-1,kFlipRight:1},PDPageDirection:{kPDPageDirectionL2R:0,kPDPageDirectionR2L:1},InAppTrackingOnlineServiceAction:{kIAT_OS_LogIn:"login",kIAT_OS_LogOut:"logout",kIAT_OS_SignUp:"signup"},AnnotObjType:{Esl:0,Annot:1},EditModes:{Properties:1,Comment:2,Move:4,Rotate:8,Resize:16,Remove:32,MovePoint:64},PDAnnotBorderStyle:{kPDAnnotBorderStyleSolid:0,kPDAnnotBorderStyleDashed:1,kPDAnnotBorderStyleBeveled:2,kPDAnnotBorderStyleInset:3,kPDAnnotBorderStyleUnderline:4},FileConvertType:{Word:"word",Powerpoint:"powerpoint",Excel:"excel",Image:"image",Html:"html",Text:"text",Rtf:"rtf",Pdfa:"pdfa",Batch:"batch"},BatesNumberingTabs:{ADDFILES:"ADD FILES",BATESNUMBERS:"BATES NUMBERS",SAVEDFILES:"SAVED FILES"},OCREngine:{iris:"IRIS",tesseract:"tesseract"}}},DNEW:function(e,t,n){"use strict";var r=i(n("b8L+")),o=i(n("oRGr"));function i(e){return e&&e.__esModule?e:{default:e}}n("U49B"),n("Ad04"),n("gT1Z");var a="bl-ocr-idrs-view-factory";angular.module("bl-ocr-idrs-view-module",["bl-ocr-idrs-layout-module","bl-ocr-idrs-inputHandlerStack-module","bl-ocr-idrs-commandStack-module"]).factory(a,["$q","$rootScope","bl-ocr-idrs-layout-factory","bl-ocr-idrs-inputHandlerStack-factory","bl-ocr-idrs-commandStack-factory",function(e,t,n,i,a){o.default.BLZoomType,o.default.BLScrollType,o.default.BLScrollBarType,o.default.BLScrollEvent,o.default.PAGE_HALF_MARGIN,o.default.PAGE_MARGIN;var l=function(e,l){var u=this,c=e,s=l,d=null,f=r.default.size(),p=r.default.size(),g={onChanged:function(){t.$broadcast("idrs-view-onchanged")},onDraw:function(e){t.$broadcast("idrs-view-ondraw",e)},onActiveToolChanged:function(){t.$broadcast("idrs-view-onactivetoolchanged")}},h=null,m=null,v=function(e){e.pushState(),function(e){var t=d.getTransform().mapRect(r.default.rect(0,0,p.width,p.height));t.inflate(1,1);e.strokeRect(t,"#000000")}(e),function(e){var t=d.getTransform().mapRect(r.default.rect(0,0,p.width,p.height));t.inflate(1,1),e.clipRect(t)}(e);var t=d.getTransform();if(s){var n=l,o=t.mapRect(r.default.rect(0,0,p.width,p.height));e.fillBitmap(o,n)}c&&c.draw(e,d),e.popState()};h=a.createInstance(),m=i.createInstance(),s&&(p=r.default.size(s.width,s.height)),(d=n.createInstance()).resizeContent(p);var y=t.$on("idrs-layout-zoom-changed",function(e,t){g.onChanged()}),b=t.$on("idrs-layout-rotation-changed",function(e,t){g.onChanged()}),x=t.$on("idrs-scroll-changed",function(e,t){g.onChanged()}),S=t.$on("idrs-scroll-size-changed",function(e,t){g.onChanged()}),P=t.$on("idrs-scroll-range-changed",function(e,t){g.onChanged()}),k=t.$on("idrs-scroll-position-changed",function(e,t){g.onChanged()}),T=t.$on("idrs-scroll-visibility-changed",function(e,t){g.onChanged()}),w=t.$on("idrs-inputHandlerStack-handleType-changed",function(e,t){g.onChanged()});u.dispose=function(){m.terminate(),y(),b(),x(),S(),P(),k(),T(),w()},u.do=function(e){h&&(h.do(e),u.invalidate())},u.undo=function(){h&&m&&(h.undo(),m.resetInputHandler(),u.invalidate())},u.redo=function(){h&&m&&(h.redo(),m.resetInputHandler(),u.invalidate())},u.setBitmap=function(e){(s=e)&&(p=r.default.size(s.width,s.height)),d.resizeContent(p),u.invalidate()},u.invalidate=function(){g.onChanged()},u.draw=function(e){e&&(e.pushState(),v(e),e.popState(),e.pushState(),g.onDraw(e),e.popState())},u.resizeView=function(e){f.isEqual(e)||(f=e,d.resizeView(f),u.invalidate())},u.getViewSize=function(){return f.copy()},u.getContentSize=function(){return p.copy()},u.events=function(){return g},u.setZones=function(){c=e},u.getZones=function(){return c},u.getLayout=function(){return d},u.getCommandsStack=function(){return h},u.getInputHandlerStack=function(){return m},u.hitTest=function(e){var t=d.mapPointToContent(e);return c.hitTest(t.floor())},u.dispatchEvent=function(e){m.dispatchEvent(e)},u.pushInputHandler=function(e){m.pushInputHandler(e)},u.resetInputHandler=function(){m.resetInputHandler(),u.invalidate()},u.getOcrZones=function(){var e=[];if(c)for(var t=c.getCount(),n=0;n<t;++n){var r=c.getZone(n);if(r)if(0!=r.getSeparatorsCount()){var o=C(r);isArray(o)&&(e=e.concat(o))}else e.push(r.getOcrZone())}return e};var C=function(e){var t=[],n=[],i=[],a=e.getRect(),l=e.getType(),u={position:a.top,type:o.default.OcrZoneSeparatorType.kOcrZoneHorzSeparator},c={position:a.left,type:o.default.OcrZoneSeparatorType.kOcrZoneVertSeparator};n.push(u),i.push(c);for(var s=e.getSeparatorsCount(),d=0;d<s;++d){var f=e.getSeparator(d);f.type==o.default.OcrZoneSeparatorType.kOcrZoneHorzSeparator?n.push(f):f.type==o.default.OcrZoneSeparatorType.kOcrZoneVertSeparator&&i.push(f)}var p={position:a.bottom,type:o.default.OcrZoneSeparatorType.kOcrZoneHorzSeparator},g={position:a.right,type:o.default.OcrZoneSeparatorType.kOcrZoneVertSeparator};n.push(p),i.push(g),n.sort(function(e,t){return e.position-t.position}),i.sort(function(e,t){return e.position-t.position});for(var h=1;h<n.length;++h)for(var m=1;m<i.length;++m){var v=i[m-1].position,y=i[m].position,b=n[h-1].position,x=n[h].position,S=r.default.rect(v,b,y,x),P={};P.rect=S,P.isRectangle=!0,P.type=l,P.lines=[],t.push(P)}return t}};return{createInstance:function(e,t){return new l(e,t)}}}]),window.mainApp.factory(a,getConstructor("bl-ocr-idrs-view-module",a,"factory"))},F1Q0:function(e,t,n){"use strict";var r=l(n("pFYg")),o=l(n("fZjL")),i=l(n("C3UN")),a=l(n("r/7/"));function l(e){return e&&e.__esModule?e:{default:e}}n("JARy");var u="bl-object-properties-factory";angular.module("bl-object-properties-module",["pdf-manager-module","ui-viewer-textedit-module"]).factory(u,["$rootScope","$q","pdf-manager-factory","ui-viewer-textedit-factory",function(e,t,n,l){var u={isValid:!0},c=function(t){var n=t.getFullPropData(),r=n.toHex&&n.toHex()?n.toHex(!0):n,i=window.HashCode.value(r),a=t.serverId,l="";if(isArray(a)){for(var c={},s=a.first(),d=a.length-1;d>=1;d--){var f=a[d];if(d>=a.length-1)l=f,c[f]=r;else{var p={};p[f]=c,c=p}}u[s]||(u[s]={}),t.hash!==i?u[s][l]=c[l]:u[s][l]&&(delete u[s][l],u[s]&&(0,o.default)(u[s]).length<=0&&delete u[s])}else t.hash!==i?u[a]=r:u[a]&&delete u[a];e.$broadcast("bl-object-properties-changeset-changed",{modified:(0,o.default)(u).length>1})},s=l.getFontSizesDropDown();return{createPropValue:function(e,t,n){return new function(e,t,n){var o=e,a={serverId:t,getFullPropData:function(){return o&&o.getFullPropData?o.getFullPropData():o.propType&&o.propType===i.default.objectPropertyType.opacity?o.val:o}},l=function(){return o.propType&&o.propType===i.default.objectPropertyType.opacity?Math.round(100*o.val):o},u=function(e){"object"===(void 0===e?"undefined":(0,r.default)(e))&&null!==e&&e.value&&!isArray(e)?o=e.value:o.propType&&o.propType===i.default.objectPropertyType.opacity?o.val=e/100:o=e,c(a)};isArray(n)&&(l=function(){for(var e=n.length,t=o,r=0;r<e;r++){var i=n[r];t.hasOwnProperty(i)&&(t=t[i])}return t},u=function(e){for(var t=n.length,i=o,l=0;l<t;l++){var u=n[l];if(i.hasOwnProperty(u)){if(l>=t-1){"object"===(void 0===e?"undefined":(0,r.default)(e))&&null!==e&&e.value&&!isArray(e)?i[u]=e.value:i[u]=e;break}i=i[u]}}c(a)}),Object.defineProperty(a,"value",{get:l,set:u});var s=a.getFullPropData();return a.hash=HashCode.value(s.toHex&&s.toHex()?s.toHex(!0):s),a}(e,t,n)},createProperty:function(e,t,r,o){return new function(e,t,r,o){var l=void 0,c=void 0,d=this;d.isValid=!1,isUndefinedOrNull(o)||(isArray(o)?l=o:"string"==typeof o&&(c=o,o===i.default.objectPropertyStyle.font&&e===i.default.objectPropertyType.select?n.currentDocument(function(e){l=e.fonts.getSystemFontsProps()}):l=o===i.default.objectPropertyStyle.fontSize?s:a.default[o]));var f={serverId:t.serverId,id:c||"",text:r||"",type:e,isAction:e===i.default.objectPropertyType.action||e===i.default.objectPropertyType.value||e===i.default.objectPropertyType.script||e===i.default.objectPropertyType.items,field:t,checked:!0,options:l||[],isCtrlVisible:!1,isEditable:e!==i.default.objectPropertyType.textlabel};return Object.defineProperty(f,"isValid",{get:function(){return d.isValid},set:function(e){u.isValid=e,d.isValid=e}}),f}(e,t,r,o)},createSubGroup:function(e,t){return new function(e,t){var n={text:e||"",checked:!0,props:t||[],addProperty:function(e){n.props.push(e)}};return n}(e,t)},createMainGroup:function(e){return new function(e){this.defaultTab=0,this.addToTabGroup=function(e,t){var n=this[e];isUndefinedOrNull(n)?this[e]={groups:[t]}:n.groups.push(t)},this.annotChangeCallback=function(){var n=t.defer();return u.isValid?(delete u.isValid,e&&e(u).then(function(){u={isValid:!0},n.resolve()},function(){n.reject("error")})):n.reject("invalid"),n.promise}}(e)}}}]),window.mainApp.factory(u,getConstructor("bl-object-properties-module",u,"factory"))},"FEK/":function(e,t,n){"use strict";var r=c(n("HSQo")),o=c(n("C3UN")),i=c(n("b8L+")),a=c(n("VmtT")),l=c(n("IZAc")),u=c(n("7mWT"));function c(e){return e&&e.__esModule?e:{default:e}}n("RR7e"),n("iMU4"),n("Ij0n"),n("F1Q0"),n("v1ab");var s="bl-edit-widgetannoteditselection-module",d="bl-edit-widgetannoteditselection-factory";angular.module(s,["bl-edit-baseannoteditselection-module","bl-edit-widgetannoteditobject-module","transformer-painter-module","bl-edit-module","bl-object-properties-module","pdf-manager-module"]).factory(d,["$rootScope","bl-edit-baseannoteditselection-factory","bl-edit-widgetannoteditobject-factory","transformer-painter-service","bl-edit-service","bl-object-properties-factory","pdf-manager-factory",function(e,t,n,c,s,d,f){var p=a.default.LookAndFeel.AnnotTransformerFrameColor,g=a.default.LookAndFeel.SnapLinesColor,h=l.default.createInstance("#FFFFFFFF");return{createInstance:function(){var e=t.createInstance();return e.draw=function(t,r){var l=e.AnnotEditObject_;if(r==l.getPageIndex()){var u=null;if(l.getOperation()==n.TransformType.kTransformNone)u=i.default.quadFromRect(l.getRect());else{var s=i.default.quadFromRect(l.getRect());c.drawFrame(t,s,null,p,[10]),u=i.default.quadFromRect(l.getOperationRect());var d=l.getSnapInfo();d&&c.drawSnapInfo(t,d,g)}if(c.drawFrame(t,u,null,p),l.getAnnotSubtype()!=o.default.pdfAnnotationType.text&&l.getOperation()==n.TransformType.kTransformNone){var f=a.default.LookAndFeel.TransformerAnchorRadius;if(l.hasAnyCurrentEditMode(o.default.EditModes.Resize|o.default.EditModes.Rotate)&&c.drawMarker(t,h,p,u.top_left(),f),l.hasAnyCurrentEditMode(o.default.EditModes.Move|o.default.EditModes.Resize|o.default.EditModes.Rotate))if(deviceDetect.isPhone()){var m={fillColor:"#3688dc",anchorRadius:f+5,shadow:!0,font:"19px icomoon",textColor:"#ffffff",textOffsetX:-9,textOffsetY:8};l.hasAnyCurrentEditMode(o.default.EditModes.Move)?m.text="":l.hasAnyCurrentEditMode(o.default.EditModes.Resize)?m.text="":l.hasAnyCurrentEditMode(o.default.EditModes.Rotate)&&(m.text=""),c.drawMarker(t,m.fillColor,p,u.top_right(),m.anchorRadius,m)}else c.drawMarker(t,h,p,u.top_right(),f);l.hasAnyCurrentEditMode(o.default.EditModes.Resize|o.default.EditModes.Rotate)&&(c.drawMarker(t,h,p,u.bottom_right(),f),c.drawMarker(t,h,p,u.bottom_left(),f));var v=t.getCTM().mapQuad(u),y=a.default.LookAndFeel.TransformerScaleZoneRadius;l.hasAnyCurrentEditMode(o.default.EditModes.Resize)&&i.default.pointsDistance(v.center_right(),v.center_left())>=3*y&&(c.drawMarker(t,h,p,u.top_center(),f),c.drawMarker(t,h,p,u.bottom_center(),f)),l.hasAnyCurrentEditMode(o.default.EditModes.Resize)&&i.default.pointsDistance(v.top_center(),v.bottom_center())>=3*y&&(c.drawMarker(t,h,p,u.center_right(),f),c.drawMarker(t,h,p,u.center_left(),f))}}},e.getProperties=function(){var t=this.getSelectionData().getAnnot();t.acroform.type==o.default.pdfAcroformType.signature||(t.acroform.type,o.default.pdfAcroformType.unknown);var n=d.createMainGroup(function(n){return f.changeAnnotationProperties(e.DocumentView_.getDocument(),t,e.AnnotEditObject_.getPageIndex(),n)}),i={flags:t.flags,getFullPropData:function(){return this.flags}};(0,r.default)(i,{visible:{get:function(){return!(this.flags&o.default.pdfAnnotationFlag.Hidden||this.flags&o.default.pdfAnnotationFlag.NoView)},set:function(e){e?(this.flags&=~o.default.pdfAnnotationFlag.Hidden,this.flags&=~o.default.pdfAnnotationFlag.NoView):this.flags|=o.default.pdfAnnotationFlag.Hidden}},locked:{get:function(){return 0!=(this.flags&o.default.pdfAnnotationFlag.Locked)},set:function(e){e?this.flags|=o.default.pdfAnnotationFlag.Locked:this.flags&=~o.default.pdfAnnotationFlag.Locked}}});var a={flags:t.acroform.fieldFlags,getFullPropData:function(){return this.flags}};return(0,r.default)(a,{multiline:{get:function(){return 0!=(this.flags&o.default.pdfAcroformFlag.kAFPDTextFieldFlagMultiline)},set:function(e){e?this.flags|=o.default.pdfAcroformFlag.kAFPDTextFieldFlagMultiline:this.flags&=~o.default.pdfAcroformFlag.kAFPDTextFieldFlagMultiline}},password:{get:function(){return 0!=(this.flags&o.default.pdfAcroformFlag.kAFPDTextFieldFlagPassword)},set:function(e){e?this.flags|=o.default.pdfAcroformFlag.kAFPDTextFieldFlagPassword:this.flags&=~o.default.pdfAcroformFlag.kAFPDTextFieldFlagPassword}},readonly:{get:function(){return 0!=(this.flags&o.default.pdfAcroformFlag.kAFPDFieldFlagReadOnly)},set:function(e){e?this.flags|=o.default.pdfAcroformFlag.kAFPDFieldFlagReadOnly:this.flags&=~o.default.pdfAcroformFlag.kAFPDFieldFlagReadOnly}},noexport:{get:function(){return 0!=(this.flags&o.default.pdfAcroformFlag.kAFPDFieldFlagNoExport)},set:function(e){e?this.flags|=o.default.pdfAcroformFlag.kAFPDFieldFlagNoExport:this.flags&=~o.default.pdfAcroformFlag.kAFPDFieldFlagNoExport}},required:{get:function(){return 0!=(this.flags&o.default.pdfAcroformFlag.kAFPDFieldFlagRequired)},set:function(e){e?this.flags|=o.default.pdfAcroformFlag.kAFPDFieldFlagRequired:this.flags&=~o.default.pdfAcroformFlag.kAFPDFieldFlagRequired}},editable:{get:function(){return 0!=(this.flags&o.default.pdfAcroformFlag.kAFPDChoiceFieldFlagEdit)},set:function(e){e?this.flags|=o.default.pdfAcroformFlag.kAFPDChoiceFieldFlagEdit:this.flags&=~o.default.pdfAcroformFlag.kAFPDChoiceFieldFlagEdit}}}),function(){var e=d.createPropValue("Widget","T"),r=d.createProperty(o.default.objectPropertyType.textlabel,e,"Type"),a=t.acroform.fieldName,l=d.createPropValue(a,["field","N"]),u=d.createProperty(o.default.objectPropertyType.textedit,l,"Name"),c=d.createSubGroup("Type",[r,u]);n.addToTabGroup(o.default.objectPropertyGroupType.general,c);var s=new Date(t.modificationDate),f=d.createPropValue(s,"MD"),p=d.createProperty(o.default.objectPropertyType.textlabel,f,"Modified",o.default.objectPropertyStyle.dateTime),g=d.createPropValue(i,"F",["locked"]),h=d.createProperty(o.default.objectPropertyType.select,g,"Locked",o.default.objectPropertyStyle.bool),m=d.createSubGroup("Modify",[p,h]);n.addToTabGroup(o.default.objectPropertyGroupType.general,m)}(),function(){var e={W:t.borderStyle.width,S:t.borderStyle.style,D:t.borderStyle.dashPattern},r=d.createPropValue(e,"BS",["W"]),u=d.createProperty(o.default.objectPropertyType.number,r,"Width"),c=d.createPropValue(e,"BS",["S"]),s=d.createProperty(o.default.objectPropertyType.select,c,"Style",o.default.objectPropertyStyle.borderStyle),f={color:t.borderColor,getFullPropData:function(){return this.color.toString(!0)}},p=d.createPropValue(f,"BC",["color"]);p.isNone=t.isNoneBC;var g=d.createProperty(o.default.objectPropertyType.color,p,"Color","border-color"),h=d.createPropValue(i,"F",["visible"]),m=d.createProperty(o.default.objectPropertyType.select,h,"Visible",o.default.objectPropertyStyle.bool),v=t.highlightMode,y=d.createPropValue(v,"H"),b=d.createProperty(o.default.objectPropertyType.select,y,"Highlight",o.default.objectPropertyStyle.highlight),x=d.createSubGroup("Border",[u,s,g,m,b]);n.addToTabGroup(o.default.objectPropertyGroupType.appearance,x);var S=t.contentRotate,P=d.createPropValue(S,"r"),k=d.createProperty(o.default.objectPropertyType.select,P,"Rotate",o.default.objectPropertyStyle.rotate),T=d.createSubGroup("Rotate",[k]);n.addToTabGroup(o.default.objectPropertyGroupType.appearance,T);var w=t.acroform.uiFieldName,C=d.createPropValue(w,["field","Nu"]),B=d.createProperty(o.default.objectPropertyType.textedit,C,"Tooltip"),L=d.createSubGroup("Tooltip",[B]);n.addToTabGroup(o.default.objectPropertyGroupType.appearance,L);var F={color:t.backgroundColor,getFullPropData:function(){return this.color.toString(!0)}};Object.defineProperty(F,"transparent",{get:function(){return"none"===this.color||this.color.isTransparent()},set:function(e){this.color=l.default.createInstance(!0===e?"#00000000":"#FFFFFFFF")}});var A=d.createPropValue(F,"BG",["transparent"]),_=d.createProperty(o.default.objectPropertyType.select,A,"Transparent",o.default.objectPropertyStyle.bool),M=d.createPropValue(F,"BG",["color"]);M.isNone=t.isNoneBG;var E=d.createProperty(o.default.objectPropertyType.color,M,"Color","bg-color"),R=d.createSubGroup("Background",[_,E]);n.addToTabGroup(o.default.objectPropertyGroupType.appearance,R);var I=[];if(t.acroform.type==o.default.pdfAcroformType.text){var O=d.createPropValue(a,["field","F"],["multiline"]),D=d.createProperty(o.default.objectPropertyType.select,O,"Multiline",o.default.objectPropertyStyle.bool);I.push(D);var N=d.createPropValue(a,["field","F"],["password"]),U=d.createProperty(o.default.objectPropertyType.select,N,"Password",o.default.objectPropertyStyle.bool);I.push(U)}if(t.acroform.type==o.default.pdfAcroformType.text||t.acroform.type==o.default.pdfAcroformType.choice){var H=t.acroform.justification,j=d.createPropValue(H,["field","Q"]),G=d.createProperty(o.default.objectPropertyType.select,j,"Text Alignment",o.default.objectPropertyStyle.alignment);I.push(G)}if(I.length>0){var z=d.createSubGroup("Text",I);n.addToTabGroup(o.default.objectPropertyGroupType.appearance,z)}if(t.acroform.type==o.default.pdfAcroformType.button){var V=t.caption,K=d.createPropValue(V,"CA"),W=d.createProperty(o.default.objectPropertyType.textedit,K,"Caption"),$=d.createSubGroup("Caption",[W]);n.addToTabGroup(o.default.objectPropertyGroupType.appearance,$)}var q={F:t.font.family,S:t.font.size,C:t.font.color,s:t.font.style,getFullPropData:function(){return{F:this.F,S:this.S,C:this.C.toString(!0),s:this.s}}};Object.defineProperty(q,"color",{get:function(){return this.C},set:function(e){this.C=e}});var Z=d.createSubGroup("Font"),X=t.acroform.type==o.default.pdfAcroformType.text||t.acroform.type==o.default.pdfAcroformType.choice||t.acroform.type==o.default.pdfAcroformType.button&&t.acroform.isPush();if(X){var Q=d.createPropValue(q,"Fnt",["F"]),J=d.createProperty(o.default.objectPropertyType.select,Q,"Type",o.default.objectPropertyStyle.font);Z.addProperty(J)}var Y=d.createPropValue(q,"Fnt",["S"]),ee=d.createProperty(o.default.objectPropertyType.number,Y,"Size",o.default.objectPropertyStyle.font);Z.addProperty(ee);var te=d.createPropValue(q,"Fnt",["color"]),ne=d.createProperty(o.default.objectPropertyType.color,te,"Font Color","fnt-color");if(Z.addProperty(ne),X){var re=d.createPropValue(q,"Fnt",["s"]),oe=d.createProperty(o.default.objectPropertyType.select,re,"Font Modifier",o.default.objectPropertyStyle.modifier);Z.addProperty(oe)}n.addToTabGroup(o.default.objectPropertyGroupType.appearance,Z)}(),function(){var e=[],r=d.createPropValue(a,["field","F"],["readonly"]),i=d.createProperty(o.default.objectPropertyType.select,r,"Read Only",o.default.objectPropertyStyle.bool);e.push(i);var l=d.createPropValue(a,["field","F"],["noexport"]),u=d.createProperty(o.default.objectPropertyType.select,l,"No Export",o.default.objectPropertyStyle.bool);if(e.push(u),t.acroform.type!==o.default.pdfAcroformType.button||!t.acroform.isPush()){var c=d.createPropValue(a,["field","F"],["required"]),s=d.createProperty(o.default.objectPropertyType.select,c,"Required",o.default.objectPropertyStyle.bool);e.push(s)}if(t.acroform.type==o.default.pdfAcroformType.text){var f=t.acroform.maxlength,p=d.createPropValue(f,["field","ML"]),g=d.createProperty(o.default.objectPropertyType.number,p,"Length Limit");e.push(g)}if(t.acroform.type==o.default.pdfAcroformType.choice){if(0!=(t.acroform.fieldFlags&o.default.pdfAcroformFlag.kAFPDChoiceFieldFlagCombo)){var h=d.createPropValue(a,["field","F"],["editable"]),m=d.createProperty(o.default.objectPropertyType.select,h,"Editable",o.default.objectPropertyStyle.bool);e.push(m)}var v=t.acroform.items,y=d.createPropValue(v,["field","O"]),b=d.createProperty(o.default.objectPropertyType.value,y,"Options");e.push(b)}var x=d.createSubGroup("Value",e);n.addToTabGroup(o.default.objectPropertyGroupType.values,x)}(),function(){var e={actions:u.default.createInstanceCollection(t.mouseenterActions),getFullPropData:function(){return u.default.toJsonData(this.actions)}},r=d.createPropValue(e,"aE",["actions"]),i=d.createProperty(o.default.objectPropertyType.action,r,"Mouse Enter"),a={actions:u.default.createInstanceCollection(t.mouseleaveActions),getFullPropData:function(){return u.default.toJsonData(this.actions)}},l=d.createPropValue(a,"aX",["actions"]),c=d.createProperty(o.default.objectPropertyType.action,l,"Mouse Exit"),s={actions:u.default.createInstanceCollection(t.mousedownActions),getFullPropData:function(){return u.default.toJsonData(this.actions)}},f=d.createPropValue(s,"aD",["actions"]),p=d.createProperty(o.default.objectPropertyType.action,f,"Mouse Down"),g={actions:u.default.createInstanceCollection(t.mouseupActions),getFullPropData:function(){return u.default.toJsonData(this.actions)}},h=d.createPropValue(g,"aU",["actions"]),m=d.createProperty(o.default.objectPropertyType.action,h,"Mouse Up"),v={actions:u.default.createInstanceCollection(t.focusActions),getFullPropData:function(){return u.default.toJsonData(this.actions)}},y=d.createPropValue(v,"aFo",["actions"]),b=d.createProperty(o.default.objectPropertyType.action,y,"Focus"),x={actions:u.default.createInstanceCollection(t.blurActions),getFullPropData:function(){return u.default.toJsonData(this.actions)}},S=d.createPropValue(x,"aBl",["actions"]),P=d.createProperty(o.default.objectPropertyType.action,S,"Blur"),k=d.createSubGroup("Widget Events",[i,c,p,m,b,P]);if(t.acroform.type==o.default.pdfAcroformType.button){var T={actions:u.default.createInstanceCollection(t.clickActions),getFullPropData:function(){return u.default.toJsonData(this.actions)}},w=d.createPropValue(T,"a",["actions"]),C=d.createProperty(o.default.objectPropertyType.action,w,"Action");k.addProperty(C)}n.addToTabGroup(o.default.objectPropertyGroupType.events,k)}(),function(){if(t.acroform.type!==o.default.pdfAcroformType.button){var e={actions:u.default.createInstanceCollection(t.acroform.modifyActions),getFullPropData:function(){return u.default.toJsonData(this.actions)}},r=d.createPropValue(e,["field","aK"],["actions"]),i=d.createProperty(o.default.objectPropertyType.script,r,"Modify"),a={actions:u.default.createInstanceCollection(t.acroform.validateActions),getFullPropData:function(){return u.default.toJsonData(this.actions)}},l=d.createPropValue(a,["field","aV"],["actions"]),c=d.createProperty(o.default.objectPropertyType.script,l,"Validate"),s={actions:u.default.createInstanceCollection(t.acroform.calculateActions),getFullPropData:function(){return u.default.toJsonData(this.actions)}},f=d.createPropValue(s,["field","aC"],["actions"]),p=d.createProperty(o.default.objectPropertyType.script,f,"Calculate"),g={actions:u.default.createInstanceCollection(t.acroform.formatActions),getFullPropData:function(){return u.default.toJsonData(this.actions)}},h=d.createPropValue(g,["field","aF"],["actions"]),m=d.createProperty(o.default.objectPropertyType.script,h,"Format"),v=d.createSubGroup("Field Events",[i,c,p,m]);n.addToTabGroup(o.default.objectPropertyGroupType.events,v)}}(),t.acroform.type==o.default.pdfAcroformType.button&&t.acroform.isPush()?n.defaultTab=3:t.acroform.type==o.default.pdfAcroformType.choice&&(n.defaultTab=2),n},e},select:function(e,t,r,o){var i=null;if(!e||t<0||!r)return null;var a=e.document,l=null;o||(l=s.collectAnnotSnapData(e,t,r));var u=n.createInstance(a,t,r,l);return o?e.setHighlightNamed("WidgetEdit",u):i=e.setSelectionAndTool("WidgetEdit",u),i}}}]),window.mainApp.factory(d,getConstructor(s,d,"factory"))},FIVQ:function(e,t,n){"use strict";var r=i(n("Xxa5")),o=i(n("exGp"));function i(e){return e&&e.__esModule?e:{default:e}}n("RgsW"),n("mGod"),n("WAbE"),n("ekou");var a="ui-sitemenu-module",l=angular.module(a,["pdf-manager-module"]);function u(e,t,n,r,o,i,a,l,u){var c={buttons:e,lastState:"home",lastParams:{},isVisible:!0},s=!1,d=["savefile","saveas","close","properties","send","print","reduce"],f=function(e){for(var t=null===e,n=c.buttons.length,r=0;r<n;r++){var o=c.buttons[r];-1!=d.indexOf(o.id)&&(o.disabled=t,"savefile"!==o.id||o.disabled||(o.disabled=!e.isModified))}};return f(null),Object.defineProperty(c,"isVisible",{get:function(){return s},set:function(e){s!=e&&!0===(s=e)&&o(function(){a.currentDocument(function(e){f(e)},function(){f(null)})},500)}}),c.getPlaces=function(){if(0!==i.settings.place.flags)for(var e=0;e<t.length;e++)t[e].isStatic||0==(i.settings.place.flags&t[e].key)||(t[e].isVisible=!0);return t},c.resetPlaces=function(e){if(window.isArray(e))for(var t=0;t<e.length;t++)e[t].isStatic||(e[t].isVisible=!1)},c.toState=function(e){r.current.name!==e&&r.transitionTo(e)},c.savefile=function(){a.saveCurrentDocument(),c.backAction()},c.close=function(e,t){if(void 0!==e){c.isVisible=!1;var r={id:e};return void 0!==t&&(r.options=t),n.$state.transitionTo("document",r)}return c.isVisible=!1,n.$state.transitionTo("home")},c.closeDocument=function(){a.closeCurrentDocument()},c.backAction=function(){l.back.go()},c.back=function(){r.transitionTo(l.back.state,l.back.params)},c.disableDocumentButtons=f,c.terms=function(){u.ondemand.getUmActionsFactory().then(function(e){e.termsAndConditions()})},c.privacy=function(){u.ondemand.getUiActionsFactory().then(function(e){e.openPrivacyRedirect()})},n.$on("event-document-selected",function(e,t){null!==t&&t.isLoaded?f(t):f(null)}),n.$on("event-ui-sitemenu-close",function(e,t){var n=t&&t.guid,r=t&&t.options;c.close(n,r)}),n.$on("event-ui-sitemenu-return-action",function(e,t){c.lastState=t.state,c.lastParams=t.params}),n.$on("event-document-modified-changed",function(e,t){f(t)}),n.$on("event-document-create-error",function(e,t){f(null)}),n.$on("event:userSettings-resetUserData",function(e){c.resetPlaces(t)}),c}l.constant("sitemenuButtons",[{id:"create",text:"Create",isAction:!1},{id:"convert",text:"Convert",isAction:!1},{id:"divider",text:"",isAction:!1},{id:"open",text:"Open",isAction:!1},{id:"savefile",text:"Save",isAction:!0,disabled:!1},{id:"saveas",text:"Save as",isAction:!1},{id:"close",text:"Close",isAction:!0},{id:"divider",text:"",isAction:!1},{id:"properties",text:"Properties",isAction:!1},{id:"divider",text:"",isAction:!1},{id:"send",text:"Send",isAction:!1},{id:"divider",text:"",isAction:!1},{id:"print",text:"Print",isAction:!0},{id:"divider",text:"",isAction:!1},{id:"account",text:"Account",isAction:!1}]),l.constant("placeItems",[{id:"recent",key:1,text:"Recent",svg:{xlinkHref:"images/symbol-sitemenu.svg#icon-recentdocs"},isStatic:!0},{id:"computer",key:512,text:"Computer",svg:{xlinkHref:"images/symbol-sitemenu.svg#icon-computer"},isStatic:!0},{id:"sharepoint",key:2,text:"SharePoint",svg:{xlinkHref:"images/symbol-sitemenu.svg#icon-sharepoint"},isVisible:!1,isExtended:!0,isShow:!1},{id:"onedrive",key:4,text:"OneDrive",svg:{xlinkHref:"images/symbol-sitemenu.svg#icon-onedrive"},isVisible:!1},{id:"onedrivebusiness",key:8,text:"OneDrive for Business",svg:{xlinkHref:"images/symbol-sitemenu.svg#icon-onedrive"},isVisible:!1},{id:"dropbox",key:16,text:"Dropbox",svg:{xlinkHref:"images/symbol-sitemenu.svg#icon-dropbox"},isVisible:!1},{id:"dropboxbusiness",key:32,text:"Dropbox Business",svg:{xlinkHref:"images/symbol-sitemenu.svg#icon-dropbox"},isVisible:!1},{id:"googledrive",key:64,text:"Google Drive",svg:{xlinkHref:"images/symbol-sitemenu.svg#icon-google"},isVisible:!1},{id:"boxcom",key:128,text:"Box",svg:{xlinkHref:"images/symbol-sitemenu.svg#icon-box"},isVisible:!1},{id:"addplace",key:256,text:"Add a Place",svg:{xlinkHref:"images/symbol-sitemenu.svg#icon-add-place"},isStatic:!0}]),l.controller("ui-sitemenu-controller",["$rootScope","$scope","$timeout","$document","ui-sitemenu-factory","$window","pdf-manager-factory","authentication-service",function(e,t,n,r,o,i,a,l){a.currentDocument(function(e){null!==e&&e.isLoaded?o.disableDocumentButtons(e):(o.disableDocumentButtons(null),o.isVisible=!1)},function(){}),t.siteMenuFactory=o,t.authenticationService=l,t.action=function(e){if(e.disabled||"divider"===e.id)return!1;if(e.isAction){switch(e.id){case"savefile":o.savefile();break;case"close":o.closeDocument();break;case"print":u();break;default:return!0}return!1}return o.toState("sitemenu-"+e.id,{})},t.$on("$destroy",function(){o.isVisible=!1});var u=function(){a.printCurrentDocument(),t.siteMenuFactory.backAction()}}]),l.factory("ui-sitemenu-factory",u),u.$inject=["sitemenuButtons","placeItems","$rootScope","$state","$timeout","ui-usersettings-factory","pdf-manager-factory","ROUTE_HISTORY","ui-helper-factory"],l.directive("sidebarPlaceItems",["$state","ui-helper-factory","ui-usersettings-factory","authentication-service",function(e,t,n,i){return{restrict:"E",template:['<ul class="sitemenu-aside-nav {{type}}">','<li class="sitemenu-aside-tabs-item" ng-class="::item.id" ng-repeat="item in ::items track by item.id" ng-if="(item.isStatic || item.isVisible) && item.id !== exclude" ng-hide="item.id === \'recent\' && !authenticationService.authentication">','<a class="sitemenu-aside-tabs-link" ui-sref-active="active" ui-sref="sitemenu-{{type}}-{{::item.id}}" name="site-menu-{{type}}-{{::item.id}}" ga-tracking="{{item.ga}}">','<i class="icon" ng-if="::item.hasOwnProperty(\'svg\')">','<svg class="icon-svg"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="{{::item.svg.xlinkHref}}" /></svg>',"</i>",'<span translate="{{::item.text}}"></span>',"</a>",'<a class="delete-icon" ng-if="!item.isStatic" ng-click="remove(item, $index + 1)">','<span class="font-icon font-icon-cross-thin"></span>',"</a>","</li>","</ul>"].join(""),replace:!0,scope:{items:"=",type:"@",parentUrl:"@",exclude:"@?",qaName:"@?"},link:function(a,l,u){var c=function(e){e&&(e.isVisible=!1,n.settings.place.flags&=~e.key,n.saveSettings())},s=function(t){for(var n=t;n<a.items.length;n++)if(a.items[n].isVisible||a.items[n].isStatic){e.go(a.parentUrl+"-"+a.type+"-"+a.items[n].id);break}};a.remove=function(){var e=(0,o.default)(r.default.mark(function e(n,o){var i,a;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return");case 2:if(i=t.getDialogFactory()){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,i;case 7:if(a=e.sent){e.next=10;break}return e.abrupt("return");case 10:a.messageBox.show({text:"Do you want to remove this service from the list?",icon:"question",callbacks:[{text:"yes",callback:function(){c(n),s(o)}},{text:"no"}]});case 11:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),a.authenticationService=i}}}]),l.directive("addPlaceItems",["$state","ui-helper-factory","ui-usersettings-factory","authentication-service",function(e,t,n,i){var a=['<section class="sitemenu-box add-place">',"<div class=\"content-box-top\" ng-hide='currentExtended'>",'<h2 translate="Add a Place"></h2>','<p ng-if="::!isEmpty" translate="Add locations and make it easier to save Soda PDF documents to the cloud"></p>','<p ng-if="::isEmpty" translate="All available locations have been already added to the service list"></p>',"</div>",'<ul class="sitemenu-aside-tabs dropdown-option">','<li class="sitemenu-aside-tabs-item {{::item.id}}" ui-sref-active="active" ng-class="{\'active-tab\':item.isExtended}" ng-repeat="item in items track by item.id" ng-if="::!item.isStatic && !item.isVisible">','<a class="sitemenu-aside-tabs-link" name="site-menu-{{type}}-{{::item.id}}" ng-if="::!item.isExtended" ng-click="add(item)" ng-hide=\'currentExtended\'>','<i class="icon" ng-if="::item.hasOwnProperty(\'svg\')">','<svg class="icon-svg"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="{{::item.svg.xlinkHref}}" /></svg>',"</i>",'<span translate="{{::item.text}}"></span>',"</a>",'<a class="sitemenu-aside-tabs-link" name="site-menu-{{type}}-{{::item.id}}" ng-if="::item.isExtended" ng-click="expand(item)">','<i class="icon" ng-if="::item.hasOwnProperty(\'svg\')">','<svg class="icon-svg"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="{{::item.svg.xlinkHref}}" /></svg>',"</i>",'<span translate="{{::item.text}}"></span>',"</a>",'<div class="dropdown block" ng-class="{\'show\':currentExtended.id === item.id}">','<h6 translate="URL to use to sign in"></h6>','<div class="row">','<drop-down-list value-items="item.urls" selected-item="item.selectedUrl" input-text="item.inputUrl" qa-name="" is-input="true"></drop-down-list>','<span class="example-text">https://example.com</span>','<a class="std-btn btn-md" ng-click="continue(item)" translate="CONTINUE"></a>',"</div>","</div>","</li>","</ul>","</section>"].join(""),l=i.defaultPreferences;return{restrict:"E",template:a,replace:!0,scope:{items:"=",type:"@",parentUrl:"@",qaName:"@?"},link:function(i,a,u){i.currentExtended=null;var c=function(t,n){i.parentUrl&&i.type&&t&&e.go(i.parentUrl+"-"+i.type+"-"+t.id,n)},s=function(e){e&&(e.isVisible=!0,function(e){n.settings.place.flags|=e.key,e.inputUrl&&(l.SharePoint["Default SignIn URL"]===e.inputUrl||n.settings.sharePoint.urls.any(function(t){return t===e.inputUrl})||n.settings.sharePoint.urls.unshift(e.inputUrl)),n.saveSettings()}(e))};!function(){if(i.items){var e=i.items.first(function(e){return"sharepoint"===e.id});if(e){if(e.urls=[],e.selectedUrl=null,e.inputUrl="",n.settings.sharePoint.urls.length>0)for(var t=0;t<n.settings.sharePoint.urls.length;t++)e.urls.push({text:n.settings.sharePoint.urls[t]});if(l.SharePoint["Default SignIn URL"]){var r={text:l.SharePoint["Default SignIn URL"]};e.urls.any(function(e){return e.text===r.text})?e.selectedUrl=r:e.urls.unshift(r)}}}}(),i.add=function(e){s(e),c(e,{isAutoSignIn:!0})},i.expand=function(e){i.currentExtended=i.currentExtended===e?null:e},i.continue=function(){var e=(0,o.default)(r.default.mark(function e(n){var o,i,a;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return");case 2:if(o=window.isUrlValid(n.inputUrl),!n.isExtended||o){e.next=14;break}if(i=t.getDialogFactory()){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,i;case 9:if(a=e.sent){e.next=12;break}return e.abrupt("return");case 12:return a.messageBox.show({text:"The Url is incorrect. Please Enter a valid Url.",icon:"information",callbacks:[{text:"ok",callback:function(){}}]}),e.abrupt("return");case 14:s(n),c(n,{url:n.inputUrl});case 16:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),i.$watch(function(){return!!i.items&&(!(i.items.length<1)&&i.items.any(function(e){return!1===e.isVisible}))},function(e,t){i.isEmpty=!e})}}}]),l.directive("iosDblclick",function(){var e,t=!1;return{restrict:"A",link:function(n,r,o){r.bind("click",function(r){t?(t=!1,(new Date).getTime()-e<300&&n.$apply(o.iosDblclick)):(e=(new Date).getTime(),t=!0,setTimeout(function(){t=!1},300))})}}}),mainApp.constant("sitemenuButtons",getConstructor(a,"sitemenuButtons","constant")),mainApp.constant("placeItems",getConstructor(a,"placeItems","constant")),mainApp.controller("ui-sitemenu-controller",getConstructor(a,"ui-sitemenu-controller","controller")),mainApp.factory("ui-sitemenu-factory",getConstructor(a,"ui-sitemenu-factory","factory")),mainApp.directive("sidebarPlaceItems",getConstructor(a,"sidebarPlaceItems","directive")),mainApp.directive("addPlaceItems",getConstructor(a,"addPlaceItems","directive")),mainApp.directive("iosDblclick",getConstructor(a,"iosDblclick","directive"))},GTVx:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.module=void 0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n("Xh1x"));var o="bl-search-holder-factory",i=angular.module("bl-search-holder-module",[]).factory(o,["$rootScope",function(e){var t={currentDoc:null,documents:{}},n=r.default.panels.find(function(e){return"search"===e.id}),o=n&&n.tabs;return t.get=function(e){if(e)return t.documents[e.id]},t.add=function(e){if(e&&o&&!t.get(e)){for(var n=[],r=0;r<o.length;r++)o[r]&&(n[o[r].id]={isStarted:!1,isFinished:!1,params:{isCaseSensitive:{value:!1,text:"Case-Sensitive"},isWholeWordsOnly:{value:!1,text:"Whole words only"}},text:"",results:[],selectedResultIndex:-1,replace:""});var i={id:e.id,search:n,isLoaded:e.isLoaded};return t.documents[e.id]=i,i}},t.updateStatements=function(e){var n=t.documents[e.id];n&&(n.isLoaded=e.isLoaded,t.currentDoc=n)},t.remove=function(e){e&&delete t.documents[e.id]},t}]);t.module=i,window.mainApp.factory(o,getConstructor("bl-search-holder-module",o,"factory"))},HEKA:function(e,t,n){var r,o,i;!function(a){o=[n("7t+N")],void 0===(i="function"==typeof(r=a)?r.apply(t,o):r)||(e.exports=i)}(function(t){!function(r){var o=n("nErl"),i=void 0!==e&&e.exports,a="https:"==document.location.protocol?"https:":"http:";o||(i?n("5xbe")(t):t.event.special.mousewheel||t("head").append(decodeURI("%3Cscript src="+a+"//cdnjs.cloudflare.com/ajax/libs/jquery-mousewheel/3.1.13/jquery.mousewheel.min.js%3E%3C/script%3E"))),function(){var e,n="mCustomScrollbar",r={setTop:0,setLeft:0,axis:"y",scrollbarPosition:"inside",scrollInertia:950,autoDraggerLength:!0,alwaysShowScrollbar:0,snapOffset:0,mouseWheel:{enable:!0,scrollAmount:"auto",axis:"y",deltaFactor:"auto",disableOver:["select","option","keygen","datalist","textarea"]},scrollButtons:{scrollType:"stepless",scrollAmount:"auto"},keyboard:{enable:!0,scrollType:"stepless",scrollAmount:"auto"},contentTouchScroll:25,documentTouchScroll:!0,advanced:{autoScrollOnFocus:"input,textarea,select,button,datalist,keygen,a[tabindex],area,object,[contenteditable='true']",updateOnContentResize:!0,updateOnImageLoad:"auto",autoUpdateTimeout:60},theme:"light",callbacks:{onTotalScrollOffset:0,onTotalScrollBackOffset:0,alwaysTriggerOffsets:!0}},o=0,i={},a=window.attachEvent&&!window.addEventListener?1:0,l=!1,u=["mCSB_dragger_onDrag","mCSB_scrollTools_onDrag","mCS_img_loaded","mCS_disabled","mCS_destroyed","mCS_no_scrollbar","mCS-autoHide","mCS-dir-rtl","mCS_no_scrollbar_y","mCS_no_scrollbar_x","mCS_y_hidden","mCS_x_hidden","mCSB_draggerContainer","mCSB_buttonUp","mCSB_buttonDown","mCSB_buttonLeft","mCSB_buttonRight"],c={init:function(e){var e=t.extend(!0,{},r,e),n=s.call(this);if(e.live){var a=e.liveSelector||this.selector||".mCustomScrollbar",l=t(a);if("off"===e.live)return void f(a);i[a]=setTimeout(function(){l.mCustomScrollbar(e),"once"===e.live&&l.length&&f(a)},500)}else f(a);return e.setWidth=e.set_width?e.set_width:e.setWidth,e.setHeight=e.set_height?e.set_height:e.setHeight,e.axis=e.horizontalScroll?"x":p(e.axis),e.scrollInertia=e.scrollInertia>0&&e.scrollInertia<17?17:e.scrollInertia,"object"!=typeof e.mouseWheel&&1==e.mouseWheel&&(e.mouseWheel={enable:!0,scrollAmount:"auto",axis:"y",preventDefault:!1,deltaFactor:"auto",normalizeDelta:!1,invert:!1}),e.mouseWheel.scrollAmount=e.mouseWheelPixels?e.mouseWheelPixels:e.mouseWheel.scrollAmount,e.mouseWheel.normalizeDelta=e.advanced.normalizeMouseWheelDelta?e.advanced.normalizeMouseWheelDelta:e.mouseWheel.normalizeDelta,e.scrollButtons.scrollType=g(e.scrollButtons.scrollType),d(e),t(n).each(function(){var n=t(this);if(!n.data("mCS")){n.data("mCS",{idx:++o,opt:e,scrollRatio:{y:null,x:null},overflowed:null,contentReset:{y:null,x:null},bindEvents:!1,tweenRunning:!1,sequential:{},langDir:n.css("direction"),cbOffsets:null,trigger:null,poll:{size:{o:0,n:0},img:{o:0,n:0},change:{o:0,n:0}}});var r=n.data("mCS"),i=r.opt,a=n.data("mcs-axis"),l=n.data("mcs-scrollbar-position"),s=n.data("mcs-theme");a&&(i.axis=a),l&&(i.scrollbarPosition=l),s&&(i.theme=s,d(i)),h.call(this),r&&i.callbacks.onCreate&&"function"==typeof i.callbacks.onCreate&&i.callbacks.onCreate.call(this),t("#mCSB_"+r.idx+"_container img:not(."+u[2]+")").addClass(u[2]),c.update.call(null,n)}})},update:function(e,n){var r=e||s.call(this);return t(r).each(function(){var e=t(this);if(e.data("mCS")){var r=e.data("mCS"),o=r.opt,i=t("#mCSB_"+r.idx+"_container"),a=t("#mCSB_"+r.idx),l=[t("#mCSB_"+r.idx+"_dragger_vertical"),t("#mCSB_"+r.idx+"_dragger_horizontal")];if(!i.length)return;r.tweenRunning&&K(e),n&&r&&o.callbacks.onBeforeUpdate&&"function"==typeof o.callbacks.onBeforeUpdate&&o.callbacks.onBeforeUpdate.call(this),e.hasClass(u[3])&&e.removeClass(u[3]),e.hasClass(u[4])&&e.removeClass(u[4]),a.css("max-height","none"),a.height()!==e.height()&&a.css("max-height",e.height()),v.call(this),"y"===o.axis||o.advanced.autoExpandHorizontalScroll||i.css("width",m(i)),r.overflowed=P.call(this),C.call(this),o.autoDraggerLength&&b.call(this),x.call(this),T.call(this);var c=[Math.abs(i[0].offsetTop),Math.abs(i[0].offsetLeft)];"x"!==o.axis&&(r.overflowed[0]?l[0].height()>l[0].parent().height()?k.call(this):(W(e,c[0].toString(),{dir:"y",dur:0,overwrite:"none"}),r.contentReset.y=null):(k.call(this),"y"===o.axis?w.call(this):"yx"===o.axis&&r.overflowed[1]&&W(e,c[1].toString(),{dir:"x",dur:0,overwrite:"none"}))),"y"!==o.axis&&(r.overflowed[1]?l[1].width()>l[1].parent().width()?k.call(this):(W(e,c[1].toString(),{dir:"x",dur:0,overwrite:"none"}),r.contentReset.x=null):(k.call(this),"x"===o.axis?w.call(this):"yx"===o.axis&&r.overflowed[0]&&W(e,c[0].toString(),{dir:"y",dur:0,overwrite:"none"}))),n&&r&&(2===n&&o.callbacks.onImageLoad&&"function"==typeof o.callbacks.onImageLoad?o.callbacks.onImageLoad.call(this):3===n&&o.callbacks.onSelectorChange&&"function"==typeof o.callbacks.onSelectorChange?o.callbacks.onSelectorChange.call(this):o.callbacks.onUpdate&&"function"==typeof o.callbacks.onUpdate&&o.callbacks.onUpdate.call(this)),V.call(this)}})},scrollTo:function(e,n){if(void 0!==e&&null!=e){var r=s.call(this);return t(r).each(function(){var r=t(this);if(r.data("mCS")){var o=r.data("mCS"),i=o.opt,a={trigger:"external",scrollInertia:i.scrollInertia,scrollEasing:"mcsEaseInOut",moveDragger:!1,timeout:60,callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},l=t.extend(!0,{},a,n),u=G.call(this,e),c=l.scrollInertia>0&&l.scrollInertia<17?17:l.scrollInertia;u[0]=z.call(this,u[0],"y"),u[1]=z.call(this,u[1],"x"),l.moveDragger&&(u[0]*=o.scrollRatio.y,u[1]*=o.scrollRatio.x),l.dur=te()?0:c,setTimeout(function(){null!==u[0]&&void 0!==u[0]&&"x"!==i.axis&&o.overflowed[0]&&(l.dir="y",l.overwrite="all",W(r,u[0].toString(),l)),null!==u[1]&&void 0!==u[1]&&"y"!==i.axis&&o.overflowed[1]&&(l.dir="x",l.overwrite="none",W(r,u[1].toString(),l))},l.timeout)}})}},stop:function(){var e=s.call(this);return t(e).each(function(){var e=t(this);e.data("mCS")&&K(e)})},disable:function(e){var n=s.call(this);return t(n).each(function(){var n=t(this);if(n.data("mCS")){n.data("mCS");V.call(this,"remove"),w.call(this),e&&k.call(this),C.call(this,!0),n.addClass(u[3])}})},destroy:function(){var e=s.call(this);return t(e).each(function(){var r=t(this);if(r.data("mCS")){var o=r.data("mCS"),i=o.opt,a=t("#mCSB_"+o.idx),l=t("#mCSB_"+o.idx+"_container"),c=t(".mCSB_"+o.idx+"_scrollbar");i.live&&f(i.liveSelector||t(e).selector),V.call(this,"remove"),w.call(this),k.call(this),r.removeData("mCS"),X(this,"mcs"),c.remove(),l.find("img."+u[2]).removeClass(u[2]),a.replaceWith(l.contents()),r.removeClass(n+" _mCS_"+o.idx+" "+u[6]+" "+u[7]+" "+u[5]+" "+u[3]).addClass(u[4])}})}},s=function(){return"object"!=typeof t(this)||t(this).length<1?".mCustomScrollbar":this},d=function(e){e.autoDraggerLength=!(t.inArray(e.theme,["rounded","rounded-dark","rounded-dots","rounded-dots-dark"])>-1)&&e.autoDraggerLength,e.autoExpandScrollbar=!(t.inArray(e.theme,["rounded-dots","rounded-dots-dark","3d","3d-dark","3d-thick","3d-thick-dark","inset","inset-dark","inset-2","inset-2-dark","inset-3","inset-3-dark"])>-1)&&e.autoExpandScrollbar,e.scrollButtons.enable=!(t.inArray(e.theme,["minimal","minimal-dark"])>-1)&&e.scrollButtons.enable,e.autoHideScrollbar=t.inArray(e.theme,["minimal","minimal-dark"])>-1||e.autoHideScrollbar,e.scrollbarPosition=t.inArray(e.theme,["minimal","minimal-dark"])>-1?"outside":e.scrollbarPosition},f=function(e){i[e]&&(clearTimeout(i[e]),X(i,e))},p=function(e){return"yx"===e||"xy"===e||"auto"===e?"yx":"x"===e||"horizontal"===e?"x":"y"},g=function(e){return"stepped"===e||"pixels"===e||"step"===e||"click"===e?"stepped":"stepless"},h=function(){var e=t(this),r=e.data("mCS"),o=r.opt,i=o.autoExpandScrollbar?" "+u[1]+"_expand":"",a=["<div id='mCSB_"+r.idx+"_scrollbar_vertical' class='mCSB_scrollTools mCSB_"+r.idx+"_scrollbar mCS-"+o.theme+" mCSB_scrollTools_vertical"+i+"'><div class='"+u[12]+"'><div id='mCSB_"+r.idx+"_dragger_vertical' class='mCSB_dragger' style='position:absolute;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>","<div id='mCSB_"+r.idx+"_scrollbar_horizontal' class='mCSB_scrollTools mCSB_"+r.idx+"_scrollbar mCS-"+o.theme+" mCSB_scrollTools_horizontal"+i+"'><div class='"+u[12]+"'><div id='mCSB_"+r.idx+"_dragger_horizontal' class='mCSB_dragger' style='position:absolute;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>"],l="yx"===o.axis?"mCSB_vertical_horizontal":"x"===o.axis?"mCSB_horizontal":"mCSB_vertical",c="yx"===o.axis?a[0]+a[1]:"x"===o.axis?a[1]:a[0],s="yx"===o.axis?"<div id='mCSB_"+r.idx+"_container_wrapper' class='mCSB_container_wrapper' />":"",d=o.autoHideScrollbar?" "+u[6]:"",f="x"!==o.axis&&"rtl"===r.langDir?" "+u[7]:"";o.setWidth&&e.css("width",o.setWidth),o.setHeight&&e.css("height",o.setHeight),o.setLeft="y"!==o.axis&&"rtl"===r.langDir?"989999px":o.setLeft,e.addClass(n+" _mCS_"+r.idx+d+f).wrapInner("<div id='mCSB_"+r.idx+"' class='mCustomScrollBox mCS-"+o.theme+" "+l+"'><div id='mCSB_"+r.idx+"_container' class='mCSB_container' style='position:relative; top:"+o.setTop+"; left:"+o.setLeft+";' dir='"+r.langDir+"' /></div>");var p=t("#mCSB_"+r.idx),g=t("#mCSB_"+r.idx+"_container");"y"===o.axis||o.advanced.autoExpandHorizontalScroll||g.css("width",m(g)),"outside"===o.scrollbarPosition?("static"===e.css("position")&&e.css("position","relative"),e.css("overflow","visible"),p.addClass("mCSB_outside").after(c)):(p.addClass("mCSB_inside").append(c),g.wrap(s)),y.call(this);var h=[t("#mCSB_"+r.idx+"_dragger_vertical"),t("#mCSB_"+r.idx+"_dragger_horizontal")];h[0].css("min-height",h[0].height()),h[1].css("min-width",h[1].width())},m=function(e){var n=[e[0].scrollWidth,Math.max.apply(Math,e.children().map(function(){return t(this).outerWidth(!0)}).get())],r=e.parent().width();return n[0]>r?n[0]:n[1]>r?n[1]:"100%"},v=function(){var e=t(this),n=e.data("mCS"),r=n.opt,o=t("#mCSB_"+n.idx+"_container");if(r.advanced.autoExpandHorizontalScroll&&"y"!==r.axis){o.css({width:"auto","min-width":0,"overflow-x":"scroll"});var i=Math.ceil(o[0].scrollWidth);3===r.advanced.autoExpandHorizontalScroll||2!==r.advanced.autoExpandHorizontalScroll&&i>o.parent().width()?o.css({width:i,"min-width":"100%","overflow-x":"inherit"}):o.css({"overflow-x":"inherit",position:"absolute"}).wrap("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />").css({width:Math.ceil(o[0].getBoundingClientRect().right+.4)-Math.floor(o[0].getBoundingClientRect().left),"min-width":"100%",position:"relative"}).unwrap()}},y=function(){var e=t(this),n=e.data("mCS"),r=n.opt,o=t(".mCSB_"+n.idx+"_scrollbar:first"),i=Y(r.scrollButtons.tabindex)?"tabindex='"+r.scrollButtons.tabindex+"'":"",a=["<a href='#' class='"+u[13]+"' "+i+" />","<a href='#' class='"+u[14]+"' "+i+" />","<a href='#' class='"+u[15]+"' "+i+" />","<a href='#' class='"+u[16]+"' "+i+" />"],l=["x"===r.axis?a[2]:a[0],"x"===r.axis?a[3]:a[1],a[2],a[3]];r.scrollButtons.enable&&o.prepend(l[0]).append(l[1]).next(".mCSB_scrollTools").prepend(l[2]).append(l[3])},b=function(){var e=t(this),n=e.data("mCS"),r=t("#mCSB_"+n.idx),o=t("#mCSB_"+n.idx+"_container"),i=[t("#mCSB_"+n.idx+"_dragger_vertical"),t("#mCSB_"+n.idx+"_dragger_horizontal")],l=[r.height()/o.outerHeight(!1),r.width()/o.outerWidth(!1)],u=[parseInt(i[0].css("min-height")),Math.round(l[0]*i[0].parent().height()),parseInt(i[1].css("min-width")),Math.round(l[1]*i[1].parent().width())],c=a&&u[1]<u[0]?u[0]:u[1],s=a&&u[3]<u[2]?u[2]:u[3];i[0].css({height:c,"max-height":i[0].parent().height()-10}).find(".mCSB_dragger_bar").css({"line-height":u[0]+"px"}),i[1].css({width:s,"max-width":i[1].parent().width()-10})},x=function(){var e=t(this),n=e.data("mCS"),r=t("#mCSB_"+n.idx),o=t("#mCSB_"+n.idx+"_container"),i=[t("#mCSB_"+n.idx+"_dragger_vertical"),t("#mCSB_"+n.idx+"_dragger_horizontal")],a=[o.outerHeight(!1)-r.height(),o.outerWidth(!1)-r.width()],l=[a[0]/(i[0].parent().height()-i[0].height()),a[1]/(i[1].parent().width()-i[1].width())];n.scrollRatio={y:l[0],x:l[1]}},S=function(e,t,n){var r=n?u[0]+"_expanded":"",o=e.closest(".mCSB_scrollTools");"active"===t?(e.toggleClass(u[0]+" "+r),o.toggleClass(u[1]),e[0]._draggable=e[0]._draggable?0:1):e[0]._draggable||("hide"===t?(e.removeClass(u[0]),o.removeClass(u[1])):(e.addClass(u[0]),o.addClass(u[1])))},P=function(){var e=t(this),n=e.data("mCS"),r=t("#mCSB_"+n.idx),o=t("#mCSB_"+n.idx+"_container"),i=null==n.overflowed?o.height():o.outerHeight(!1),a=null==n.overflowed?o.width():o.outerWidth(!1),l=o[0].scrollHeight,u=o[0].scrollWidth;return l>i&&(i=l),u>a&&(a=u),[i>r.height(),a>r.width()]},k=function(){var e=t(this),n=e.data("mCS"),r=n.opt,o=t("#mCSB_"+n.idx),i=t("#mCSB_"+n.idx+"_container"),a=[t("#mCSB_"+n.idx+"_dragger_vertical"),t("#mCSB_"+n.idx+"_dragger_horizontal")];if(K(e),("x"!==r.axis&&!n.overflowed[0]||"y"===r.axis&&n.overflowed[0])&&(a[0].add(i).css("top",0),W(e,"_resetY")),"y"!==r.axis&&!n.overflowed[1]||"x"===r.axis&&n.overflowed[1]){var l=dx=0;"rtl"===n.langDir&&(l=o.width()-i.outerWidth(!1),dx=Math.abs(l/n.scrollRatio.x)),i.css("left",l),a[1].css("left",dx),W(e,"_resetX")}},T=function(){var e=t(this),n=e.data("mCS"),r=n.opt;if(!n.bindEvents){if(L.call(this),r.contentTouchScroll&&F.call(this),A.call(this),r.mouseWheel.enable){var o;!function n(){o=setTimeout(function(){t.event.special.mousewheel?(clearTimeout(o),_.call(e[0])):n()},100)}()}O.call(this),N.call(this),r.advanced.autoScrollOnFocus&&D.call(this),r.scrollButtons.enable&&U.call(this),r.keyboard.enable&&H.call(this),n.bindEvents=!0}},w=function(){var e=t(this),n=e.data("mCS"),r=n.opt,o="mCS_"+n.idx,i=".mCSB_"+n.idx+"_scrollbar",a=t("#mCSB_"+n.idx+",#mCSB_"+n.idx+"_container,#mCSB_"+n.idx+"_container_wrapper,"+i+" ."+u[12]+",#mCSB_"+n.idx+"_dragger_vertical,#mCSB_"+n.idx+"_dragger_horizontal,"+i+">a"),l=t("#mCSB_"+n.idx+"_container");r.advanced.releaseDraggableSelectors&&a.add(t(r.advanced.releaseDraggableSelectors)),r.advanced.extraDraggableSelectors&&a.add(t(r.advanced.extraDraggableSelectors)),n.bindEvents&&(t(document).add(t(!E()||top.document)).unbind("."+o),a.each(function(){t(this).unbind("."+o)}),clearTimeout(e[0]._focusTimeout),X(e[0],"_focusTimeout"),clearTimeout(n.sequential.step),X(n.sequential,"step"),clearTimeout(l[0].onCompleteTimeout),X(l[0],"onCompleteTimeout"),n.bindEvents=!1)},C=function(e){var n=t(this),r=n.data("mCS"),o=r.opt,i=t("#mCSB_"+r.idx+"_container_wrapper"),a=i.length?i:t("#mCSB_"+r.idx+"_container"),l=[t("#mCSB_"+r.idx+"_scrollbar_vertical"),t("#mCSB_"+r.idx+"_scrollbar_horizontal")],c=[l[0].find(".mCSB_dragger"),l[1].find(".mCSB_dragger")];"x"!==o.axis&&(r.overflowed[0]&&!e?(l[0].add(c[0]).add(l[0].children("a")).css("display","block"),a.removeClass(u[8]+" "+u[10])):(o.alwaysShowScrollbar?(2!==o.alwaysShowScrollbar&&c[0].css("display","none"),a.removeClass(u[10])):(l[0].css("display","none"),a.addClass(u[10])),a.addClass(u[8]))),"y"!==o.axis&&(r.overflowed[1]&&!e?(l[1].add(c[1]).add(l[1].children("a")).css("display","block"),a.removeClass(u[9]+" "+u[11])):(o.alwaysShowScrollbar?(2!==o.alwaysShowScrollbar&&c[1].css("display","none"),a.removeClass(u[11])):(l[1].css("display","none"),a.addClass(u[11])),a.addClass(u[9]))),r.overflowed[0]||r.overflowed[1]?n.removeClass(u[5]):n.addClass(u[5])},B=function(e){var n=e.type,r=e.target.ownerDocument!==document&&null!==frameElement?[t(frameElement).offset().top,t(frameElement).offset().left]:null,o=E()&&e.target.ownerDocument!==top.document&&null!==frameElement?[t(e.view.frameElement).offset().top,t(e.view.frameElement).offset().left]:[0,0];switch(n){case"pointerdown":case"MSPointerDown":case"pointermove":case"MSPointerMove":case"pointerup":case"MSPointerUp":return r?[e.originalEvent.pageY-r[0]+o[0],e.originalEvent.pageX-r[1]+o[1],!1]:[e.originalEvent.pageY,e.originalEvent.pageX,!1];case"touchstart":case"touchmove":case"touchend":var i=e.originalEvent.touches[0]||e.originalEvent.changedTouches[0],a=e.originalEvent.touches.length||e.originalEvent.changedTouches.length;return e.target.ownerDocument!==document?[i.screenY,i.screenX,a>1]:[i.pageY,i.pageX,a>1];default:return r?[e.pageY-r[0]+o[0],e.pageX-r[1]+o[1],!1]:[e.pageY,e.pageX,!1]}},L=function(){var e,n,r,o=t(this),i=o.data("mCS"),u=i.opt,c="mCS_"+i.idx,s=["mCSB_"+i.idx+"_dragger_vertical","mCSB_"+i.idx+"_dragger_horizontal"],d=t("#mCSB_"+i.idx+"_container"),f=t("#"+s[0]+",#"+s[1]),p=u.advanced.releaseDraggableSelectors?f.add(t(u.advanced.releaseDraggableSelectors)):f,g=u.advanced.extraDraggableSelectors?t(!E()||top.document).add(t(u.advanced.extraDraggableSelectors)):t(!E()||top.document);function h(t,n,r,a){if(d[0].idleTimer=u.scrollInertia<233?250:0,e.attr("id")===s[1])var l="x",c=(e[0].offsetLeft-n+a)*i.scrollRatio.x;else var l="y",c=(e[0].offsetTop-t+r)*i.scrollRatio.y;W(o,c.toString(),{dir:l,drag:!0})}f.bind("contextmenu."+c,function(e){e.preventDefault()}).bind("mousedown."+c+" touchstart."+c+" pointerdown."+c+" MSPointerDown."+c,function(i){if(i.stopImmediatePropagation(),i.preventDefault(),Q(i)){l=!0,a&&(document.onselectstart=function(){return!1}),R.call(d,!1),K(o);var c=(e=t(this)).offset(),s=B(i)[0]-c.top,f=B(i)[1]-c.left,p=e.height()+c.top,g=e.width()+c.left;s<p&&s>0&&f<g&&f>0&&(n=s,r=f),S(e,"active",u.autoExpandScrollbar)}}).bind("touchmove."+c,function(t){t.stopImmediatePropagation(),t.preventDefault();var o=e.offset(),i=B(t)[0]-o.top,a=B(t)[1]-o.left;h(n,r,i,a)}),t(document).add(g).bind("mousemove."+c+" pointermove."+c+" MSPointerMove."+c,function(t){if(e){var o=e.offset(),i=B(t)[0]-o.top,a=B(t)[1]-o.left;if(n===i&&r===a)return;h(n,r,i,a)}}).add(p).bind("mouseup."+c+" touchend."+c+" pointerup."+c+" MSPointerUp."+c,function(t){e&&(S(e,"active",u.autoExpandScrollbar),e=null),l=!1,a&&(document.onselectstart=null),R.call(d,!0)})},F=function(){var n,r,o,i,a,u,c,s,d,f,p,g,h,m,v=t(this),y=v.data("mCS"),b=y.opt,x="mCS_"+y.idx,S=t("#mCSB_"+y.idx),P=t("#mCSB_"+y.idx+"_container"),k=[t("#mCSB_"+y.idx+"_dragger_vertical"),t("#mCSB_"+y.idx+"_dragger_horizontal")],T=[],w=[],C=0,L="yx"===b.axis?"none":"all",F=[],A=P.find("iframe"),_=["touchstart."+x+" pointerdown."+x+" MSPointerDown."+x,"touchmove."+x+" pointermove."+x+" MSPointerMove."+x,"touchend."+x+" pointerup."+x+" MSPointerUp."+x],M=void 0!==document.body.style.touchAction&&""!==document.body.style.touchAction;function R(t){if(!J(t)||l||B(t)[2])e=0;else{e=1,h=0,m=0,n=1,v.removeClass("mCS_touch_action");var i=P.offset();r=B(t)[0]-i.top,o=B(t)[1]-i.left,F=[B(t)[0],B(t)[1]]}}function I(e){if(J(e)&&!l&&!B(e)[2]&&(b.documentTouchScroll||e.preventDefault(),e.stopImmediatePropagation(),(!m||h)&&n)){c=q();var t=S.offset(),i=B(e)[0]-t.top,a=B(e)[1]-t.left;if(T.push(i),w.push(a),F[2]=Math.abs(B(e)[0]-F[0]),F[3]=Math.abs(B(e)[1]-F[1]),y.overflowed[0])var u=k[0].parent().height()-k[0].height(),s=r-i>0&&i-r>-u*y.scrollRatio.y&&(2*F[3]<F[2]||"yx"===b.axis);if(y.overflowed[1])var d=k[1].parent().width()-k[1].width(),f=o-a>0&&a-o>-d*y.scrollRatio.x&&(2*F[2]<F[3]||"yx"===b.axis);s||f?(M||e.preventDefault(),h=1):(m=1,v.addClass("mCS_touch_action")),M&&e.preventDefault(),p="yx"===b.axis?[r-i,o-a]:"x"===b.axis?[null,o-a]:[r-i,null],P[0].idleTimer=250,y.overflowed[0]&&U(p[0],C,"mcsLinearOut","y","all",!0),y.overflowed[1]&&U(p[1],C,"mcsLinearOut","x",L,!0)}}function O(t){if(!J(t)||l||B(t)[2])e=0;else{e=1,t.stopImmediatePropagation(),K(v),u=q();var n=S.offset();i=B(t)[0]-n.top,a=B(t)[1]-n.left,T=[],w=[]}}function D(e){if(J(e)&&!l&&!B(e)[2]){n=0,e.stopImmediatePropagation(),h=0,m=0,s=q();var t=S.offset(),r=B(e)[0]-t.top,o=B(e)[1]-t.left;if(!(s-c>30)){var v=(f=1e3/(s-u))<2.5,x=v?[T[T.length-2],w[w.length-2]]:[0,0];d=v?[r-x[0],o-x[1]]:[r-i,o-a];var k=[Math.abs(d[0]),Math.abs(d[1])];f=v?[Math.abs(d[0]/4),Math.abs(d[1]/4)]:[f,f];var C=[Math.abs(P[0].offsetTop)-d[0]*N(k[0]/f[0],f[0]),Math.abs(P[0].offsetLeft)-d[1]*N(k[1]/f[1],f[1])];p="yx"===b.axis?[C[0],C[1]]:"x"===b.axis?[null,C[1]]:[C[0],null],g=[4*k[0]+b.scrollInertia,4*k[1]+b.scrollInertia];var F=parseInt(b.contentTouchScroll)||0;p[0]=k[0]>F?p[0]:0,p[1]=k[1]>F?p[1]:0,y.overflowed[0]&&U(p[0],g[0],"mcsEaseOut","y",L,!1),y.overflowed[1]&&U(p[1],g[1],"mcsEaseOut","x",L,!1)}}}function N(e,t){var n=[1.5*t,2*t,t/1.5,t/2];return e>90?t>4?n[0]:n[3]:e>60?t>3?n[3]:n[2]:e>30?t>8?n[1]:t>6?n[0]:t>4?t:n[2]:t>8?t:n[3]}function U(e,t,n,r,o,i){e&&W(v,e.toString(),{dur:t,scrollEasing:n,dir:r,overwrite:o,drag:i})}P.bind(_[0],function(e){R(e)}).bind(_[1],function(e){I(e)}),S.bind(_[0],function(e){O(e)}).bind(_[2],function(e){D(e)}),A.length&&A.each(function(){t(this).bind("load",function(){E(this)&&t(this.contentDocument||this.contentWindow.document).bind(_[0],function(e){R(e),O(e)}).bind(_[1],function(e){I(e)}).bind(_[2],function(e){D(e)})})})},A=function(){var n,r=t(this),o=r.data("mCS"),i=o.opt,a=o.sequential,u="mCS_"+o.idx,c=t("#mCSB_"+o.idx+"_container"),s=c.parent();function d(e,t,o){a.type=o&&n?"stepped":"stepless",a.scrollAmount=10,j(r,e,t,"mcsLinearOut",o?60:null)}c.bind("mousedown."+u,function(t){e||n||(n=1,l=!0)}).add(document).bind("mousemove."+u,function(t){if(!e&&n&&(window.getSelection?window.getSelection().toString():document.selection&&"Control"!=document.selection.type&&document.selection.createRange().text)){var r=c.offset(),l=B(t)[0]-r.top+c[0].offsetTop,u=B(t)[1]-r.left+c[0].offsetLeft;l>0&&l<s.height()&&u>0&&u<s.width()?a.step&&d("off",null,"stepped"):("x"!==i.axis&&o.overflowed[0]&&(l<0?d("on",38):l>s.height()&&d("on",40)),"y"!==i.axis&&o.overflowed[1]&&(u<0?d("on",37):u>s.width()&&d("on",39)))}}).bind("mouseup."+u+" dragend."+u,function(t){e||(n&&(n=0,d("off",null)),l=!1)})},_=function(){if(t(this).data("mCS")){var e=t(this),n=e.data("mCS"),r=n.opt,o="mCS_"+n.idx,i=t("#mCSB_"+n.idx),l=[t("#mCSB_"+n.idx+"_dragger_vertical"),t("#mCSB_"+n.idx+"_dragger_horizontal")],u=t("#mCSB_"+n.idx+"_container").find("iframe");u.length&&u.each(function(){t(this).bind("load",function(){E(this)&&t(this.contentDocument||this.contentWindow.document).bind("mousewheel."+o,function(e,t){c(e,t)})})}),i.bind("mousewheel."+o,function(e,t){c(e,t)})}function c(o,u){if(K(e),!I(e,o.target)){var c="auto"!==r.mouseWheel.deltaFactor?parseInt(r.mouseWheel.deltaFactor):a&&o.deltaFactor<100?100:o.deltaFactor||100,s=r.scrollInertia;if("x"===r.axis||"x"===r.mouseWheel.axis)var d="x",f=[Math.round(c*n.scrollRatio.x),parseInt(r.mouseWheel.scrollAmount)],p="auto"!==r.mouseWheel.scrollAmount?f[1]:f[0]>=i.width()?.9*i.width():f[0],g=Math.abs(t("#mCSB_"+n.idx+"_container")[0].offsetLeft),h=l[1][0].offsetLeft,m=l[1].parent().width()-l[1].width(),v="y"===r.mouseWheel.axis?o.deltaY||u:o.deltaX;else var d="y",f=[Math.round(c*n.scrollRatio.y),parseInt(r.mouseWheel.scrollAmount)],p="auto"!==r.mouseWheel.scrollAmount?f[1]:f[0]>=i.height()?.9*i.height():f[0],g=Math.abs(t("#mCSB_"+n.idx+"_container")[0].offsetTop),h=l[0][0].offsetTop,m=l[0].parent().height()-l[0].height(),v=o.deltaY||u;"y"===d&&!n.overflowed[0]||"x"===d&&!n.overflowed[1]||((r.mouseWheel.invert||o.webkitDirectionInvertedFromDevice)&&(v=-v),r.mouseWheel.normalizeDelta&&(v=v<0?-1:1),(v>0&&0!==h||v<0&&h!==m||r.mouseWheel.preventDefault)&&(o.stopImmediatePropagation(),o.preventDefault()),o.deltaFactor<5&&!r.mouseWheel.normalizeDelta&&(p=o.deltaFactor,s=17),W(e,(g-v*p).toString(),{dir:d,dur:s}))}}},M=new Object,E=function(e){var n=!1,r=!1,o=null;if(void 0===e?r="#empty":void 0!==t(e).attr("id")&&(r=t(e).attr("id")),!1!==r&&void 0!==M[r])return M[r];if(e){try{var i=e.contentDocument||e.contentWindow.document;o=i.body.innerHTML}catch(e){}n=null!==o}else{try{var i=top.document;o=i.body.innerHTML}catch(e){}n=null!==o}return!1!==r&&(M[r]=n),n},R=function(e){var t=this.find("iframe");if(t.length){var n=e?"auto":"none";t.css("pointer-events",n)}},I=function(e,n){var r=n.nodeName.toLowerCase(),o=e.data("mCS").opt.mouseWheel.disableOver;return t.inArray(r,o)>-1&&!(t.inArray(r,["select","textarea"])>-1&&!t(n).is(":focus"))},O=function(){var e,n=t(this),r=n.data("mCS"),o="mCS_"+r.idx,i=t("#mCSB_"+r.idx+"_container"),a=i.parent(),c=t(".mCSB_"+r.idx+"_scrollbar ."+u[12]);c.bind("mousedown."+o+" touchstart."+o+" pointerdown."+o+" MSPointerDown."+o,function(n){l=!0,t(n.target).hasClass("mCSB_dragger")||(e=1)}).bind("touchend."+o+" pointerup."+o+" MSPointerUp."+o,function(e){l=!1}).bind("click."+o,function(o){if(e&&(e=0,t(o.target).hasClass(u[12])||t(o.target).hasClass("mCSB_draggerRail"))){K(n);var l=t(this),c=l.find(".mCSB_dragger");if(l.parent(".mCSB_scrollTools_horizontal").length>0){if(!r.overflowed[1])return;var s="x",d=o.pageX>c.offset().left?-1:1,f=Math.abs(i[0].offsetLeft)-d*(.9*a.width())}else{if(!r.overflowed[0])return;var s="y",d=o.pageY>c.offset().top?-1:1,f=Math.abs(i[0].offsetTop)-d*(.9*a.height())}W(n,f.toString(),{dir:s,scrollEasing:"mcsEaseInOut"})}})},D=function(){var e=t(this),n=e.data("mCS"),r=n.opt,o="mCS_"+n.idx,i=t("#mCSB_"+n.idx+"_container"),a=i.parent();i.bind("focusin."+o,function(n){var o=t(document.activeElement),l=i.find(".mCustomScrollBox").length;o.is(r.advanced.autoScrollOnFocus)&&(K(e),clearTimeout(e[0]._focusTimeout),e[0]._focusTimer=l?17*l:0,e[0]._focusTimeout=setTimeout(function(){var t=[ee(o)[0],ee(o)[1]],n=[i[0].offsetTop,i[0].offsetLeft],l=[n[0]+t[0]>=0&&n[0]+t[0]<a.height()-o.outerHeight(!1),n[1]+t[1]>=0&&n[0]+t[1]<a.width()-o.outerWidth(!1)],u="yx"!==r.axis||l[0]||l[1]?"all":"none";"x"===r.axis||l[0]||W(e,t[0].toString(),{dir:"y",scrollEasing:"mcsEaseInOut",overwrite:u,dur:0}),"y"===r.axis||l[1]||W(e,t[1].toString(),{dir:"x",scrollEasing:"mcsEaseInOut",overwrite:u,dur:0})},e[0]._focusTimer))})},N=function(){var e=t(this),n=e.data("mCS"),r="mCS_"+n.idx,o=t("#mCSB_"+n.idx+"_container").parent();o.bind("scroll."+r,function(e){0===o.scrollTop()&&0===o.scrollLeft()||t(".mCSB_"+n.idx+"_scrollbar").css("visibility","hidden")})},U=function(){var e=t(this),n=e.data("mCS"),r=n.opt,o=n.sequential,i="mCS_"+n.idx,a=".mCSB_"+n.idx+"_scrollbar",u=t(a+">a");u.bind("contextmenu."+i,function(e){e.preventDefault()}).bind("mousedown."+i+" touchstart."+i+" pointerdown."+i+" MSPointerDown."+i+" mouseup."+i+" touchend."+i+" pointerup."+i+" MSPointerUp."+i+" mouseout."+i+" pointerout."+i+" MSPointerOut."+i+" click."+i,function(i){if(i.preventDefault(),Q(i)){var a=t(this).attr("class");switch(o.type=r.scrollButtons.scrollType,i.type){case"mousedown":case"touchstart":case"pointerdown":case"MSPointerDown":if("stepped"===o.type)return;l=!0,n.tweenRunning=!1,u("on",a);break;case"mouseup":case"touchend":case"pointerup":case"MSPointerUp":case"mouseout":case"pointerout":case"MSPointerOut":if("stepped"===o.type)return;l=!1,o.dir&&u("off",a);break;case"click":if("stepped"!==o.type||n.tweenRunning)return;u("on",a)}}function u(t,n){o.scrollAmount=r.scrollButtons.scrollAmount,j(e,t,n)}})},H=function(){var e=t(this),n=e.data("mCS"),r=n.opt,o=n.sequential,i="mCS_"+n.idx,a=t("#mCSB_"+n.idx),l=t("#mCSB_"+n.idx+"_container"),u=l.parent(),c="input,textarea,select,datalist,keygen,[contenteditable='true']",s=l.find("iframe"),d=["blur."+i+" keydown."+i+" keyup."+i];function f(i){switch(i.type){case"blur":n.tweenRunning&&o.dir&&g("off",null);break;case"keydown":case"keyup":var a=i.keyCode?i.keyCode:i.which,s="on";if("x"!==r.axis&&(38===a||40===a)||"y"!==r.axis&&(37===a||39===a)){if((38===a||40===a)&&!n.overflowed[0]||(37===a||39===a)&&!n.overflowed[1])return;"keyup"===i.type&&(s="off"),t(document.activeElement).is(c)||(i.preventDefault(),i.stopImmediatePropagation(),g(s,a))}else if(33===a||34===a){if((n.overflowed[0]||n.overflowed[1])&&(i.preventDefault(),i.stopImmediatePropagation()),"keyup"===i.type){K(e);var d=34===a?-1:1;if("x"===r.axis||"yx"===r.axis&&n.overflowed[1]&&!n.overflowed[0])var f="x",p=Math.abs(l[0].offsetLeft)-d*(.9*u.width());else var f="y",p=Math.abs(l[0].offsetTop)-d*(.9*u.height());W(e,p.toString(),{dir:f,scrollEasing:"mcsEaseInOut"})}}else if((35===a||36===a)&&!t(document.activeElement).is(c)&&((n.overflowed[0]||n.overflowed[1])&&(i.preventDefault(),i.stopImmediatePropagation()),"keyup"===i.type)){if("x"===r.axis||"yx"===r.axis&&n.overflowed[1]&&!n.overflowed[0])var f="x",p=35===a?Math.abs(u.width()-l.outerWidth(!1)):0;else var f="y",p=35===a?Math.abs(u.height()-l.outerHeight(!1)):0;W(e,p.toString(),{dir:f,scrollEasing:"mcsEaseInOut"})}}function g(t,i){o.type=r.keyboard.scrollType,o.scrollAmount=r.keyboard.scrollAmount,"stepped"===o.type&&n.tweenRunning||j(e,t,i)}}s.length&&s.each(function(){t(this).bind("load",function(){E(this)&&t(this.contentDocument||this.contentWindow.document).bind(d[0],function(e){f(e)})})}),a.attr("tabindex","0").bind(d[0],function(e){f(e)})},j=function(e,n,r,o,i){var a=e.data("mCS"),l=a.opt,c=a.sequential,s=t("#mCSB_"+a.idx+"_container"),d="stepped"===c.type,f=l.scrollInertia<26?26:l.scrollInertia,p=l.scrollInertia<1?17:l.scrollInertia;switch(n){case"on":if(c.dir=[r===u[16]||r===u[15]||39===r||37===r?"x":"y",r===u[13]||r===u[15]||38===r||37===r?-1:1],K(e),Y(r)&&"stepped"===c.type)return;g(d);break;case"off":clearTimeout(c.step),X(c,"step"),K(e),(d||a.tweenRunning&&c.dir)&&g(!0)}function g(t){l.snapAmount&&(c.scrollAmount=l.snapAmount instanceof Array?"x"===c.dir[0]?l.snapAmount[1]:l.snapAmount[0]:l.snapAmount);var n="stepped"!==c.type,r=i||(t?n?f/1.5:p:1e3/60),u=t?n?7.5:40:2.5,d=[Math.abs(s[0].offsetTop),Math.abs(s[0].offsetLeft)],h=[a.scrollRatio.y>10?10:a.scrollRatio.y,a.scrollRatio.x>10?10:a.scrollRatio.x],m="x"===c.dir[0]?d[1]+c.dir[1]*(h[1]*u):d[0]+c.dir[1]*(h[0]*u),v="x"===c.dir[0]?d[1]+c.dir[1]*parseInt(c.scrollAmount):d[0]+c.dir[1]*parseInt(c.scrollAmount),y="auto"!==c.scrollAmount?v:m,b=o||(t?n?"mcsLinearOut":"mcsEaseInOut":"mcsLinear"),x=!!t;t&&r<17&&(y="x"===c.dir[0]?d[1]:d[0]),W(e,y.toString(),{dir:c.dir[0],scrollEasing:b,dur:r,onComplete:x}),t?c.dir=!1:(clearTimeout(c.step),c.step=setTimeout(function(){g()},r))}},G=function(e){var n=t(this).data("mCS").opt,r=[];return"function"==typeof e&&(e=e()),e instanceof Array?r=e.length>1?[e[0],e[1]]:"x"===n.axis?[null,e[0]]:[e[0],null]:(r[0]=e.y?e.y:e.x||"x"===n.axis?null:e,r[1]=e.x?e.x:e.y||"y"===n.axis?null:e),"function"==typeof r[0]&&(r[0]=r[0]()),"function"==typeof r[1]&&(r[1]=r[1]()),r},z=function(e,n){if(null!=e&&void 0!==e){var r=t(this),o=r.data("mCS"),i=o.opt,a=t("#mCSB_"+o.idx+"_container"),l=a.parent(),u=typeof e;n||(n="x"===i.axis?"x":"y");var s="x"===n?a.outerWidth(!1)-l.width():a.outerHeight(!1)-l.height(),d="x"===n?a[0].offsetLeft:a[0].offsetTop,f="x"===n?"left":"top";switch(u){case"function":return e();case"object":var p=e.jquery?e:t(e);if(!p.length)return;return"x"===n?ee(p)[1]:ee(p)[0];case"string":case"number":if(Y(e))return Math.abs(e);if(-1!==e.indexOf("%"))return Math.abs(s*parseInt(e)/100);if(-1!==e.indexOf("-="))return Math.abs(d-parseInt(e.split("-=")[1]));if(-1!==e.indexOf("+=")){var g=d+parseInt(e.split("+=")[1]);return g>=0?0:Math.abs(g)}if(-1!==e.indexOf("px")&&Y(e.split("px")[0]))return Math.abs(e.split("px")[0]);if("top"===e||"left"===e)return 0;if("bottom"===e)return Math.abs(l.height()-a.outerHeight(!1));if("right"===e)return Math.abs(l.width()-a.outerWidth(!1));if("first"===e||"last"===e){var p=a.find(":"+e);return"x"===n?ee(p)[1]:ee(p)[0]}return t(e).length?"x"===n?ee(t(e))[1]:ee(t(e))[0]:(a.css(f,e),void c.update.call(null,r[0]))}}},V=function(e){var n=t(this),r=n.data("mCS"),o=r.opt,i=t("#mCSB_"+r.idx+"_container");if(e)return clearTimeout(i[0].autoUpdate),void X(i[0],"autoUpdate");function a(e){clearTimeout(i[0].autoUpdate),c.update.call(null,n[0],e)}!function e(){clearTimeout(i[0].autoUpdate);if(0===n.parents("html").length)return void(n=null);i[0].autoUpdate=setTimeout(function(){return o.advanced.updateOnSelectorChange&&(r.poll.change.n=function(){!0===o.advanced.updateOnSelectorChange&&(o.advanced.updateOnSelectorChange="*");var e=0,t=i.find(o.advanced.updateOnSelectorChange);o.advanced.updateOnSelectorChange&&t.length>0&&t.each(function(){e+=this.offsetHeight+this.offsetWidth});return e}(),r.poll.change.n!==r.poll.change.o)?(r.poll.change.o=r.poll.change.n,void a(3)):o.advanced.updateOnContentResize&&(r.poll.size.n=n[0].scrollHeight+n[0].scrollWidth+i[0].offsetHeight+n[0].offsetHeight+n[0].offsetWidth,r.poll.size.n!==r.poll.size.o)?(r.poll.size.o=r.poll.size.n,void a(1)):!o.advanced.updateOnImageLoad||"auto"===o.advanced.updateOnImageLoad&&"y"===o.axis||(r.poll.img.n=i.find("img").length,r.poll.img.n===r.poll.img.o)?void((o.advanced.updateOnSelectorChange||o.advanced.updateOnContentResize||o.advanced.updateOnImageLoad)&&e()):(r.poll.img.o=r.poll.img.n,void i.find("img").each(function(){!function(e){if(t(e).hasClass(u[2]))return void a();var n=new Image;n.onload=function(e,t){return function(){return t.apply(e,arguments)}}(n,function(){this.onload=null,t(e).addClass(u[2]),a(2)}),n.src=e.src}(this)}))},o.advanced.autoUpdateTimeout)}()},K=function(e){var n=e.data("mCS"),r=t("#mCSB_"+n.idx+"_container,#mCSB_"+n.idx+"_container_wrapper,#mCSB_"+n.idx+"_dragger_vertical,#mCSB_"+n.idx+"_dragger_horizontal");r.each(function(){Z.call(this)})},W=function(e,n,r){var o=e.data("mCS"),i=o.opt,a={trigger:"internal",dir:"y",scrollEasing:"mcsEaseOut",drag:!1,dur:i.scrollInertia,overwrite:"all",callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},r=t.extend(a,r),l=[r.dur,r.drag?0:r.dur],u=t("#mCSB_"+o.idx),c=t("#mCSB_"+o.idx+"_container"),s=c.parent(),d=i.callbacks.onTotalScrollOffset?G.call(e,i.callbacks.onTotalScrollOffset):[0,0],f=i.callbacks.onTotalScrollBackOffset?G.call(e,i.callbacks.onTotalScrollBackOffset):[0,0];if(o.trigger=r.trigger,0===s.scrollTop()&&0===s.scrollLeft()||(t(".mCSB_"+o.idx+"_scrollbar").css("visibility","visible"),s.scrollTop(0).scrollLeft(0)),"_resetY"!==n||o.contentReset.y||(T("onOverflowYNone")&&i.callbacks.onOverflowYNone.call(e[0]),o.contentReset.y=1),"_resetX"!==n||o.contentReset.x||(T("onOverflowXNone")&&i.callbacks.onOverflowXNone.call(e[0]),o.contentReset.x=1),"_resetY"!==n&&"_resetX"!==n){if(!o.contentReset.y&&e[0].mcs||!o.overflowed[0]||(T("onOverflowY")&&i.callbacks.onOverflowY.call(e[0]),o.contentReset.x=null),!o.contentReset.x&&e[0].mcs||!o.overflowed[1]||(T("onOverflowX")&&i.callbacks.onOverflowX.call(e[0]),o.contentReset.x=null),i.snapAmount){var p=i.snapAmount instanceof Array?"x"===r.dir?i.snapAmount[1]:i.snapAmount[0]:i.snapAmount;n=function(e,t,n){return Math.round(e/t)*t-n}(n,p,i.snapOffset)}switch(r.dir){case"x":var g=t("#mCSB_"+o.idx+"_dragger_horizontal"),h="left",m=c[0].offsetLeft,v=[u.width()-c.outerWidth(!1),g.parent().width()-g.width()],y=[n,0===n?0:n/o.scrollRatio.x],b=d[1],x=f[1],P=b>0?b/o.scrollRatio.x:0,k=x>0?x/o.scrollRatio.x:0;break;case"y":var g=t("#mCSB_"+o.idx+"_dragger_vertical"),h="top",m=c[0].offsetTop,v=[u.height()-c.outerHeight(!1),g.parent().height()-g.height()],y=[n,0===n?0:n/o.scrollRatio.y],b=d[0],x=f[0],P=b>0?b/o.scrollRatio.y:0,k=x>0?x/o.scrollRatio.y:0}y[1]<0||0===y[0]&&0===y[1]?y=[0,0]:y[1]>=v[1]?y=[v[0],v[1]]:y[0]=-y[0],e[0].mcs||(w(),T("onInit")&&i.callbacks.onInit.call(e[0])),clearTimeout(c[0].onCompleteTimeout),$(g[0],h,Math.round(y[1]),l[1],r.scrollEasing),!o.tweenRunning&&(0===m&&y[0]>=0||m===v[0]&&y[0]<=v[0])||$(c[0],h,Math.round(y[0]),l[0],r.scrollEasing,r.overwrite,{onStart:function(){r.callbacks&&r.onStart&&!o.tweenRunning&&(T("onScrollStart")&&(w(),i.callbacks.onScrollStart.call(e[0])),o.tweenRunning=!0,S(g),o.cbOffsets=[i.callbacks.alwaysTriggerOffsets||m>=v[0]+b,i.callbacks.alwaysTriggerOffsets||m<=-x])},onUpdate:function(){r.callbacks&&r.onUpdate&&T("whileScrolling")&&(w(),i.callbacks.whileScrolling.call(e[0]))},onComplete:function(){if(r.callbacks&&r.onComplete){"yx"===i.axis&&clearTimeout(c[0].onCompleteTimeout);var t=c[0].idleTimer||0;c[0].onCompleteTimeout=setTimeout(function(){T("onScroll")&&(w(),i.callbacks.onScroll.call(e[0])),T("onTotalScroll")&&y[1]>=v[1]-P&&o.cbOffsets[0]&&(w(),i.callbacks.onTotalScroll.call(e[0])),T("onTotalScrollBack")&&y[1]<=k&&o.cbOffsets[1]&&(w(),i.callbacks.onTotalScrollBack.call(e[0])),o.tweenRunning=!1,c[0].idleTimer=0,S(g,"hide")},t)}}})}function T(e){return o&&i.callbacks[e]&&"function"==typeof i.callbacks[e]}function w(){var t=[c[0].offsetTop,c[0].offsetLeft],n=[g[0].offsetTop,g[0].offsetLeft],o=[c.outerHeight(!1),c.outerWidth(!1)],i=[u.height(),u.width()];e[0].mcs={content:c,top:t[0],left:t[1],draggerTop:n[0],draggerLeft:n[1],topPct:Math.round(100*Math.abs(t[0])/(Math.abs(o[0])-i[0])),leftPct:Math.round(100*Math.abs(t[1])/(Math.abs(o[1])-i[1])),direction:r.dir}}},$=function(e,t,n,r,o,i,a){e._mTween||(e._mTween={top:{},left:{}});var l,u,a=a||{},c=a.onStart||function(){},s=a.onUpdate||function(){},d=a.onComplete||function(){},f=q(),p=0,g=e.offsetTop,h=e.style,m=e._mTween[t];"left"===t&&(g=e.offsetLeft);var v=n-g;function y(){m.stop||(p||c.call(),p=q()-f,b(),p>=m.time&&(m.time=p>m.time?p+l-(p-m.time):p+l-1,m.time<p+1&&(m.time=p+1)),m.time<r?m.id=u(y):d.call())}function b(){r>0?(m.currVal=function(e,t,n,r,o){switch(o){case"linear":case"mcsLinear":return n*e/r+t;case"mcsLinearOut":return e/=r,e--,n*Math.sqrt(1-e*e)+t;case"easeInOutSmooth":return(e/=r/2)<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t;case"easeInOutStrong":return(e/=r/2)<1?n/2*Math.pow(2,10*(e-1))+t:(e--,n/2*(2-Math.pow(2,-10*e))+t);case"easeInOut":case"mcsEaseInOut":return(e/=r/2)<1?n/2*e*e*e+t:n/2*((e-=2)*e*e+2)+t;case"easeOutSmooth":return e/=r,-n*(--e*e*e*e-1)+t;case"easeOutStrong":return n*(1-Math.pow(2,-10*e/r))+t;case"easeOut":case"mcsEaseOut":default:var i=(e/=r)*e,a=i*e;return t+n*(.499999999999997*a*i+-2.5*i*i+5.5*a+-6.5*i+4*e)}}(m.time,g,v,r,o),h[t]=Math.round(m.currVal)+"px"):h[t]=n+"px",s.call()}m.stop=0,"none"!==i&&function(){if(null==m.id)return;window.requestAnimationFrame?window.cancelAnimationFrame(m.id):clearTimeout(m.id);m.id=null}(),l=1e3/60,m.time=p+l,u=window.requestAnimationFrame?window.requestAnimationFrame:function(e){return b(),setTimeout(e,.01)},m.id=u(y)},q=function(){return window.performance&&window.performance.now?window.performance.now():window.performance&&window.performance.webkitNow?window.performance.webkitNow():Date.now?Date.now():(new Date).getTime()},Z=function(){var e=this;e._mTween||(e._mTween={top:{},left:{}});for(var t=["top","left"],n=0;n<t.length;n++){var r=t[n];e._mTween[r].id&&(window.requestAnimationFrame?window.cancelAnimationFrame(e._mTween[r].id):clearTimeout(e._mTween[r].id),e._mTween[r].id=null,e._mTween[r].stop=1)}},X=function(e,t){try{delete e[t]}catch(n){e[t]=null}},Q=function(e){return!(e.which&&1!==e.which)},J=function(e){var t=e.originalEvent.pointerType;return!(t&&"touch"!==t&&2!==t)},Y=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},ee=function(e){var t=e.parents(".mCSB_container");return[e.offset().top-t.offset().top,e.offset().left-t.offset().left]},te=function(){var e=function(){var e=["webkit","moz","ms","o"];if("hidden"in document)return"hidden";for(var t=0;t<e.length;t++)if(e[t]+"Hidden"in document)return e[t]+"Hidden";return null}();return!!e&&document[e]};t.fn[n]=function(e){return c[e]?c[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void t.error("Method "+e+" does not exist"):c.init.apply(this,arguments)},t[n]=function(e){return c[e]?c[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void t.error("Method "+e+" does not exist"):c.init.apply(this,arguments)},t[n].defaults=r,window[n]=!0,t(window).bind("load",function(){t(".mCustomScrollbar")[n](),t.extend(t.expr[":"],{mcsInView:t.expr[":"].mcsInView||function(e){var n,r,o=t(e),i=o.parents(".mCSB_container");if(i.length)return n=i.parent(),(r=[i[0].offsetTop,i[0].offsetLeft])[0]+ee(o)[0]>=0&&r[0]+ee(o)[0]<n.height()-o.outerHeight(!1)&&r[1]+ee(o)[1]>=0&&r[1]+ee(o)[1]<n.width()-o.outerWidth(!1)},mcsInSight:t.expr[":"].mcsInSight||function(e,n,r){var o,i,a,l,u=t(e),c=u.parents(".mCSB_container"),s="exact"===r[3]?[[1,0],[1,0]]:[[.9,.1],[.6,.4]];if(c.length)return o=[u.outerHeight(!1),u.outerWidth(!1)],a=[c[0].offsetTop+ee(u)[0],c[0].offsetLeft+ee(u)[1]],i=[c.parent()[0].offsetHeight,c.parent()[0].offsetWidth],a[0]-i[0]*(l=[o[0]<i[0]?s[0]:s[1],o[1]<i[1]?s[0]:s[1]])[0][0]<0&&a[0]+o[0]-i[0]*l[0][1]>=0&&a[1]-i[1]*l[1][0]<0&&a[1]+o[1]-i[1]*l[1][1]>=0},mcsOverflow:t.expr[":"].mcsOverflow||function(e){var n=t(e).data("mCS");if(n)return n.overflowed[0]||n.overflowed[1]}})})}()}()})},INCx:function(e,t,n){e.exports={default:n("q3gF"),__esModule:!0}},Ij0n:function(e,t,n){"use strict";var r=a(n("/jXN")),o=a(n("b8L+")),i=a(n("C3UN"));function a(e){return e&&e.__esModule?e:{default:e}}n("VVVL");var l="transformer-painter-service";r.default.module("transformer-painter-module",["geometry-factory-module"]).factory(l,["$rootScope","geometry-factory",function(e,t){var n=function(e,t,n,r,a){var l=e.getCTM();e.setCTM(null);var u=l.mapPoint(t).floor(),c=o.default.point(u.x+.5,u.y+.5),s=l.mapPoint(n).floor(),d=o.default.point(s.x+.5,s.y+.5),f={};f.lineCap=i.default.GLineCap.kGLineCapFlat,f.lineJoin=i.default.GLineJoin.kGLineJoinMiter,a&&(f.dashPattern=a),e.strokeLine(c,d,r,0,f),e.setCTM(l)},r=function(e,n,r,a){var l=e.getCTM();e.setCTM(null);var u=l.mapPoint(n).floor(),c=o.default.point(u.x+.5,u.y+.5),s=l.mapPoint(r).floor(),d=o.default.point(s.x+.5,s.y+.5),f=o.default.point(d.x-c.x,d.y-c.y).vecNormalized();c.copy().offset(-f.x,-f.y),d.copy().offset(f.x,f.y);var p=o.default.point(f.y,-f.x),g=c.copy();g.offset(4*(f.x+p.x),4*(f.y+p.y));var h=c.copy();h.offset(4*(f.x-p.x),4*(f.y-p.y));var m=t.createGeometry();m.beginFigure(c),m.lineTo(g),m.lineTo(h),m.endFigureClose(),a&&e.fillGeometry(m,a);var v=d.copy();v.offset(-4*(f.x-p.x),-4*(f.y-p.y));var y=d.copy();y.offset(-4*(f.x+p.x),-4*(f.y+p.y));var b=t.createGeometry();b.beginFigure(d),b.lineTo(v),b.lineTo(y),b.endFigureClose(),a&&e.fillGeometry(b,a);var x={};x.lineCap=i.default.GLineCap.kGLineCapFlat,x.lineJoin=i.default.GLineJoin.kGLineJoinMiter,x.miterLimit=10;var S=c.copy();S.offset(5*p.x,5*p.y);var P=c.copy();P.offset(-5*p.x,-5*p.y),e.strokeLine(S,P,a,0,x);var k=d.copy();k.offset(5*p.x,5*p.y);var T=d.copy();T.offset(-5*p.x,-5*p.y),e.strokeLine(k,T,a,0,x),e.strokeLine(c,d,a,0,x),e.setCTM(l)};return{drawFrame:function(e,n,r,a,l){var u=e.getCTM();e.setCTM(null);var c=u.mapPoint(n.tl).floor(),s=o.default.point(c.x+.5,c.y+.5),d=u.mapPoint(n.tr).floor(),f=o.default.point(d.x+.5,d.y+.5),p=u.mapPoint(n.bl).floor(),g=o.default.point(p.x+.5,p.y+.5),h=u.mapPoint(n.br).floor(),m=o.default.point(h.x+.5,h.y+.5),v=t.createGeometry();if(v.beginFigure(g),v.lineTo(m),v.lineTo(f),v.lineTo(s),v.endFigureClose(),r&&e.fillGeometry(v,r),a){var y={};y.lineCap=i.default.GLineCap.kGLineCapFlat,y.lineJoin=i.default.GLineJoin.kGLineJoinBevel,l&&(y.dashPattern=l),e.strokeGeometry(v,a,0,y)}e.setCTM(u)},drawMarker:function(e,t,n,r,i,a){var l=e.getCTM();e.setCTM(null);var u=l.mapPoint(r).floor(),c=o.default.point(u.x+.5,u.y+.5),s=i;o.default.rect(c.x-s,c.y-s,c.x+s,c.y+s);e.drawMarker(c,s,n,t,a),e.setCTM(l)},drawOrigin:function(e,t,n,r,i,a){var l=e.getCTM();e.setCTM(null);var u=l.mapPoint(r).floor(),c=o.default.point(u.x+.5,u.y+.5),s=a,d=o.default.rect(c.x-s,c.y-s,c.x+s,c.y+s);if(t&&e.fillEllipse(d,t),n){e.strokeEllipse(d,n,0,null);var f=i,p=o.default.rect(c.x-f,c.y-f,c.x+f,c.y+f);e.fillEllipse(p,n)}e.setCTM(l)},drawCircle:function(e,t,n,r,i){var a=e.getCTM();e.setCTM(null);var l=a.mapPoint(r).floor(),u=o.default.point(l.x+.5,l.y+.5),c=i,s=o.default.rect(u.x-c,u.y-c,u.x+c,u.y+c);t&&e.fillEllipse(s,t),n&&e.strokeEllipse(s,n,0,null),e.setCTM(a)},drawSnapInfo:function(e,t,o){if(!isUndefinedOrNull(t)){var i=t.guides;if(i.length>0)for(var a=[4],l=0;l<i.length;++l)n(e,i[l].pointA,i[l].pointB,o,a);var u=t.distances;if(u.length>0)for(var c=0;c<u.length;++c)r(e,u[c].pointA,u[c].pointB,o);var s=t.scales;if(s.length>0)for(var d=0;d<s.length;++d)r(e,s[d].pointA,s[d].pointB,o)}},drawLine:n}}]),mainApp.factory(l,getConstructor("transformer-painter-module",l,"factory"))},IoHx:function(e,t){e.exports="../images/symbol-defs-activity.svg"},J2E6:function(e,t,n){"use strict";var r=a(n("C3UN")),o=a(n("b8L+")),i=a(n("IZAc"));function a(e){return e&&e.__esModule?e:{default:e}}n("VVVL"),n("2geq");angular.module("bl-flipper-module",["geometry-factory-module","ui-viewer-pagerender-service-module"]).factory("bl-flipper-factory",["$rootScope","geometry-factory","ui-viewer-pagerender-service",function(e,t,n){var a=function(e,t,n){this.a=e,this.b=t,this.c=n},l=function(e,t){return new a(t.y-e.y,e.x-t.x,e.y*t.x-e.x*t.y)},u=function(e,t){return new a(t.x,t.y,-(t.x*e.x+t.y*e.y))},c=function(e,t,n){var r=e.a*t.b-e.b*t.a;return!o.default.floatEq(r,0)&&(n&&(n.x=-(e.c*t.b-e.b*t.c)/r,n.y=-(e.a*t.c-e.c*t.a)/r),!0)},s=function(e,t,n,r){var o=parseInt(255*t),a=parseInt(255*n),l=parseInt(255*r),u=parseInt(255*e);return i.default.createInstanceFromARGB(u,o,a,l)},d={};return d.createInstance=function(a,d){return new function(a,d){var f,p=this,g=a,h=a.getDocument(),m=1,v=0,y=d,b=o.default.size(),x={leftPage:0,leftFlipPage:0,riteFlipPage:0,ritePage:0},S={direction:r.default.FlipDirection.kFlipNone,source:o.default.point(),position:o.default.point()},P={angle:0,bendLine:[o.default.point(),o.default.point()],pageLine:[o.default.point(),o.default.point()],points:[o.default.point(),o.default.point(),o.default.point(),o.default.point(),o.default.point(),o.default.point(),o.default.point(),o.default.point()],leftStackedPagesWidth:0,riteStackedPagesWidth:0};x.leftPage=-1,x.leftFlipPage=-1,x.riteFlipPage=-1,x.ritePage=0;var k=h.pageDirection;f=k===r.default.PDPageDirection.kPDPageDirectionR2L,p.dispose=function(){},p.setRotate=function(e){v!==e&&(v=e,p.calcMaxPageSize(),p.updateLayout())},p.getRotate=function(){return v},p.setZoom=function(e){m!==e&&(m=e,p.calcMaxPageSize(),p.updateLayout())},p.getZoom=function(){return m},p.getContentSize=function(){var e=p.getBookSize();return o.default.size(o.default.castFloatToInt(Math.ceil(e.width*m)),o.default.castFloatToInt(Math.ceil(e.height*m)))},p.pickPage=function(e,t){isUndefinedOrNull(t)&&(t=1);var n=2*t-1;S.source=e,S.position=e;var o=f?-e.x:e.x;o<0&&p.isPageExist(x.leftPage-n)?(S.direction=r.default.FlipDirection.kFlipLeft,x.riteFlipPage=x.leftPage,x.leftFlipPage=x.leftPage-n,p.preloadPage(x.leftFlipPage),x.leftPage-=n+1,p.preloadPage(x.leftPage),p.preloadPage(x.leftPage-1),p.preloadPage(x.leftPage-2),p.updateLayout()):o>0&&p.isPageExist(x.ritePage+n)&&(S.direction=r.default.FlipDirection.kFlipRight,x.leftFlipPage=x.ritePage,x.riteFlipPage=x.ritePage+n,p.preloadPage(x.riteFlipPage),x.ritePage+=n+1,p.preloadPage(x.ritePage),p.preloadPage(x.ritePage+1),p.preloadPage(x.ritePage+2),p.updateLayout())},p.pullTo=function(e){S.direction!==r.default.FlipDirection.kFlipNone&&(S.position=p.normalizeTarget(e),p.updateLayout())},p.releasePage=function(e){if(isUndefinedOrNull(e)&&(e=!1),S.direction!==r.default.FlipDirection.kFlipNone){switch(S.direction){case r.default.FlipDirection.kFlipRight:e?x.leftPage=x.riteFlipPage:(f?S.position.x>0:S.position.x<0)?x.leftPage=x.riteFlipPage:x.ritePage=x.leftFlipPage;break;case r.default.FlipDirection.kFlipLeft:e?x.ritePage=x.leftFlipPage:(f?S.position.x<0:S.position.x>0)?x.ritePage=x.leftFlipPage:x.leftPage=x.riteFlipPage}S.direction=r.default.FlipDirection.kFlipNone,x.riteFlipPage=-1,x.leftFlipPage=-1,p.updateLayout()}},p.getPickPoint=function(){return S.source.copy()},p.getPullPoint=function(){return S.position.copy()},p.isFirstPage=function(){return-1===x.leftPage},p.isLastPage=function(){return-1===x.ritePage},p.isPulling=function(){return S.direction!==r.default.FlipDirection.kFlipNone},p.jumpToPage=function(e){if(!h)return!1;var t=h.getNumPages();return!(e<0||e>=t||(p.isPulling()&&p.releasePage(),e%2?(x.leftPage=e,x.ritePage=e+1):(x.leftPage=e-1,x.ritePage=e),p.preloadPage(x.leftPage),p.preloadPage(x.ritePage),x.leftFlipPage=-1,x.riteFlipPage=-1,p.updateLayout(),0))},p.getCountToSeePage=function(e){var t=e,n=p.isPageExist(x.leftPage)?x.leftPage:x.ritePage-1;return t%2==0&&--t,(t-n)/2},p.draw=function(e,t){p.freeUnusedPageCaches(),f?p.drawR2L(e,t):p.drawL2R(e,t)},p.drawL2R=function(e,n){var a=b.width,l=b.height,u=2*Math.sqrt(a*a+l*l),c=t.createGeometry(),d=o.default.rect(0,0,b.width,b.height);c.rectangle(d);var f=p.getExtent();if(e.pushState(),e.scaleCTM(m,m),e.translateCTM(f.width,f.height),p.isPageExist(x.leftPage)){var g=t.createGeometry(),h=o.default.point(-f.width,-f.height);g.beginFigure(h);var v=P.leftStackedPagesWidth,y=v*Math.tan(.1*Math.PI),k=o.default.point(-f.width-v,-f.height+y);g.lineTo(k);var T=o.default.point(-f.width-v,f.height-y);g.lineTo(T);var w=o.default.point(-f.width,f.height);g.lineTo(w),g.endFigureClose(),e.fillGeometry(g,"#EFEFEF"),e.pushState();var C=o.default.rect(-f.width,-f.height,0,f.height);if(e.clipRect(C),e.translateCTM(-f.width,-f.height),e.fillGeometry(c,"#FFFFFF"),p.drawPage(x.leftPage,e,n),S.direction!==r.default.FlipDirection.kFlipLeft){var B={stops:[[0,i.default.createInstance("#00000000")],[1,i.default.createInstance("#2F000000")]],startPoint:o.default.point(f.width-50,0),endPoint:o.default.point(f.width,0),extendStart:!1,extendEnd:!1},L=e.createLinearGradient(B),F=o.default.rect(a-50,0,a,l);e.fillRect(F,L)}e.setStrokeAdjustment(!1),e.strokeGeometry(c,"#ABABAB",0,null),e.popState()}if(p.isPageExist(x.ritePage)){var A=t.createGeometry(),_=o.default.point(f.width,-f.height);A.beginFigure(_);var M=P.riteStackedPagesWidth,E=M*Math.tan(.1*Math.PI),R=o.default.point(f.width+M,-f.height+E);A.lineTo(R);var I=o.default.point(f.width+M,f.height-E);A.lineTo(I);var O=o.default.point(f.width,f.height);A.lineTo(O),A.endFigureClose(),e.fillGeometry(A,"#EFEFEF"),e.pushState();var D=o.default.rect(0,-f.height,f.width,f.height);if(e.clipRect(D),e.translateCTM(0,-f.height),e.fillGeometry(c,"#FFFFFF"),p.drawPage(x.ritePage,e,n),S.direction!==r.default.FlipDirection.kFlipRight){var N={stops:[[0,i.default.createInstance("#2F000000")],[1,i.default.createInstance("#00000000")]],startPoint:o.default.point(0,0),endPoint:o.default.point(50,0),extendStart:!1,extendEnd:!1},U=e.createLinearGradient(N),H=o.default.rect(0,0,50,l);e.fillRect(H,U)}e.setStrokeAdjustment(!1),e.strokeGeometry(c,"#ABABAB",0,null),e.popState()}var j=o.default.point((P.points[1].x+P.points[2].x)/2,(P.points[1].y+P.points[2].y)/2),G=o.default.point((P.points[5].x+P.points[6].x)/2,(P.points[5].y+P.points[6].y)/2);if(S.direction===r.default.FlipDirection.kFlipRight){if(p.isPageExist(x.leftFlipPage)){e.pushState(),e.setStrokeAdjustment(!1);var z=t.createGeometry();if(z.beginFigure(j),z.conicCurveTo(P.points[1],P.points[0]),o.default.floatEq(P.bendLine[0].x,f.width)){var V=o.default.point(f.width,f.height);z.lineTo(V)}var K=o.default.point(0,f.height);z.lineTo(K);var W=o.default.point(0,-f.height);if(z.lineTo(W),o.default.floatEq(P.bendLine[1].x,f.width)){var $=o.default.point(f.width,-f.height);z.lineTo($)}z.lineTo(P.points[7]),z.conicCurveTo(P.points[6],G),z.endFigureClose(),e.clipGeometry(z),e.pushState(),e.translateCTM(0,-f.height),e.fillGeometry(c,"#FFFFFF"),p.drawPage(x.leftFlipPage,e,n);var q={stops:[[0,i.default.createInstance("#2F000000")],[1,i.default.createInstance("#00000000")]],startPoint:o.default.point(0,0),endPoint:o.default.point(50,0),extendStart:!1,extendEnd:!1},Z=e.createLinearGradient(q),X=o.default.rect(0,0,50,l);e.fillRect(X,Z),e.popState(),e.strokeGeometry(z,"#ABABAB",0,null),e.popState(),e.pushState(),e.setStrokeAdjustment(!1);var Q=p.isPageExist(x.leftPage)?-f.width:0,J=t.createGeometry();if(J.beginFigure(j),J.conicCurveTo(P.points[1],P.points[0]),o.default.floatEq(P.bendLine[0].x,f.width)){var Y=o.default.point(f.width,f.height);J.lineTo(Y)}var ee=o.default.point(Q,f.height);J.lineTo(ee);var te=o.default.point(Q,-f.height);if(J.lineTo(te),o.default.floatEq(P.bendLine[1].x,f.width)){var ne=o.default.point(f.width,-f.height);J.lineTo(ne)}J.lineTo(P.points[7]),J.conicCurveTo(P.points[6],G),J.endFigureClose(),e.clipGeometry(J),e.translateCTM((P.bendLine[0].x+P.bendLine[1].x)/2,(P.bendLine[0].y+P.bendLine[1].y)/2),e.rotateCTM(.5*P.angle),e.translateCTM(0,-3*f.height);var re=o.default.point(S.source.x-S.position.x,S.source.y-S.position.y).vecMagnitude()/2,oe=null;if(P.angle<Math.PI){var ie={stops:[[0,i.default.createInstance("#00000000")],[1,i.default.createInstance("#2F000000")]],startPoint:o.default.point(-re,0),endPoint:o.default.point(0,0),extendStart:!1,extendEnd:!1};oe=e.createLinearGradient(ie)}else{var ae={stops:[[0,i.default.createInstance("#2F000000")],[1,i.default.createInstance("#00000000")]],startPoint:o.default.point(0,0),endPoint:o.default.point(re,0),extendStart:!1,extendEnd:!1};oe=e.createLinearGradient(ae)}var le=oe,ue=o.default.rect(-re,-u,re,u);e.fillRect(ue,le),e.popState()}if(p.isPageExist(x.riteFlipPage)){e.pushState(),e.setStrokeAdjustment(!1);var ce=t.createGeometry();ce.beginFigure(j),ce.conicCurveTo(P.points[2],P.points[3]),P.pageLine[0].x<f.width&&ce.lineTo(P.pageLine[0]),P.pageLine[1].x<f.width&&ce.lineTo(P.pageLine[1]),ce.lineTo(P.points[4]),ce.conicCurveTo(P.points[5],G),ce.endFigureClose(),e.fillGeometry(ce,"#FFFFFF"),e.clipGeometry(ce),e.pushState(),e.translateCTM((P.pageLine[0].x+P.pageLine[1].x)/2,(P.pageLine[0].y+P.pageLine[1].y)/2),e.rotateCTM(P.angle),e.translateCTM(0,-f.height),P.angle<o.default.FLT_EPSILON||P.angle>2*Math.PI-o.default.FLT_EPSILON?e.setInterpolationMode(r.default.GInterpolationMode.kGInterpolationModeNearestNeighbor):e.setInterpolationMode(r.default.GInterpolationMode.kGInterpolationModeLinear),p.drawPage(x.riteFlipPage,e,n,!1),e.popState(),e.strokeGeometry(ce,"#ABABAB",0,null),e.translateCTM((P.bendLine[0].x+P.bendLine[1].x)/2,(P.bendLine[0].y+P.bendLine[1].y)/2),e.rotateCTM(.5*P.angle),e.translateCTM(0,-2*f.height);var se=o.default.point(S.source.x-2*f.width,S.source.y),de=o.default.pointsDistance(se,S.position),fe=de>50?1:de/50,pe=s(.25+.25*fe,fe,fe,fe),ge=s(.06*fe,fe,fe,fe),he=null;if(P.angle<Math.PI){var me={stops:[[0,ge],[1,pe]],startPoint:o.default.point(-50,0),endPoint:o.default.point(0,0),extendStart:!1,extendEnd:!1};he=e.createLinearGradient(me)}else{var ve={stops:[[0,pe],[1,ge]],startPoint:o.default.point(0,0),endPoint:o.default.point(50,0),extendStart:!1,extendEnd:!1};he=e.createLinearGradient(ve)}var ye=he,be=o.default.rect(-50,-u,50,u);e.fillRect(be,ye),e.popState()}if(p.isPageExist(x.ritePage)){e.pushState(),e.setStrokeAdjustment(!1);var xe=t.createGeometry();xe.beginFigure(j),xe.conicCurveTo(P.points[1],P.points[0]);var Se=o.default.point(f.width,f.height);xe.lineTo(Se);var Pe=o.default.point(f.width,-f.height);xe.lineTo(Pe),xe.lineTo(P.points[7]),xe.conicCurveTo(P.points[6],G),xe.endFigureClose();var ke=o.default.rect(-f.width,-f.height,f.width,f.height);if(e.clipRect(ke),e.clipGeometry(xe),e.translateCTM((P.bendLine[0].x+P.bendLine[1].x)/2,(P.bendLine[0].y+P.bendLine[1].y)/2),e.rotateCTM(.5*P.angle),e.translateCTM(0,-2*f.height),P.angle<Math.PI){var Te={stops:[[0,i.default.createInstance("#2F000000")],[2/3,i.default.createInstance("#2F000000")],[1,i.default.createInstance("#00000000")]],startPoint:o.default.point(-100,0),endPoint:o.default.point(50,0),extendStart:!1,extendEnd:!1},we=e.createLinearGradient(Te),Ce=o.default.rect(-100,-u,50,u);e.fillRect(Ce,we)}else{var Be={stops:[[0,i.default.createInstance("#00000000")],[1/3,i.default.createInstance("#2F000000")],[1,i.default.createInstance("#2F000000")]],startPoint:o.default.point(-50,0),endPoint:o.default.point(100,0),extendStart:!1,extendEnd:!1},Le=e.createLinearGradient(Be),Fe=o.default.rect(-50,-u,100,u);e.fillRect(Fe,Le)}e.popState()}}else if(S.direction===r.default.FlipDirection.kFlipLeft){if(p.isPageExist(x.riteFlipPage)){e.pushState(),e.setStrokeAdjustment(!1);var Ae=t.createGeometry();if(Ae.beginFigure(j),Ae.conicCurveTo(P.points[1],P.points[0]),o.default.floatEq(P.bendLine[0].x,-f.width)){var _e=o.default.point(-f.width,f.height);Ae.lineTo(_e)}var Me=o.default.point(0,f.height);Ae.lineTo(Me);var Ee=o.default.point(0,-f.height);if(Ae.lineTo(Ee),o.default.floatEq(P.bendLine[1].x,-f.width)){var Re=o.default.point(-f.width,-f.height);Ae.lineTo(Re)}Ae.lineTo(P.points[7]),Ae.conicCurveTo(P.points[6],G),Ae.endFigureClose(),e.clipGeometry(Ae),e.pushState(),e.translateCTM(-f.width,-f.height),e.fillGeometry(c,"#FFFFFF"),p.drawPage(x.riteFlipPage,e,n);var Ie={stops:[[0,i.default.createInstance("#00000000")],[1,i.default.createInstance("#2F000000")]],startPoint:o.default.point(f.width-50,0),endPoint:o.default.point(f.width,0),extendStart:!1,extendEnd:!1},Oe=e.createLinearGradient(Ie),De=o.default.rect(a-50,0,a,l);e.fillRect(De,Oe),e.popState(),e.strokeGeometry(Ae,"#ABABAB",0,null),e.popState(),e.pushState(),e.setStrokeAdjustment(!1);var Ne=p.isPageExist(x.ritePage)?f.width:0,Ue=t.createGeometry();if(Ue.beginFigure(j),Ue.conicCurveTo(P.points[1],P.points[0]),o.default.floatEq(P.bendLine[0].x,-f.width)){var He=o.default.point(-f.width,f.height);Ue.lineTo(He)}var je=o.default.point(Ne,f.height);Ue.lineTo(je);var Ge=o.default.point(Ne,-f.height);if(Ue.lineTo(Ge),o.default.floatEq(P.bendLine[1].x,-f.width)){var ze=o.default.point(-f.width,-f.height);Ue.lineTo(ze)}Ue.lineTo(P.points[7]),Ue.conicCurveTo(P.points[6],G),Ue.endFigureClose(),e.clipGeometry(Ue),e.translateCTM((P.bendLine[0].x+P.bendLine[1].x)/2,(P.bendLine[0].y+P.bendLine[1].y)/2),e.rotateCTM(.5*P.angle),e.translateCTM(0,-3*f.height);var Ve=o.default.point(S.source.x-S.position.x,S.source.y-S.position.y).vecMagnitude()/2,Ke=null;if(P.angle<Math.PI){var We={stops:[[0,i.default.createInstance("#2F000000")],[1,i.default.createInstance("#00000000")]],startPoint:o.default.point(0,0),endPoint:o.default.point(Ve,0),extendStart:!1,extendEnd:!1};Ke=e.createLinearGradient(We)}else{var $e={stops:[[0,i.default.createInstance("#00000000")],[1,i.default.createInstance("#2F000000")]],startPoint:o.default.point(-Ve,0),endPoint:o.default.point(0,0),extendStart:!1,extendEnd:!1};Ke=e.createLinearGradient($e)}var qe=Ke,Ze=o.default.rect(-Ve,-u,Ve,u);e.fillRect(Ze,qe),e.popState()}if(p.isPageExist(x.leftFlipPage)){e.pushState(),e.setStrokeAdjustment(!1);var Xe=t.createGeometry();Xe.beginFigure(j),Xe.conicCurveTo(P.points[2],P.points[3]),P.pageLine[0].x>-f.width&&Xe.lineTo(P.pageLine[0]),P.pageLine[1].x>-f.width&&Xe.lineTo(P.pageLine[1]),Xe.lineTo(P.points[4]),Xe.conicCurveTo(P.points[5],G),Xe.endFigureClose(),e.fillGeometry(Xe,"#FFFFFF"),e.clipGeometry(Xe),e.pushState(),e.translateCTM((P.pageLine[0].x+P.pageLine[1].x)/2,(P.pageLine[0].y+P.pageLine[1].y)/2),e.rotateCTM(P.angle),e.translateCTM(-f.width,-f.height),P.angle<o.default.FLT_EPSILON||P.angle>2*Math.PI-o.default.FLT_EPSILON?e.setInterpolationMode(r.default.GInterpolationMode.kGInterpolationModeNearestNeighbor):e.setInterpolationMode(r.default.GInterpolationMode.kGInterpolationModeLinear),p.drawPage(x.leftFlipPage,e,n,!1),e.popState(),e.strokeGeometry(Xe,"#ABABAB",0,null),e.translateCTM((P.bendLine[0].x+P.bendLine[1].x)/2,(P.bendLine[0].y+P.bendLine[1].y)/2),e.rotateCTM(.5*P.angle),e.translateCTM(0,-2*f.height);var Qe=o.default.point(S.source.x+2*f.width,S.source.y),Je=o.default.pointsDistance(Qe,S.position),Ye=Je>50?1:Je/50,et=s(.25+.25*Ye,Ye,Ye,Ye),tt=s(.06*Ye,Ye,Ye,Ye),nt=null;if(P.angle<Math.PI){var rt={stops:[[0,et],[1,tt]],startPoint:o.default.point(0,0),endPoint:o.default.point(50,0),extendStart:!1,extendEnd:!1};nt=e.createLinearGradient(rt)}else{var ot={stops:[[0,tt],[1,et]],startPoint:o.default.point(-50,0),endPoint:o.default.point(0,0),extendStart:!1,extendEnd:!1};nt=e.createLinearGradient(ot)}var it=nt,at=o.default.rect(-50,-u,50,u);e.fillRect(at,it),e.popState()}if(p.isPageExist(x.leftPage)){e.pushState(),e.setStrokeAdjustment(!1);var lt=t.createGeometry();lt.beginFigure(j),lt.conicCurveTo(P.points[1],P.points[0]);var ut=o.default.point(-f.width,f.height);lt.lineTo(ut);var ct=o.default.point(-f.width,-f.height);lt.lineTo(ct),lt.lineTo(P.points[7]),lt.conicCurveTo(P.points[6],G),lt.endFigureClose();var st=o.default.rect(-f.width,-f.height,f.width,f.height);if(e.clipRect(st),e.clipGeometry(lt),e.translateCTM((P.bendLine[0].x+P.bendLine[1].x)/2,(P.bendLine[0].y+P.bendLine[1].y)/2),e.rotateCTM(.5*P.angle),e.translateCTM(0,-2*f.height),P.angle<Math.PI){var dt={stops:[[0,i.default.createInstance("#00000000")],[1/3,i.default.createInstance("#2F000000")],[1,i.default.createInstance("#2F000000")]],startPoint:o.default.point(-50,0),endPoint:o.default.point(100,0),extendStart:!1,extendEnd:!1},ft=e.createLinearGradient(dt),pt=o.default.rect(-50,-u,100,u);e.fillRect(pt,ft)}else{var gt={stops:[[0,i.default.createInstance("#2F000000")],[2/3,i.default.createInstance("#2F000000")],[1,i.default.createInstance("#00000000")]],startPoint:o.default.point(-100,0),endPoint:o.default.point(50,0),extendStart:!1,extendEnd:!1},ht=e.createLinearGradient(gt),mt=o.default.rect(-100,-u,50,u);e.fillRect(mt,ht)}e.popState()}}e.popState()},p.drawR2L=function(e,n){var a=b.width,l=b.height,u=2*Math.sqrt(a*a+l*l),c=t.createGeometry(),d=o.default.rect(0,0,b.width,b.height);c.rectangle(d);var f=p.getExtent();if(e.pushState(),e.scaleCTM(m,m),e.translateCTM(f.width,f.height),p.isPageExist(x.ritePage)){var g=t.createGeometry(),h=o.default.point(-f.width,-f.height);g.beginFigure(h);var v=P.leftStackedPagesWidth,y=v*Math.tan(.1*Math.PI),k=o.default.point(-f.width-v,-f.height+y);g.lineTo(k);var T=o.default.point(-f.width-v,f.height-y);g.lineTo(T);var w=o.default.point(-f.width,f.height);g.lineTo(w),g.endFigureClose(),e.fillGeometry(g,"#EFEFEF"),e.pushState();var C=o.default.rect(-f.width,-f.height,0,f.height);if(e.clipRect(C),e.translateCTM(-f.width,-f.height),e.fillGeometry(c,"#FFFFFF"),p.drawPage(x.ritePage,e,n),S.direction!==r.default.FlipDirection.kFlipLeft){var B={stops:[[0,i.default.createInstance("#00000000")],[1,i.default.createInstance("#2F000000")]],startPoint:o.default.point(f.width-50,0),endPoint:o.default.point(f.width,0),extendStart:!1,extendEnd:!1},L=e.createLinearGradient(B),F=o.default.rect(a-50,0,a,l);e.fillRect(F,L)}e.setStrokeAdjustment(!1),e.strokeGeometry(c,"#ABABAB",0,null),e.popState()}if(p.isPageExist(x.leftPage)){var A=t.createGeometry(),_=o.default.point(f.width,-f.height);A.beginFigure(_);var M=P.riteStackedPagesWidth,E=M*Math.tan(.1*Math.PI),R=o.default.point(f.width+M,-f.height+E);A.lineTo(R);var I=o.default.point(f.width+M,f.height-E);A.lineTo(I);var O=o.default.point(f.width,f.height);A.lineTo(O),A.endFigureClose(),e.fillGeometry(A,"#EFEFEF"),e.pushState();var D=o.default.rect(0,-f.height,f.width,f.height);if(e.clipRect(D),e.translateCTM(0,-f.height),e.fillGeometry(c,"#FFFFFF"),p.drawPage(x.leftPage,e,n),S.direction!==r.default.FlipDirection.kFlipRight){var N={stops:[[0,i.default.createInstance("#2F000000")],[1,i.default.createInstance("#00000000")]],startPoint:o.default.point(0,0),endPoint:o.default.point(50,0),extendStart:!1,extendEnd:!1},U=e.createLinearGradient(N),H=o.default.rect(0,0,50,l);e.fillRect(H,U)}e.setStrokeAdjustment(!1),e.strokeGeometry(c,"#ABABAB",0,null),e.popState()}var j=o.default.point((P.points[1].x+P.points[2].x)/2,(P.points[1].y+P.points[2].y)/2),G=o.default.point((P.points[5].x+P.points[6].x)/2,(P.points[5].y+P.points[6].y)/2);if(S.direction===r.default.FlipDirection.kFlipLeft){if(p.isPageExist(x.riteFlipPage)){e.pushState(),e.setStrokeAdjustment(!1);var z=t.createGeometry();if(z.beginFigure(j),z.conicCurveTo(P.points[1],P.points[0]),o.default.floatEq(P.bendLine[0].x,f.width)){var V=o.default.point(f.width,f.height);z.lineTo(V)}var K=o.default.point(0,f.height);z.lineTo(K);var W=o.default.point(0,-f.height);if(z.lineTo(W),o.default.floatEq(P.bendLine[1].x,f.width)){var $=o.default.point(f.width,-f.height);z.lineTo($)}z.lineTo(P.points[7]),z.conicCurveTo(P.points[6],G),z.endFigureClose(),e.clipGeometry(z),e.pushState(),e.translateCTM(0,-f.height),e.fillGeometry(c,"#FFFFFF"),p.drawPage(x.riteFlipPage,e,n);var q={stops:[[0,i.default.createInstance("#2F000000")],[1,i.default.createInstance("#00000000")]],startPoint:o.default.point(0,0),endPoint:o.default.point(50,0),extendStart:!1,extendEnd:!1},Z=e.createLinearGradient(q),X=o.default.rect(0,0,50,l);e.fillRect(X,Z),e.popState(),e.strokeGeometry(z,"#ABABAB",0,null),e.popState(),e.pushState(),e.setStrokeAdjustment(!1);var Q=p.isPageExist(x.ritePage)?-f.width:0,J=t.createGeometry();if(J.beginFigure(j),J.conicCurveTo(P.points[1],P.points[0]),o.default.floatEq(P.bendLine[0].x,f.width)){var Y=o.default.point(f.width,f.height);J.lineTo(Y)}var ee=o.default.point(Q,f.height);J.lineTo(ee);var te=o.default.point(Q,-f.height);if(J.lineTo(te),o.default.floatEq(P.bendLine[1].x,f.width)){var ne=o.default.point(f.width,-f.height);J.lineTo(ne)}J.lineTo(P.points[7]),J.conicCurveTo(P.points[6],G),J.endFigureClose(),e.clipGeometry(J),e.translateCTM((P.bendLine[0].x+P.bendLine[1].x)/2,(P.bendLine[0].y+P.bendLine[1].y)/2),e.rotateCTM(.5*P.angle),e.translateCTM(0,-3*f.height);var re=o.default.point(S.source.x-S.position.x,S.source.y-S.position.y).vecMagnitude()/2,oe=null;if(P.angle<Math.PI){var ie={stops:[[0,i.default.createInstance("#00000000")],[1,i.default.createInstance("#2F000000")]],startPoint:o.default.point(-re,0),endPoint:o.default.point(0,0),extendStart:!1,extendEnd:!1};oe=e.createLinearGradient(ie)}else{var ae={stops:[[0,i.default.createInstance("#2F000000")],[1,i.default.createInstance("#00000000")]],startPoint:o.default.point(0,0),endPoint:o.default.point(re,0),extendStart:!1,extendEnd:!1};oe=e.createLinearGradient(ae)}var le=oe,ue=o.default.rect(-re,-u,re,u);e.fillRect(ue,le),e.popState()}if(p.isPageExist(x.leftFlipPage)){e.pushState(),e.setStrokeAdjustment(!1);var ce=t.createGeometry();ce.beginFigure(j),ce.conicCurveTo(P.points[2],P.points[3]),P.pageLine[0].x<f.width&&ce.lineTo(P.pageLine[0]),P.pageLine[1].x<f.width&&ce.lineTo(P.pageLine[1]),ce.lineTo(P.points[4]),ce.conicCurveTo(P.points[5],G),ce.endFigureClose(),e.fillGeometry(ce,"#FFFFFF"),e.clipGeometry(ce),e.pushState(),e.translateCTM((P.pageLine[0].x+P.pageLine[1].x)/2,(P.pageLine[0].y+P.pageLine[1].y)/2),e.rotateCTM(P.angle),e.translateCTM(0,-f.height),P.angle<o.default.FLT_EPSILON||P.angle>2*Math.PI-o.default.FLT_EPSILON?e.setInterpolationMode(r.default.GInterpolationMode.kGInterpolationModeNearestNeighbor):e.setInterpolationMode(r.default.GInterpolationMode.kGInterpolationModeLinear),p.drawPage(x.leftFlipPage,e,n,!1),e.popState(),e.strokeGeometry(ce,"#ABABAB",0,null),e.translateCTM((P.bendLine[0].x+P.bendLine[1].x)/2,(P.bendLine[0].y+P.bendLine[1].y)/2),e.rotateCTM(.5*P.angle),e.translateCTM(0,-2*f.height);var se=o.default.point(S.source.x-2*f.width,S.source.y),de=o.default.pointsDistance(se,S.position),fe=de>50?1:de/50,pe=s(.25+.25*fe,fe,fe,fe),ge=s(.06*fe,fe,fe,fe),he=null;if(P.angle<Math.PI){var me={stops:[[0,ge],[1,pe]],startPoint:o.default.point(-50,0),endPoint:o.default.point(0,0),extendStart:!1,extendEnd:!1};he=e.createLinearGradient(me)}else{var ve={stops:[[0,pe],[1,ge]],startPoint:o.default.point(0,0),endPoint:o.default.point(50,0),extendStart:!1,extendEnd:!1};he=e.createLinearGradient(ve)}var ye=he,be=o.default.rect(-50,-u,50,u);e.fillRect(be,ye),e.popState()}if(p.isPageExist(x.leftPage)){e.pushState(),e.setStrokeAdjustment(!1);var xe=t.createGeometry();xe.beginFigure(j),xe.conicCurveTo(P.points[1],P.points[0]);var Se=o.default.point(f.width,f.height);xe.lineTo(Se);var Pe=o.default.point(f.width,-f.height);xe.lineTo(Pe),xe.lineTo(P.points[7]),xe.conicCurveTo(P.points[6],G),xe.endFigureClose();var ke=o.default.rect(-f.width,-f.height,f.width,f.height);if(e.clipRect(ke),e.clipGeometry(xe),e.translateCTM((P.bendLine[0].x+P.bendLine[1].x)/2,(P.bendLine[0].y+P.bendLine[1].y)/2),e.rotateCTM(.5*P.angle),e.translateCTM(0,-2*f.height),P.angle<Math.PI){var Te={stops:[[0,i.default.createInstance("#2F000000")],[2/3,i.default.createInstance("#2F000000")],[1,i.default.createInstance("#00000000")]],startPoint:o.default.point(-100,0),endPoint:o.default.point(50,0),extendStart:!1,extendEnd:!1},we=e.createLinearGradient(Te),Ce=o.default.rect(-100,-u,50,u);e.fillRect(Ce,we)}else{var Be={stops:[[0,i.default.createInstance("#00000000")],[1/3,i.default.createInstance("#2F000000")],[1,i.default.createInstance("#2F000000")]],startPoint:o.default.point(-50,0),endPoint:o.default.point(100,0),extendStart:!1,extendEnd:!1},Le=e.createLinearGradient(Be),Fe=o.default.rect(-50,-u,100,u);e.fillRect(Fe,Le)}e.popState()}}else if(S.direction===r.default.FlipDirection.kFlipRight){if(p.isPageExist(x.leftFlipPage)){e.pushState(),e.setStrokeAdjustment(!1);var Ae=t.createGeometry();if(Ae.beginFigure(j),Ae.conicCurveTo(P.points[1],P.points[0]),o.default.floatEq(P.bendLine[0].x,-f.width)){var _e=o.default.point(-f.width,f.height);Ae.lineTo(_e)}var Me=o.default.point(0,f.height);Ae.lineTo(Me);var Ee=o.default.point(0,-f.height);if(Ae.lineTo(Ee),o.default.floatEq(P.bendLine[1].x,-f.width)){var Re=o.default.point(-f.width,-f.height);Ae.lineTo(Re)}Ae.lineTo(P.points[7]),Ae.conicCurveTo(P.points[6],G),Ae.endFigureClose(),e.clipGeometry(Ae),e.pushState(),e.translateCTM(-f.width,-f.height),e.fillGeometry(c,"#FFFFFF"),p.drawPage(x.leftFlipPage,e,n);var Ie={stops:[[0,i.default.createInstance("#00000000")],[1,i.default.createInstance("#2F000000")]],startPoint:o.default.point(f.width-50,0),endPoint:o.default.point(f.width,0),extendStart:!1,extendEnd:!1},Oe=e.createLinearGradient(Ie),De=o.default.rect(a-50,0,a,l);e.fillRect(De,Oe),e.popState(),e.strokeGeometry(Ae,"#ABABAB",0,null),e.popState(),e.pushState(),e.setStrokeAdjustment(!1);var Ne=p.isPageExist(x.leftPage)?f.width:0,Ue=t.createGeometry();if(Ue.beginFigure(j),Ue.conicCurveTo(P.points[1],P.points[0]),o.default.floatEq(P.bendLine[0].x,-f.width)){var He=o.default.point(-f.width,f.height);Ue.lineTo(He)}var je=o.default.point(Ne,f.height);Ue.lineTo(je);var Ge=o.default.point(Ne,-f.height);if(Ue.lineTo(Ge),o.default.floatEq(P.bendLine[1].x,-f.width)){var ze=o.default.point(-f.width,-f.height);Ue.lineTo(ze)}Ue.lineTo(P.points[7]),Ue.conicCurveTo(P.points[6],G),Ue.endFigureClose(),e.clipGeometry(Ue),e.translateCTM((P.bendLine[0].x+P.bendLine[1].x)/2,(P.bendLine[0].y+P.bendLine[1].y)/2),e.rotateCTM(.5*P.angle),e.translateCTM(0,-3*f.height);var Ve=o.default.point(S.source.x-S.position.x,S.source.y-S.position.y).vecMagnitude()/2,Ke=null;if(P.angle<Math.PI){var We={stops:[[0,i.default.createInstance("#2F000000")],[1,i.default.createInstance("#00000000")]],startPoint:o.default.point(0,0),endPoint:o.default.point(Ve,0),extendStart:!1,extendEnd:!1};Ke=e.createLinearGradient(We)}else{var $e={stops:[[0,i.default.createInstance("#00000000")],[1,i.default.createInstance("#2F000000")]],startPoint:o.default.point(-Ve,0),endPoint:o.default.point(0,0),extendStart:!1,extendEnd:!1};Ke=e.createLinearGradient($e)}var qe=Ke,Ze=o.default.rect(-Ve,-u,Ve,u);e.fillRect(Ze,qe),e.popState()}if(p.isPageExist(x.riteFlipPage)){e.pushState(),e.setStrokeAdjustment(!1);var Xe=t.createGeometry();Xe.beginFigure(j),Xe.conicCurveTo(P.points[2],P.points[3]),P.pageLine[0].x>-f.width&&Xe.lineTo(P.pageLine[0]),P.pageLine[1].x>-f.width&&Xe.lineTo(P.pageLine[1]),Xe.lineTo(P.points[4]),Xe.conicCurveTo(P.points[5],G),Xe.endFigureClose(),e.fillGeometry(Xe,"#FFFFFF"),e.clipGeometry(Xe),e.pushState(),e.translateCTM((P.pageLine[0].x+P.pageLine[1].x)/2,(P.pageLine[0].y+P.pageLine[1].y)/2),e.rotateCTM(P.angle),e.translateCTM(-f.width,-f.height),P.angle<o.default.FLT_EPSILON||P.angle>2*Math.PI-o.default.FLT_EPSILON?e.setInterpolationMode(r.default.GInterpolationMode.kGInterpolationModeNearestNeighbor):e.setInterpolationMode(r.default.GInterpolationMode.kGInterpolationModeLinear),p.drawPage(x.riteFlipPage,e,n,!1),e.popState(),e.strokeGeometry(Xe,"#ABABAB",0,null),e.translateCTM((P.bendLine[0].x+P.bendLine[1].x)/2,(P.bendLine[0].y+P.bendLine[1].y)/2),e.rotateCTM(.5*P.angle),e.translateCTM(0,-2*f.height);var Qe=o.default.point(S.source.x+2*f.width,S.source.y),Je=o.default.pointsDistance(Qe,S.position),Ye=Je>50?1:Je/50,et=s(.25+.25*Ye,Ye,Ye,Ye),tt=s(.06*Ye,Ye,Ye,Ye),nt=null;if(P.angle<Math.PI){var rt={stops:[[0,et],[1,tt]],startPoint:o.default.point(0,0),endPoint:o.default.point(50,0),extendStart:!1,extendEnd:!1};nt=e.createLinearGradient(rt)}else{var ot={stops:[[0,tt],[1,et]],startPoint:o.default.point(-50,0),endPoint:o.default.point(0,0),extendStart:!1,extendEnd:!1};nt=e.createLinearGradient(ot)}var it=nt,at=o.default.rect(-50,-u,50,u);e.fillRect(at,it),e.popState()}if(p.isPageExist(x.ritePage)){e.pushState(),e.setStrokeAdjustment(!1);var lt=t.createGeometry();lt.beginFigure(j),lt.conicCurveTo(P.points[1],P.points[0]);var ut=o.default.point(-f.width,f.height);lt.lineTo(ut);var ct=o.default.point(-f.width,-f.height);lt.lineTo(ct),lt.lineTo(P.points[7]),lt.conicCurveTo(P.points[6],G),lt.endFigureClose();var st=o.default.rect(-f.width,-f.height,f.width,f.height);if(e.clipRect(st),e.clipGeometry(lt),e.translateCTM((P.bendLine[0].x+P.bendLine[1].x)/2,(P.bendLine[0].y+P.bendLine[1].y)/2),e.rotateCTM(.5*P.angle),e.translateCTM(0,-2*f.height),P.angle<Math.PI){var dt={stops:[[0,i.default.createInstance("#00000000")],[1/3,i.default.createInstance("#2F000000")],[1,i.default.createInstance("#2F000000")]],startPoint:o.default.point(-50,0),endPoint:o.default.point(100,0),extendStart:!1,extendEnd:!1},ft=e.createLinearGradient(dt),pt=o.default.rect(-50,-u,100,u);e.fillRect(pt,ft)}else{var gt={stops:[[0,i.default.createInstance("#2F000000")],[2/3,i.default.createInstance("#2F000000")],[1,i.default.createInstance("#00000000")]],startPoint:o.default.point(-100,0),endPoint:o.default.point(50,0),extendStart:!1,extendEnd:!1},ht=e.createLinearGradient(gt),mt=o.default.rect(-100,-u,50,u);e.fillRect(mt,ht)}e.popState()}}e.popState()},p.isR2L=function(){return f},p.getExtent=function(){return o.default.size(b.width,b.height/2)},p.getLeftPageBounds=function(){var e=p.getExtent();return f?o.default.rect(0,-e.height,e.width,e.height):o.default.rect(-e.width,-e.height,0,e.height)},p.getRightPageBounds=function(){var e=p.getExtent();return f?o.default.rect(-e.width,-e.height,0,e.height):o.default.rect(0,-e.height,e.width,e.height)},p.getLeftPullArea=function(){var e=p.getExtent(),t=p.getPullAreaWidth();return f?o.default.rect(e.width-t,-e.height,e.width,e.height):o.default.rect(-e.width,-e.height,t-e.width,e.height)},p.getRightPullArea=function(){var e=p.getExtent(),t=p.getPullAreaWidth();return f?o.default.rect(-e.width,-e.height,t-e.width,e.height):o.default.rect(e.width-t,-e.height,e.width,e.height)},p.getBookSize=function(){return o.default.size(2*b.width,b.height)},p.getPullAreaWidth=function(){return.2*b.width},p.mapPointFromView=function(e){var t=o.default.scalingMatrix(1/m,1/m).mapPoint(o.default.point(e.x,e.y)),n=p.getExtent();return t.x-=n.width,t.y-=n.height,t},p.normalizeTarget=function(e){var t=p.getExtent(),n=e.copy(),r=o.default.point(S.source.x,S.source.y-t.height),i=o.default.point(n.x,n.y-t.height),a=r.vecMagnitude(),l=i.vecMagnitude();l>a&&(i.x=i.x/l*a,i.y=i.y/l*a),n.x=i.x,n.y=i.y+t.height;var u=o.default.point(S.source.x,S.source.y+t.height),c=o.default.point(n.x,n.y+t.height),s=u.vecMagnitude(),d=c.vecMagnitude();return d>s&&(c.x=c.x/d*s,c.y=c.y/d*s),n.x=c.x,n.y=c.y-t.height,n},p.calcFinalPullTarget=function(){switch(S.direction){case r.default.FlipDirection.kFlipRight:if(S.position.x<0)return o.default.point(-S.source.x,S.source.y);break;case r.default.FlipDirection.kFlipLeft:if(S.position.x>0)return o.default.point(-S.source.x,S.source.y)}return S.source.copy()},p.getLeftPageIndex=function(){return S.direction===r.default.FlipDirection.kFlipLeft?x.riteFlipPage:x.leftPage},p.getRightPageIndex=function(){return S.direction===r.default.FlipDirection.kFlipRight?x.leftFlipPage:x.ritePage},p.getLeftPageMatrix=function(){var e=o.default.matrix(),t=p.getLeftPageIndex();if(p.isPageExist(t)){var n=h.getPage(t);e=n.getPageToDevSpaceMatrix(m,v);var r=n.getDevSpacePageBox(m,v),i=(b.width*m-r.getWidth())/2,a=(b.height*m-r.getHeight())/2;return f&&(i+=b.width*m),e.multiply(o.default.translationMatrix(i,a))}return e},p.getLeftPageVirtualRect=function(){var e=o.default.rect(),t=p.getLeftPageIndex();if(p.isPageExist(t)){e=h.getPage(t).getDevSpacePageBox(m,v);var n=(b.width*m-e.getWidth())/2,r=(b.height*m-e.getHeight())/2;f&&(n+=b.width*m),e.offset(n,r)}return e},p.getRightPageMatrix=function(){var e=o.default.matrix(),t=p.getRightPageIndex();if(p.isPageExist(t)){var n=h.getPage(t);e=n.getPageToDevSpaceMatrix(m,v);var r=n.getDevSpacePageBox(m,v),i=(b.width*m-r.getWidth())/2,a=(b.height*m-r.getHeight())/2;return f||(i+=b.width*m),e.multiply(o.default.translationMatrix(i,a))}return e},p.getRightPageVirtualRect=function(){var e=o.default.rect(),t=p.getRightPageIndex();if(p.isPageExist(t)){e=h.getPage(t).getDevSpacePageBox(m,v);var n=(b.width*m-e.getWidth())/2,r=(b.height*m-e.getHeight())/2;f||(n+=b.width*m),e.offset(n,r)}return e},p.hitTest=function(e){var t=p.getExtent();return o.default.rect(-t.width,-t.height,t.width,t.height).containsPoint(e)},p.hitTestLeftPage=function(e){return!!(p.isPageExist(x.leftPage)&&p.isPageExist(x.leftPage-1)||p.isPageExist(x.riteFlipPage))&&p.getLeftPageBounds().containsPoint(e)},p.hitTestRightPage=function(e){return!!(p.isPageExist(x.ritePage)&&p.isPageExist(x.ritePage+1)||p.isPageExist(x.leftFlipPage))&&p.getRightPageBounds().containsPoint(e)},p.hitTestLeftPullArea=function(e){return!!(p.isPageExist(x.leftPage)&&p.isPageExist(x.leftPage-1)||p.isPageExist(x.riteFlipPage))&&p.getLeftPullArea().containsPoint(e)},p.hitTestRightPullArea=function(e){return!!(p.isPageExist(x.ritePage)&&p.isPageExist(x.ritePage+1)||p.isPageExist(x.leftFlipPage))&&p.getRightPullArea().containsPoint(e)},p.updateBook=function(){p.calcMaxPageSize()},p.isPageExist=function(e){if(!h)return!1;var t=h.getNumPages();return e>=0&&e<t},p.calcMaxPageSize=function(){var e=h.getNumPages();b=o.default.size();for(var t=0;t<e;++t){var n=h.getPage(t).getDevSpacePageBox(1,v);b.width=Math.max(n.getWidth(),b.width),b.height=Math.max(n.getHeight(),b.height)}},p.calcStackedPagesWidths=function(){var e=h.getNumPages(),t=x.leftPage,n=e-x.ritePage;(t<0||t>e)&&(t=0),(n<0||n>e)&&(n=0),P.leftStackedPagesWidth=t/2/13,P.riteStackedPagesWidth=n/2/13},p.updateLayout=function(){var e=p.getExtent();if(S.direction!==r.default.FlipDirection.kFlipNone){var t=S.direction===r.default.FlipDirection.kFlipRight;f&&(t=!t);var n=o.default.point(S.source.x-S.position.x,S.source.y-S.position.y),i=o.default.point((S.position.x+S.source.x)/2,(S.position.y+S.source.y)/2),a=n.copy().vecNormalized(),s=o.default.point(75*a.x,75*a.y),d=o.default.point(i.x-s.x,i.y-s.y);if((n.x>.5||n.x<-.5)&&!o.default.floatEq(n.y,0)){var g=u(i,n),h=l(o.default.point(0,e.height),o.default.point(1,e.height)),m=l(o.default.point(0,-e.height),o.default.point(1,-e.height)),v=t?l(o.default.point(e.width,0),o.default.point(e.width,1)):l(o.default.point(-e.width,0),o.default.point(-e.width,1)),y=o.default.point();c(g,h,y);var b=o.default.point();c(g,m,b);var k=o.default.point();c(g,v,k);var T=o.default.point(S.position.x-k.x,S.position.y-k.y),w=o.default.point(S.source.x-k.x,S.source.y-k.y);P.angle=-o.default.vecAngleBetween(T,w),P.angle<0&&(P.angle+=2*Math.PI),P.angle>2*Math.PI&&(P.angle-=2*Math.PI);var C=o.default.point(k.x-S.position.x,k.y-S.position.y),B=l(S.position,k),L=u(y,C),F=u(b,C),A=o.default.point();c(L,B,A),P.pageLine[0]=A;var _=o.default.point();c(F,B,_),P.pageLine[1]=_,P.bendLine[0]=y.x>-e.width&&y.x<e.width?y:k,P.bendLine[1]=b.x>-e.width&&b.x<e.width?b:k;var M=u(d,n),E=o.default.point();c(M,h,E);var R=o.default.point();c(M,m,R);var I=o.default.point();if(c(M,v,I),t){E.x<0&&(E=o.default.point(0,e.height));var O=e.width-y.x;O>0&&O<y.x-E.x&&(E=o.default.point(y.x-O,e.height)),R.x<0&&(R=o.default.point(0,-e.height));var D=e.width-b.x;D>0&&D<b.x-R.x&&(R=o.default.point(b.x-D,-e.height))}else{E.x>0&&(E=o.default.point(0,e.height));var N=e.width+y.x;N>0&&N<E.x-y.x&&(E=o.default.point(y.x+N,e.height)),R.x>0&&(R=o.default.point(0,-e.height));var U=e.width+b.x;U>0&&U<R.x-b.x&&(R=o.default.point(b.x+U,-e.height))}if(k.y>0){var H=e.height-k.y;H>0&&H<k.y-I.y&&(I=o.default.point(k.x,k.y-H)),I.y>e.height&&(I.y=e.height)}else{var j=e.height+k.y;j>0&&j<I.y-k.y&&(I=o.default.point(k.x,k.y+j)),I.y<-e.height&&(I.y=-e.height)}P.points[0]=y.x>-e.width&&y.x<e.width?E:I,P.points[7]=b.x>-e.width&&b.x<e.width?R:I,M=l(P.points[0],P.points[7]);var G=o.default.point();c(M,L,G);var z=o.default.point();c(M,F,z);var V=o.default.point();c(M,B,V),P.points[3]=G.x>-e.width&&G.x<e.width?G:V,P.points[4]=z.x>-e.width&&z.x<e.width?z:V}else{if(P.angle=0,P.pageLine[0]=o.default.point(S.position.x,e.height),P.pageLine[1]=o.default.point(S.position.x,-e.height),P.bendLine[0]=o.default.point(i.x,e.height),P.bendLine[1]=o.default.point(i.x,-e.height),t){d.x<0&&(d.x=0);var K=e.width-i.x;K>0&&K<i.x-d.x&&(d=o.default.point(i.x-K,e.height))}else{d.x>0&&(d.x=0);var W=e.width+i.x;W>0&&W<d.x-i.x&&(d=o.default.point(i.x+W,e.height))}P.points[0]=o.default.point(d.x,e.height),P.points[7]=o.default.point(d.x,-e.height),P.points[3]=o.default.point(d.x,e.height),P.points[4]=o.default.point(d.x,-e.height)}P.points[1]=o.default.point((P.bendLine[0].x+P.points[0].x)/2,(P.bendLine[0].y+P.points[0].y)/2),P.points[6]=o.default.point((P.bendLine[1].x+P.points[7].x)/2,(P.bendLine[1].y+P.points[7].y)/2),P.points[2]=o.default.point((P.bendLine[0].x+P.points[3].x)/2,(P.bendLine[0].y+P.points[3].y)/2),P.points[5]=o.default.point((P.bendLine[1].x+P.points[4].x)/2,(P.bendLine[1].y+P.points[4].y)/2)}else P.bendLine[0]=o.default.point(0,e.height),P.bendLine[1]=o.default.point(0,-e.height);p.calcStackedPagesWidths(),p.preloadPage(x.leftPage),p.preloadPage(x.leftFlipPage),p.preloadPage(x.riteFlipPage),p.preloadPage(x.ritePage)},p.preloadPage=function(e){p.isPageExist(e)&&n.getCachedData(g,e)},p.drawPage=function(t,i,a,l){isUndefinedOrNull(l)&&(l=!0),i.pushState(),i.scaleCTM(1/m,1/m);var u=h.getPage(t),c=u.getDevSpacePageBox(m,v),s=(b.width*m-c.getWidth())/2,d=(b.height*m-c.getHeight())/2;i.translateCTM(s,d);var f=u.getRotate(v),P=!(t===x.leftPage||t===x.ritePage||t===x.leftFlipPage&&S.direction===r.default.FlipDirection.kFlipRight||t===x.riteFlipPage&&S.direction===r.default.FlipDirection.kFlipLeft);n.draw(i,g,t,c,f,P);var k=u.getPageToDevSpaceMatrix(m,v);if(i.concatCTM(k),y.onDrawPageView(t,i),//!! esign
i.popState(),t===p.getLeftPageIndex()||t===p.getRightPageIndex()){var T=o.default.point();switch(f){case 0:T=o.default.point(u.rect.left,u.rect.top);break;case 90:T=o.default.point(u.rect.left,u.rect.bottom);break;case 180:T=o.default.point(u.rect.right,u.rect.bottom);break;case 270:T=o.default.point(u.rect.right,u.rect.top)}var w=g.mapPointToDevice(t,T);u.virtualLeft=w.x,u.virtualTop=w.y,g.getActiveToolName()===r.default.pdfDocumentMode.select&&e.$broadcast("event-document-visible-page-text-blocks-draw",{documentView:g,page:u})}},p.freeUnusedPageCaches=function(){},p.calcMaxPageSize()}(a,d)},d}]),window.mainApp.factory("bl-flipper-factory",getConstructor("bl-flipper-module","bl-flipper-factory","factory"))},J3B7:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.module=void 0;var r=l(n("//Fk")),o=l(n("Xxa5")),i=l(n("exGp")),a=l(n("/jXN"));function l(e){return e&&e.__esModule?e:{default:e}}n("jKMt"),n("o4bB"),n("XT+9");var u="ui-sitemenu-create-from-file-module",c="ui-sitemenu-create-from-file-factory",s="ui-sitemenu-create-from-file-controller",d=a.default.module(u,["ngFileUpload","storage-document-uploader-service"]);function f(e,t){e.factory=t,t.init(),e.upload=function(e){t.upload(e)}}function p(e,t,n,a,l,u,c,s,d,f){var p=f.getPdfManagerFactory(),g=f.getPdfModelFactory(),h=f.getDialogFactory(),m=function(t,n){e.$broadcast(t,n)},v={};v.init=function(){v.file={fileName:"",size:0,extension:""},v.progressPercentage=0,v.isFileSelected=!1,v.isUploading=!1};var y=void 0,b=function(e,t){v.isUploading=!1,v.isFileSelected=!1,t||h.then(function(t){t.messageBox.show({icon:"error",text:e})})};return v.upload=function(t){if(v.progressPercentage=0,t&&t.length){v.isFileSelected=!0,v.isUploading=!0;var n=t[0];if(v.file.fileName=n.name,v.file.size=n.size,!n.name.fileExtension().isValid)return void b("Unsupported file type");y=d.upload(n,function(t,n,r,o){if(200==n&&t){var i=o.file.name.fileExtension(),a=i.name;v.file.extension=a,"pdf"===a||"wwf"===a?function(t,n){v.isUploading=!1,v.progressPercentage=0;var r={name:n,action:"open"};e.$broadcast("event-ui-sitemenu-close",{guid:t,options:r})}(t,o.file.name):i.isValid&&v.createPdf(t,o.file.name,a)}},function(e,t,n,r){0!==t&&b("Error occured",isUndefinedOrNull(y))},function(e){v.progressPercentage=parseInt(100*e.loaded/e.total)})}},v.createPdf=function(){var r=(0,i.default)(o.default.mark(function r(a,l,u){var c,s,d,f,h;return o.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return c={FileEntries:[{FileType:u,FileName:l,FileGuid:a}],FromFileType:u,ToFileType:"pdf"},r.next=3,p;case 3:return s=r.sent,r.next=6,g;case 6:return d=r.sent,f=function(r){if(1!==r.result||3===r.status||12===r.status)b("Error occured");else{v.progressPercentage=0,v.isUploading=!1;var a=r.destFiles[0],l={id:a.FileGuid,name:a.FileName};s.addEmptyDocument(l.id,{name:l.name}),e.$broadcast("event-ui-sitemenu-close",{guid:l.id,options:null});var u=r.actionId,c=function(e,t){isUndefinedOrNull(t)&&(t={}),t.id=u,t.document=l,m(e,t)},f=!1,g=function(){f=!0,d.cancelCreateConvertOCRDocumentProcessing(u,2)};c("event-document-create-in-process",{progress:0,cancel:g});var h=n(function(){!0!==f&&s.isExists(l.id)?d.checkStatus(u).then(function(){var t=(0,i.default)(o.default.mark(function t(r){return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!0!==f){t.next=2;break}return t.abrupt("return");case 2:if(1===r.result&&3!==r.status&&12!==r.status){t.next=5;break}return n.cancel(h)&&c("event-document-create-error"),t.abrupt("return");case 5:if(14!==r.status){t.next=8;break}return c("event-document-create-complete"),t.abrupt("return");case 8:if(c("event-document-create-in-process",{progress:r.progress,cancel:g}),2!==r.status){t.next=16;break}if(c("event-document-create-complete"),!n.cancel(h)){t.next=16;break}return t.next=14,p;case 14:t.sent.closeDocument(l.id,!0).then(function(){e.$state.transitionTo("document",{id:l.id,options:{name:r.destFiles[0].FileName,action:"open"}})});case 16:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),function(e){n.cancel(h)}):n.cancel(h)},2500);t(function(){n.cancel(h)&&c("event-document-create-error")},3e5)}},h=function(e){v.progressPercentage=0,0!==e.status&&b("Error occured")},r.abrupt("return",g.then(function(e){return e.createPdfDocument(c).then(f,h)}));case 10:case"end":return r.stop()}},r,this)}));return function(e,t,n){return r.apply(this,arguments)}}(),v.cancelAll=function(){y&&y.abort(),y=null,v.isUploading=!1,v.isFileSelected=!1},v.cancelCreate=function(e){if(n.cancel(void 0))u.get(GLOBAL.uiApiBase+"/api/pdfactions/cancelProcessing",{cache:!1,params:{actionId:[v.file.actionId]}}).success(function(e,t,n,r){e.result,v.init()}).error(function(e,t,n,r){})},a.onStart({},function(e){if(v.isFileSelected&&v.isUploading)return new r.default(function(e){h.then(function(t){t.messageBox.show({text:"This will cancel all current uploads. Do you want to continue?",callbacks:[{text:"yes",callback:function(){v.cancelAll(),e()}},{text:"no",callback:function(){return!1}}]})})})}),v}t.module=d,d.constant("createFromFileUrls",{uploadUrl:"https://api-pw.sodapdf.com/api/upload/save",createUrl:"https://api-pw.sodapdf.com/api/pdfactions/create"}),d.controller(s,f),f.$inject=["$scope","ui-sitemenu-create-from-file-factory"],d.factory(c,p),p.$inject=["$rootScope","$timeout","$interval","$transitions","$state","$http","Upload","createFromFileUrls","storage-document-uploader-service","ui-helper-factory"],mainApp.factory(c,getConstructor(u,c,"factory")),mainApp.controller(s,getConstructor(u,s,"controller")),mainApp.constant("createFromFileUrls",getConstructor(u,"createFromFileUrls","constant"))},JWAb:function(e,t,n){var r=n("kM2E");r(r.S,"Math",{trunc:function(e){return(e>0?Math.floor:Math.ceil)(e)}})},Jqpr:function(e,t,n){"use strict";!function(e){e&&e.__esModule}(n("C3UN"));n("mC++"),n("5UMD");var r="bl-edit-compositeeditobject-item-multiselect-module",o="bl-edit-compositeeditobject-item-multiselect-factory";angular.module(r,["bl-edit-graphicseditobject-module","bl-edit-utilites-module"]).factory(o,["$rootScope","bl-edit-graphicseditobject-factory","bl-edit-utilites-service",function(e,t,n){var r={createCompositeEditObjectForPage:function(e,t,n){null},getSelectedObjectsOnPage:function(e,t){return null}};return r}]),window.mainApp.factory(o,getConstructor(r,o,"factory"))},Jrzz:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=l(n("INCx")),o=l(n("b8L+")),i=l(n("iArn")),a=l(n("C3UN"));function l(e){return e&&e.__esModule?e:{default:e}}var u={},c=function(e,t){var n=[];return n.push(function(e){var t={};return t.U=e.units?e.units:"",t.C=e.conversionFactor,"D"!=e.fractionalFormat?(t.F=e.fractionalFormat,16!=e.fractionalDenominator&&(t.D=e.fractionalDenominator)):100!=e.fractionalDenominator&&(t.D=e.fractionalDenominator),e.fractionalKeepLowZeros&&(t.FD=!0),t.RT=e.thousandsSeparator,t.RD=e.decimalSeparator,t.PS=e.prefix?e.prefix:" ",t.SS=e.suffix?e.suffix:"","S"!=e.unitsPosition&&(t.O=e.unitsPosition?unitsPosition:""),t}(e)),n},s=function(e){var t={};return t.units=e.units,t.conversionFactor=e.scaleFactor,t.thousandsSeparator=e.thousandsSeparator[0]?e.thousandsSeparator[0]:"",t.decimalSeparator=e.decimalSeparator[0]?e.decimalSeparator[0]:"",t.suffix=e.textAndUnitsSeparator[0]?e.textAndUnitsSeparator[0]:"",t.fractionalFormat="D",t.fractionalDenominator=100,t.fractionalKeepLowZeros=!1,t},d=function(e){var t=s(e.xArray),n=s(e.dArray),r=s(e.aArray),o={};return o.ratioString=e.scaleRatio,o.xFormat=t,o.xFormatSize=1,o.distanceFormat=n,o.distanceFormatSize=1,o.areaFormat=r,o.areaFormatSize=1,o.origin={x:0,y:0},function(e){if(e&&e.ratioString&&e.xFormat&&e.xFormatSize>0){var t={};t.R=e.ratioString,t.X=c(e.xFormat,e.xFormatSize),e.yFormat&&e.yFormatSize>0&&(t.Y=c(e.yFormat,e.yFormatSize)),e.distanceFormat&&e.distanceFormatSize>0&&(t.D=c(e.distanceFormat,e.distanceFormatSize)),e.areaFormat&&e.areaFormatSize>0&&(t.A=c(e.areaFormat,e.areaFormatSize)),e.angleFormat&&e.angleFormatSize>0&&(t.T=c(e.angleFormat,e.angleFormatSize)),e.slopeFormat&&e.slopeFormatSize>0&&(t.S=c(e.slopeFormat,e.slopeFormatSize));var n=[];return n.push(e.origin.x),n.push(e.origin.y),t.O=n,e.yFormatSize>0&&(t.CYX=e.cyx),t}return null}(o)},f=function(e){var t=function(e){var t=i.default.getUnitsName(e,!0),n={scaleFactor:1,units:t,thousandsSeparator:"",decimalSeparator:".",textAndUnitsSeparator:""},r={scaleFactor:1,units:"sq "+t,thousandsSeparator:"",decimalSeparator:".",textAndUnitsSeparator:""};return{scaleRatio:"1 "+t+" = 1 "+t,xArray:{scaleFactor:i.default.convert.to(a.default.Units.unit,e,1),units:t,thousandsSeparator:"",decimalSeparator:".",textAndUnitsSeparator:""},dArray:n,aArray:r}}(e);return d(t)},p=function(e){var t={};return e?(t.conversionFactor=e.C,t.units=e.U,t.fractionalFormat="D",e.F&&(t.fractionalFormat=e.F),t.fractionalDenominator="D"==t.fractionalFormat?100:16,t.fractionalKeepLowZeros=!1,e.FD&&(t.fractionalKeepLowZeros=e.FD),t.thousandsSeparator=",",e.RT&&(t.thousandsSeparator=e.RT),t.decimalSeparator=",",e.RD&&(t.decimalSeparator=e.RD),t.prefix=" ",e.PS&&e.PS.length>0&&(t.prefix=e.PS),t.suffix=" ",e.SS&&e.SS.length>0&&(t.suffix=e.SS),t.unitsPosition="S",e.O&&e.O.length>0&&(t.unitsPosition=e.O),t):null},g=function(e,t){for(var n=void 0;0!=e;)n=e,e=t%e,t=n;return t},h=function e(t,n){return(t=parseInt(t))<0?"-"+e(-t,n):t<1e3?t:""+e(t/1e3,n)+n+pad(t%1e3,3)};u.invalidIndex=-1,u.getPolygonAnnotationVertices=function(e){if(!window.isArray(e))return null;for(var t=[],n=0;n<e.length;n+=2)t.push([e[n],e[n+1]]);return t},u.verticeToPoint=function(e){return window.isArray(e)?2!==e.length?null:o.default.point(e[0],e[1]):null},u.makeDistanceFormatString=function(e,t,n){var i,a,l=[o.default.point(0,0),e];t||(t=f(n));var u=function(e){var t=1,n=1,r=1;return e.CYX&&(t=e.CYX),e.X&&e.X.length>0&&e.X[0].C&&(n=e.X[0].C),r=n,e.Y&&e.Y.length>0&&e.Y[0].C&&(r=e.Y[0].C),{pX:n,pY:r*t}}(t);i=u.pX,a=u.pY;for(var c=0,s=l[0],d=1;d<l.length;++d){var m=l[d],v=i*(m.x-s.x),y=a*(m.y-s.y);c+=Math.sqrt(v*v+y*y),s=m}return function(e,t){var n=t,o="",i=n.length;if(i>=1)for(var a=e,l=i-1,u=0;u<i;++u){var c=n[u],s=p(c),d=parseFloat(a*s.conversionFactor),f=parseInt(d),m=!1,v="",y=Math.abs(d-f);if(0==y)m=!0;else if(u==l){switch(s.fractionalFormat){case"D":var b=parseInt(y*s.fractionalDenominator);if(0!=b){for(var x="",S=s.fractionalDenominator/10;b<S;)x+="0",S/=10;x+=b,s.fractionalKeepLowZeros||(x=x.replace(/0+$/,"")),0!=x.length&&(v=s.decimalSeparator+x)}break;case"F":var P=parseInt(s.fractionalDenominator),k=parseInt(y*s.fractionalDenominator);if(!s.fractionalKeepLowZeros){var T=g(k,P);k/=T,P/=T}v=" "+k+"/"+P;break;case"R":f=parseInt(Math.round(d));break;case"T":f=parseInt((0,r.default)(d))}m=!0}var w=h(f,s.thousandsSeparator)+v,C=s.prefix+s.units+s.suffix;if(o+="P"==s.unitsPosition?C+w:w+C,m)break;a=y}return o}(c,t.D)},t.default=u},KcDN:function(e,t,n){"use strict";var r=c(n("HSQo")),o=c(n("C3UN")),i=c(n("b8L+")),a=c(n("VmtT")),l=c(n("IZAc")),u=c(n("Jrzz"));function c(e){return e&&e.__esModule?e:{default:e}}n("tZNd"),n("iMU4"),n("Ij0n"),n("F1Q0");var s="bl-edit-lineannoteditselection-module",d="bl-edit-lineannoteditselection-factory";angular.module(s,["bl-edit-baseannoteditselection-module","bl-edit-lineannoteditobject-module","transformer-painter-module","bl-object-properties-module","pdf-manager-module"]).factory(d,["$rootScope","bl-edit-baseannoteditselection-factory","bl-edit-lineannoteditobject-factory","transformer-painter-service","bl-object-properties-factory","pdf-manager-factory","ui-usersettings-factory","geometry-factory","authentication-service",function(e,t,n,c,s,d,f,p,g){var h=a.default.LookAndFeel.AnnotTransformerFrameColor,m=l.default.createInstance("#FFFFFFFF"),v=[10],y=function(e,t,n){var r=function(e){if(!e)return"";var t=e.getOperationStartPoint(),n=e.getOperationEndPoint(),r=e.getAnnot(),o="",a=r.content.split("\n");2===a.length&&(o=a[0]);var l=u.default.makeDistanceFormatString(i.default.point(n.x-t.x,n.y-t.y),r.measure,f.settings.layout.units);return o.isNullOrWhiteSpace()?l:o+"\n"+l}(n),a=function(e){return e?e.createFontFace("Segoe UI",o.default.GFontStyle.kGFontStyleRegular,10):null}(t),l=function(e,t){if(!t)return null;var n=t.getOperationStartPoint(),r=t.getOperationEndPoint(),o=i.default.point(r.x,r.y),a=r.x<n.x?e.width+10:-10,l=r.y<n.y?e.height+10:-10;return i.default.point(o.x-a,-o.y+l)}(function e(t,n){var r=(e.calculateTextBoundCanvas||(e.calculateTextBoundCanvas=document.createElement("canvas"))).getContext("2d");r.font=t;var o=r.measureText(n);return i.default.size(o.width,parseInt(t.match(/\d+/)[0]))}(a,r),n);l&&(t.pushState(),t.concatCTM(i.default.reflectYMatrix()),t.translateCTM(l.x,l.y),t.fillText(a,r,e),t.popState())},b=function(e,t,n){e.beginFigure(t),e.lineTo(n),e.endFigure()};return{createInstance:function(){var e=t.createInstance();return e.draw=function(t,r){var l=e.AnnotEditObject_;if(r===l.getPageIndex()){var u=void 0;if(l.getOperation()!==n.TransformType.kTransformNone){if(l.getOperation()!==n.TransformType.kTransformMovePoint){var s=i.default.quadFromRect(l.getRect());c.drawFrame(t,s,null,h,v)}if(l.getOperation()===n.TransformType.kTransformMovePoint&&(l.getOperationHandle()===n.HandleType.kHandleLeaderLineStartPoint||l.getOperationHandle()===n.HandleType.kHandleLeaderLineEndPoint)){var d=function(e,t,n,r,o,a){var l=p.createGeometry();if(l){var u=l.getBound(null),c=i.default.rect(e.x,e.y,t.x,t.y),s=i.default.matrix();s=i.default.translationMatrix(c.min_x(),c.min_y()).multiply(s),s=i.default.scalingMatrix(c.getWidth()/u.getWidth(),c.getHeight()/u.getHeight()).multiply(s),s=i.default.translationMatrix(-u.min_x(),-u.min_y()).multiply(s);var d=l.transform(s);e.x>n.x&&(n=[e,e=n][0]);var f=r>=0?i.default.point(n.x-e.x,n.y-e.y):i.default.point(e.x-n.x,e.y-n.y),g=i.default.point(-f.y,f.x).vecNormalized(),h=i.default.point(e.x+g.x*a,e.y+g.y*a),m=i.default.point(n.x+g.x*a,n.y+g.y*a),v=Math.abs(r),y=i.default.point(h.x+g.x*v,h.y+g.y*v),x=i.default.point(m.x+g.x*v,m.y+g.y*v),S=i.default.point(y.x+g.x*o,y.y+g.y*o),P=i.default.point(x.x+g.x*o,x.y+g.y*o);return 0===r&&0===o||(b(d,h,S),b(d,m,P)),b(d,y,x),d.endFigureClose(),d}return null}(l.getStartPoint(),l.getEndPoint(),l.getOperationEndPoint(),l.getAnnot().leaderLineLength,5,0);d&&t.strokeGeometry(d,h,l.getAnnot().leaderLineLength,{dashPattern:v})}if(u=l.getOperationBounds(),l.getOperation()!==n.TransformType.kTransformMovePoint){var f=i.default.quadFromRect(u.getBound());c.drawFrame(t,f,null,null)}}else u=i.default.quadFromRect(l.getRect());l.getOperation()!==n.TransformType.kTransformMovePoint&&c.drawFrame(t,u,null,h);var g=a.default.LookAndFeel.TransformerAnchorRadius;if(l.getOperation()!==n.TransformType.kTransformNone){var x=u.getCenter(),S=a.default.LookAndFeel.TransformerOriginRadius;switch(l.getOperation()){case n.TransformType.kTransformMove:break;case n.TransformType.kTransformRotate:case n.TransformType.kTransformScale:c.drawOrigin(t,m,h,x,g,S)}l.getAnnot().enableMeasurement&&y(h,t,l);var P=l.getOperationStartPoint(),k=l.getOperationEndPoint();t.strokeLine(P,k,h,0,null)}else{if(l.hasAnyCurrentEditMode(o.default.EditModes.Move|o.default.EditModes.Resize|o.default.EditModes.Rotate))if(window.deviceDetect.isPhone()){var T={fillColor:"#3688dc",anchorRadius:g+5,shadow:!0,font:"19px icomoon",textColor:"#ffffff",textOffsetX:-9,textOffsetY:8};l.hasAnyCurrentEditMode(o.default.EditModes.Move)?T.text="":l.hasAnyCurrentEditMode(o.default.EditModes.Resize)?T.text="":l.hasAnyCurrentEditMode(o.default.EditModes.Rotate)&&(T.text=""),c.drawMarker(t,T.fillColor,h,u.top_right(),g,T)}else c.drawMarker(t,m,h,u.top_right(),g);l.hasAnyCurrentEditMode(o.default.EditModes.Resize|o.default.EditModes.Rotate)&&(c.drawMarker(t,m,h,u.top_left(),g),c.drawMarker(t,m,h,u.bottom_right(),g),c.drawMarker(t,m,h,u.bottom_left(),g));var w=t.getCTM().mapQuad(u),C=a.default.LookAndFeel.TransformerScaleZoneRadius;i.default.pointsDistance(w.center_right(),w.center_left())>=3*C&&l.hasAnyCurrentEditMode(o.default.EditModes.Resize)&&(c.drawMarker(t,m,h,u.top_center(),g),c.drawMarker(t,m,h,u.bottom_center(),g)),i.default.pointsDistance(w.top_center(),w.bottom_center())>=3*C&&l.hasAnyCurrentEditMode(o.default.EditModes.Resize)&&(c.drawMarker(t,m,h,u.center_right(),g),c.drawMarker(t,m,h,u.center_left(),g)),l.hasAnyCurrentEditMode(o.default.EditModes.MovePoint)&&(c.drawMarker(t,m,h,l.getStartPoint(),g),c.drawMarker(t,m,h,l.getEndPoint(),g),l.getAnnot().enableMeasurement&&(c.drawMarker(t,m,h,l.getLeaderLineStartPoint(),g),c.drawMarker(t,m,h,l.getLeaderLineEndPoint(),g)))}}},e.getProperties=function(){var t=this.getSelectionData().getAnnot(),n=s.createMainGroup(function(n){return d.changeAnnotationProperties(e.DocumentView_.getDocument(),t,e.AnnotEditObject_.getPageIndex(),n)}),i={flags:t.flags,getFullPropData:function(){return this.flags}};return(0,r.default)(i,{locked:{get:function(){return 0!=(this.flags&o.default.pdfAnnotationFlag.Locked)},set:function(e){e?this.flags|=o.default.pdfAnnotationFlag.Locked:this.flags&=~o.default.pdfAnnotationFlag.Locked}}}),function(){var e=s.createPropValue("Line","T"),r=s.createProperty(o.default.objectPropertyType.textlabel,e,"Type"),a=s.createSubGroup("Type",[r]);n.addToTabGroup(o.default.objectPropertyGroupType.general,a);var l=t.titleText,u=s.createPropValue(l,"Tx"),c=s.createProperty(o.default.objectPropertyType.textedit,u,"Author"),d=t.subjectText,f=s.createPropValue(d,"SJ"),p=s.createProperty(o.default.objectPropertyType.textedit,f,"Subject"),g=s.createSubGroup("Info",[c,p]);n.addToTabGroup(o.default.objectPropertyGroupType.general,g);var h=new Date(t.modificationDate),m=s.createPropValue(h,"MD"),v=s.createProperty(o.default.objectPropertyType.textlabel,m,"Modified",o.default.objectPropertyStyle.dateTime),y=s.createPropValue(i,"F",["locked"]),b=s.createProperty(o.default.objectPropertyType.select,y,"Locked",o.default.objectPropertyStyle.bool),x=s.createSubGroup("Modify",[v,b]);n.addToTabGroup(o.default.objectPropertyGroupType.general,x)}(),function(){var e={W:t.borderStyle.width,S:t.borderStyle.style,D:t.borderStyle.dashPattern},r=s.createPropValue(e,"BS",["S"]),i=s.createProperty(o.default.objectPropertyType.select,r,"Style",o.default.objectPropertyStyle.borderStyle),a=s.createPropValue(e,"BS",["W"]),l=s.createProperty(o.default.objectPropertyType.number,a,"Width"),u=t.color,c=s.createPropValue(u,"C"),d=s.createProperty(o.default.objectPropertyType.color,c,"Color","annot-color"),f={propType:o.default.objectPropertyType.opacity,val:t.opacity},p=s.createPropValue(f,"CA"),g=s.createProperty(o.default.objectPropertyType.opacity,p,"Opacity"),h=s.createSubGroup("Line",[i,l,d,g]);n.addToTabGroup(o.default.objectPropertyGroupType.appearance,h)}(),n},e},select:function(e,t,r,o){var i=null;if(!e||t<0||!r)return null;var a=e.document,l=n.createInstance(a,t,r);return o?e.setHighlightNamed("LineAnnotEdit",l):i=e.setSelectionAndTool("LineAnnotEdit",l),i}}}]),window.mainApp.factory(d,getConstructor(s,d,"factory"))},Kopg:function(e,t,n){"use strict";var r=i(n("b8L+")),o=i(n("C3UN"));function i(e){return e&&e.__esModule?e:{default:e}}n("ZqXQ"),n("5UMD"),n("k+uf");var a="bl-edit-texteditobject-factory";angular.module("bl-edit-texteditobject-module",["bl-edit-utilites-module","bl-edit-editobject-module","bl-edit-chariterator-module","pdf-manager-module"]).factory(a,["$q","$rootScope","bl-edit-utilites-service","bl-edit-editobject-factory","bl-edit-chariterator-factory","pdf-manager-factory",function(e,t,n,i,a,l){var u=function(e,t,n,o){var a=this,l=o,u=n,c=r.default.identityMatrix();!function(){var e={position:r.default.point(),size:r.default.size(),rotation:0,reflect:!1};e.position=l.rect.left_top(),e.size=l.rect.getSize(),e.rotation=l.rotate,e.reflect=l.reflect,c=function(e){var t=r.default.identityMatrix();return t=t.multiply(r.default.scalingMatrix(e.size.width,e.size.height)),e.reflect&&(t=t.multiply(r.default.reflectYMatrix())),t=(t=t.multiply(r.default.rotationMatrix(e.rotation))).multiply(r.default.translationMatrix(e.position.x,e.position.y))}(e)}(),a.prototype=i.createInstance(e,t),a.getPageIndex=function(){return a.prototype.getPageIndex()},a.getObjectType=function(){return"TextEdit"},a.hitTestPoint=function(e){return a.getBounds().containsPoint(e)},a.hitTestRect=function(e){return a.getBounds().hasIntersectionRect(e)},a.getObjectSpaceRect=function(){return r.default.rect(0,0,1,-1)},a.getCTM=function(){return c},a.applyEdit=function(){alert("textEditObject - applyEdit")},a.delete=function(){alert("textEditObject - delete")},a.getData=function(){return a},a.getActiveChar=function(){return u},a.getPDEElement=function(){return l},a.getBounds=function(){var e=a.getCTM(),t=a.getObjectSpaceRect();return e.mapQuad(r.default.quadFromRect(t))},a.compareInternals=function(e){return e&&e.getPDEElement()===a.getPDEElement()}},c={createEditObjectByCharIterator:function(e,t,n){if(!n)return null;var r=n.getTextBlock();return r?new u(e,t,n,r):null},createEditObjectByPagePoint:function(e,t,n,r){if(n.type==o.default.PDEElementType.kPDEElementText){var i=n.getItemAtPoint(r);if(i){var l=e.getPage(t),u=a.createCharIteratorForItemAtPoint(e,l,i,r);return u?c.createEditObjectByCharIterator(e,t,u):null}}return null},createTextEditObject:function(e,t,n){var r=e.getPage(t);if(!n)return null;var o=r.textBlocks.indexOf(n);if(o<0)return null;var i=a.createBeginCharIteratorForTextBlock(e,r,r.content,o);return i?c.createEditObjectByCharIterator(e,t,i):null}};return c}]),window.mainApp.factory(a,getConstructor("bl-edit-texteditobject-module",a,"factory"))},LYHW:function(e,t,n){"use strict";var r=a(n("Xxa5")),o=a(n("exGp")),i=a(n("C3UN"));function a(e){return e&&e.__esModule?e:{default:e}}n("r1RI");var l="bl-selecteditobjectservice-edit-module",u="bl-selecteditobjectservice-edit-factory";angular.module(l,["bl-editmodule-module"]).factory(u,["$rootScope","bl-editmodule-service",function(e,t){var n={};return n.selectObject=function(){var e=(0,o.default)(r.default.mark(function e(n,o,a){var l,u,c;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(l={selected:!1,inputHandler:null},n&&o){e.next=3;break}return e.abrupt("return",l);case 3:if("TextEdit"===o.getObjectType()){e.next=5;break}return e.abrupt("return",l);case 5:return u=o.getData(),c=u.getActiveChar(),e.next=10,t.createAndSetCaret(n,c,a);case 10:return l.inputHandler=e.sent,l.selected=!0,n.setCursor(i.default.BLCursorType.kBLCursorIBeam),e.abrupt("return",l);case 14:case"end":return e.stop()}},e,this)}));return function(t,n,r){return e.apply(this,arguments)}}(),n}]),window.mainApp.factory(u,getConstructor(l,u,"factory"))},"Lx+G":function(e,t,n){"use strict";var r="bl-secure-redaction-factory";angular.module("bl-secure-redaction-module",["pdf-manager-module","ui-helper-module"]).factory(r,["$rootScope","$translate","pdf-manager-factory","ui-helper-factory",function(e,t,n,r){var o=r.getDialogFactory(),i={apply:function(r){var i=t.instant("You are about to permanently remove all content that has been marked for redaction"),a=[t.instant("Once the document is saved, this operation can't be undone"),t.instant("Are you sure you want to continue?")].join(". ");o.then(function(t){var o=function(){n.currentDocSecurityApplyRedactions().then(function(t){e.$emit("event:redact-apply-success",t)}).finally(function(){r&&r()})};t.messageBox.show({name:"Redaction",icon:"warning",text:i,description:a,svg:{xlinkHref:"images/symbol-defs-secure.svg#icon-create-redaction"},callbacks:window.deviceDetect.isPhone()?[{type:"cross",cls:"circle-btn--close"},{type:"check",text:"Insert",cls:"lg-size confirm",callback:o}]:[{id:"ok",text:"OK",callback:o},{id:"cancel",text:"Cancel"}]})})}};return i}]),window.mainApp.factory(r,getConstructor("bl-secure-redaction-module",r,"factory"))},MwmY:function(e,t,n){"use strict";var r=function(e){return e&&e.__esModule?e:{default:e}}(n("b8L+"));n("5QSM");var o="bl-ocr-idrs-zones-factory";angular.module("bl-ocr-idrs-zones-module",["bl-ocr-idrs-zone-module"]).factory(o,["$q","$rootScope","bl-ocr-idrs-zone-factory",function(e,t,n){return{createInstance:function(e){return new function(e){var t=[];!function(){for(var o=0,i=e.length;o<i;o++){var a=e[o].rect;e[o].rect=r.default.rect(a[0],a[1],a[2],a[3]),e[o].isRectangle=e[o].is_rect,t.push(n.createInstance(e[o]))}}(),this.getCount=function(){return t.length},this.getZone=function(e){return e>=t.length?(console.log("Index out of range"),null):t[e]},this.insertZone=function(e,n){e>t.length?console.log("Index out of range"):t.splice(e,0,n)},this.removeZone=function(e){e>=t.length?console.log("Index out of range"):t.splice(e,1)},this.replaceZone=function(e,n){return e>=t.length?(console.log("Index out of range"),null):(t[e],t[e]=n,n)},this.hitTest=function(e){for(var n=0,r=t.length;n<r;++n){var o=t[n];if(o&&o.hitTest(e))return n}return null},this.draw=function(e,n){if(e&&n){e.pushState();for(var r=0,o=t.length;r<o;++r)t[r].draw(e,n);e.popState()}}}(e)}}}]),window.mainApp.factory(o,getConstructor("bl-ocr-idrs-zones-module",o,"factory"))},NBi1:function(e,t,n){"use strict";n("Kopg");var r="bl-edit-compositeeditobject-item-text-module",o="bl-edit-compositeeditobject-item-text-factory";angular.module(r,["bl-edit-texteditobject-module"]).factory(o,["$rootScope","bl-edit-texteditobject-factory",function(e,t){var n={createCompositeEditObjectForPage:function(e,n,r){if(!e||-1==n)return null;var o=e.getPage(n).textBlocks;if(o)for(var i=0;i<o.length;++i){var a=o[i],l=t.createTextEditObject(e,n,a);l&&r.push(l)}return r},getSelectedObjectsOnPage:function(e,t){return null}};return n}]),window.mainApp.factory(o,getConstructor(r,o,"factory"))},NMNB:function(e,t,n){"use strict";var r=i(n("C3UN")),o=i(n("b8L+"));function i(e){return e&&e.__esModule?e:{default:e}}n("0LmI"),n("UF/7");var a="bl-text-edit-textfield-obj-factory-module",l="bl-text-edit-textfield-obj-factory";function u(e,t,n,i){var a={};return a.createInstance=function(t,a,l){return new function(t,a,l){var u,c,s=this,d=0,f=0,p=a,g=l,h=l.getTextBlock(),m=t,v=o.default.rect(),y=!1;function b(e,t){var n=f,r=d,o=u.getText().length;if((n=Math.min(n,o))>(r=Math.min(r,o))&&(r=[n,n=r][0]),r-n==1&&"\r"===u.getCharAtPos(n))do{t?n--:r++}while("\r"===u.getCharAtPos(t?n:r)&&r<o&&n>=0);var i=s.getLineWithChar(r);u.keyStroke(n,r,e,t),r=n+e.length;var a=s.getLineWithChar(r);"\n"!==e&&i<a?r++:"\n"===e&&i===a&&r--,s.setSelectorPosition(r,!0),s.setCaretPosition(r,!0),y=!0}Object.defineProperty(s,"annotRect",{get:function(){return h&&h.rect?h.rect.copy():o.default.rect()}}),Object.defineProperty(s,"value",{get:function(){return u.getText()}}),Object.defineProperty(s,"defaultValue",{get:function(){return u.getText()}}),s.getPageIndex=function(){return p},s.getRotate=function(){return h?h.rotate:0},s.canUndo=function(){return!1},s.canRedo=function(){return!1},s.undo=function(){},s.redo=function(){},s.clearUndoRedoStack=function(){},s.getRect=function(){return u.getRect()},s.getText=function(){return u.getText()},s.getNumChars=function(){return u.getText().length},s.getNumLines=function(){return u.getLinesCount()},s.getLineHeightFactor=function(){return u.getLineHeightFactor()},s.getPhrases=function(){return u.getPhrases()},s.getMargin=function(){return u.getMargin()},s.getLineWithChar=function(e){return u.getLineWithSymbol(e)},s.getFirstCharOnLine=function(e){return u.getFirstSymbol(e)},s.getLastCharOnLine=function(e){if(e==s.getNumLines()-1)return s.getNumChars();var t=s.getFirstCharOnLine(e+1);return--t},s.getCharQuad=function(e){return u.getCharQuad(e)},s.selectAll=function(){s.setSelectorPosition(0),s.setCaretPosition(s.getNumChars())},s.setSelAtPoint=function(e){var t=u.getSymbolAtPoint(e);s.setSelectorPosition(t),s.setCaretPosition(t)},s.setSelectorAtPoint=function(e){var t=u.getSymbolAtPoint(e);s.setSelectorPosition(t)},s.setCaretAtPoint=function(e){var t=u.getSymbolAtPoint(e);s.setCaretPosition(t)},s.setCaretPosition=function(e,t){(t||d!=e)&&((d=e)>0&&d===s.getNumChars()&&d--,c&&c(f,d))},s.setSelectorPosition=function(e,t){(t||f!=e)&&((f=e)>0&&f===s.getNumChars()&&f--,c&&c(f,d))},s.hasSelection=function(){return f!=d},s.getSelectedText=function(){var e;if(s.hasSelection()){var t=f,n=d;t>n&&(n=[t,t=n][0]),e=(e=u.getText().spliceSlice(t,n-t)).replace(new RegExp("\r","g"),"")}return e},s.getSelectorPosition=function(){return f},s.getCaretPosition=function(){return d},s.goLeft=function(e){var t=s.getCaretPosition();t>0&&s.setCaretPosition(--t),e||s.setSelectorPosition(t)},s.goRight=function(e){var t=s.getCaretPosition();t<s.getNumChars()&&s.setCaretPosition(++t),e||s.setSelectorPosition(t)},s.goUp=function(e){var t=s.getLineWithChar(d);if(0!=t){var n=s.getCharQuad(d).top_left();n.y-=u.getLineHeight(t-1)/2,s.setCaretAtPoint(n)}else s.setCaretPosition(0);e||s.setSelectorPosition(d)},s.goDown=function(e){var t=s.getLineWithChar(d);if(t<u.getLinesCount()-1){var n=s.getCharQuad(d).bottom_left();n.y+=u.getLineHeight(t+1)/2,s.setCaretAtPoint(n)}else s.setCaretPosition(u.getLastSymbol(t));e||s.setSelectorPosition(d)},s.goToFirst=function(e){s.setCaretPosition(0),e||s.setSelectorPosition(0)},s.goToLast=function(e){var t=s.getNumChars();s.setCaretPosition(t),e||s.setSelectorPosition(t)},s.goToHome=function(e){var t=d,n=s.getLineWithChar(t);t=s.getFirstCharOnLine(n),s.setCaretPosition(t),e||s.setSelectorPosition(t)},s.goToEnd=function(e){var t=d,n=s.getLineWithChar(t);t=s.getLastCharOnLine(n),s.setCaretPosition(t),e||s.setSelectorPosition(t)},s.selectWord=function(e){var t=u.getWordPositions(e);isUndefinedOrNull(t)||(s.setCaretPosition(t.caret),s.setSelectorPosition(t.selector))},s.keyStroke=function(e){b(e)},s.delete=function(e){var t=s.getSelectorPosition(),n=s.getCaretPosition();n<t&&(t=[n,n=t][0]),n==t&&(e?n>0&&s.setCaretPosition(n-1):s.setCaretPosition(n+1)),b("",e)},s.commitChanges=function(){if(!y)return e.when();var t=u.getSpans();return t?i.editText(m.getDocument(),p,h,t).then(function(){g.updateTransform()}):e.when()},s.cancelChanges=function(){h.rect.isEqual(v)||(h.rect=v.copy(),g.updateTransform())},s.onModify=function(){return m.requestPermissions(r.default.BLPermReqObj.kBLPermReqObjContent,r.default.BLPermReqOp.kBLPermReqOpModify,!0)},s.getCurrentFont=function(){var e=u.getPhraseAtPos(d>0?d-1:d);return isUndefinedOrNull(e)?null:e.getFont()},s.setOnSelChangedCallBack=function(e){c=e},s.setFont=function(e){var t=f,n=d,r=u.getText().length;(t=Math.min(t,r))>(n=Math.min(n,r))&&(n=[t,t=n][0]),u.setFont(t,n,e),y=!0},s.refresh=function(){v=h.rect.copy(),u.init(m,p,g),y=!1,s.setCaretPosition(0),s.setSelectorPosition(0)},u=n.createInstance(),s.refresh()}(t,a,l)},a}angular.module(a,["bl-text-edit-renderer-service-module","bl-text-edit-textlayout-factory-module","pdf-manager-module"]).factory(l,u),u.$inject=["$q","bl-text-edit-renderer-service","bl-text-edit-textlayout-factory","pdf-manager-factory"],window.mainApp.factory(l,getConstructor(a,l,"factory"))},O3jL:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={MC_MESSAGES_PATH:"/messages",MC_MESSAGES_CONTENT_PATH:"/messages/{id}/content",MC_MESSAGES_NOTIFICATION_PATH:"/messages/{id}/notification",get:function(){return"https://oauth-mc.sodapdf.com/api/v2"}}},OvRC:function(e,t,n){e.exports={default:n("oM7Q"),__esModule:!0}},PaWa:function(e,t,n){"use strict";var r=i(n("C3UN")),o=i(n("eWOG"));function i(e){return e&&e.__esModule?e:{default:e}}n("6Drf");var a="bl-widget-listbox-obj-factory-module",l="bl-widget-listbox-obj-factory";function u(e,t){var n={};return n.createInstance=function(n,i,a){return new function(n,i,a){var l,u,c=Number.MAX_VALUE,s=this,d=i,f=a,p=r.default.pdfAcroformType;this.getPageIndex=function(){return d},this.getBorderStyle=function(){return{width:1,style:r.default.PDAnnotBorderStyle.kPDAnnotBorderStyleSolid,dashArrayLen:0,dashArray:0}},this.getRotate=function(){return 0},this.getWidget=function(){return f},this.canUndo=function(){return!1},this.canRedo=function(){return!1},this.undo=function(){},this.redo=function(){},this.clearUndoRedoStack=function(){},this.getRect=function(){return e.getFieldRect(f)},this.doesNeedScroll=function(){return this.getNumLines()>this.getNumVisibleLines()},this.getNumLines=function(){return f.options&&f.options.items?f.options.items.length:0},this.getNumVisibleLines=function(){return u.getMaxLinesCount()},this.setTopLine=function(e){e<this.getNumLines()&&u.setTopLine(e)},this.getTopLine=function(){return u.getTopLine()},this.hitTestLine=function(e){u.isNeedUpdate()&&u.update();var t=u.getSymbolAtPoint(e),n=u.getLineWithSymbol(t);return n>=this.getNumLines()?-1:n},this.setSel=function(e){if(e>=0){c=e;var t=this.getNumLines();0==t?c=-1:c>=parseInt(t)&&(c=t-1);var n=u.getTopLine(),r=u.getMaxLinesCount();c<parseInt(n)&&u.setTopLine(c),c<parseInt(t)&&c>=parseInt(n)+r&&u.setTopLine(c-r+1)}else c=-1;var o=f.options&&f.options.items?f.options.items:[];o.length>e&&f.setValue(o[e])},this.setSelection=function(e){g(e)},this.getSelection=function(){return c},this.selectPrev=function(){var e=this.getNumLines();if(e>0){var t=this.getSelection();-1==t?this.setSelection(e-1):t>0&&this.setSelection(--t)}},this.selectNext=function(){var e=this.getNumLines();if(e>0){var t=this.getSelection();-1==t?this.setSelection(0):t<e-1&&this.setSelection(++t)}},this.selectFirst=function(){this.getNumLines()>0&&this.setSelection(0)},this.selectLast=function(){var e=this.getNumLines();e>0&&this.setSelection(e-1)},this.commitChanges=function(){return GetSelection(),(f.options&&f.options.items?f.options.items:[]).length,!0},this.cancelChanges=function(){},this.onModify=function(){return!0};var g=function(e){s.setSel(e)},h=f.getStyle();if(p.choice===h){l=f.getValue();var m=this.getRect();m.inflate(-o.default.listBox.getMargin(),-o.default.listBox.getMargin()),(u=t.createInstance(o.default.listBox.getFontSize())).setBound(m),u.setLineHeightFactor(o.default.listBox.getLineHeightFactor());for(var v="",y=f.options&&f.options.items?f.options.items:[],b=0;b<y.length;b++){var x=y[b];x&&x.length>0&&(v+="\n"),v+=x}u.setMultiline(!0),u.setWordWrap(!1),u.setText(v),u.update();var S=y.indexOf(l);-1!=S&&(c=S),Number.MAX_VALUE!=c&&(u.setTopLine(c),u.update())}else console.error("Unsupported field type.")}(n,i,a)},n}angular.module(a,[]).factory(l,u),u.$inject=["bl-widget-renderer-service","form-textlayout-factory"],window.mainApp.factory(l,getConstructor(a,l,"factory"))},RR7e:function(e,t,n){"use strict";var r=i(n("b8L+")),o=i(n("C3UN"));function i(e){return e&&e.__esModule?e:{default:e}}n("5UMD");var a="bl-edit-widgetannoteditobject-module",l="bl-edit-widgetannoteditobject-factory";angular.module(a,["bl-edit-utilites-module","pdf-manager-module"]).factory(l,["$rootScope","$q","bl-edit-utilites-service","pdf-manager-factory",function(e,t,n,i){var a={kTransformNone:0,kTransformMove:1,kTransformScale:2,kTransformRotate:3};return{createInstance:function(e,l,u,c){return new function(e,l,u,c){var s=this,d=e,f=l,p=u,g=c,h=null,m=a.kTransformNone,v=r.default.rect();p&&p.rect&&(v=p.rect.copy());var y=d.getPage(f);s.getDoc=function(){return d},s.getPageIndex=function(){return f},s.getAnnot=function(){return p},s.getAnnotSubtype=function(){return p.type},s.getRect=function(){return p?p.rect:null},s.hitTest=function(e){var t=s.getRect();return!!t&&t.containsPoint(e)},s.setOperation=function(e){m=e},s.getOperation=function(){return m},s.setOperationRect=function(e){v=n.correctRectToRespectPageBox(y.getCropBox(),e)},s.getOperationRect=function(){return v},s.endOperation=function(){h=null;var e=s.getRect();if(v&&!v.isEqual(e)){var n=v.copy();return n.top<n.bottom&&(n.bottom=[n.top,n.top=n.bottom][0]),i.changeAnnotationProperties(d,p,f,{R:n.asArray()}).finally(function(){v=p.rect.copy(),m=a.kTransformNone})}return m=a.kTransformNone,t.when()},s.delete=function(){return i.deleteAnnotation(d,p,f)},s.getSnapData=function(){return g},s.setSnapInfo=function(e){h=e},s.getSnapInfo=function(){return h};var b=o.default.EditModes.Properties|o.default.EditModes.Move|o.default.EditModes.Resize|o.default.EditModes.Remove;p.isMarkup()&&p.type!==o.default.pdfAnnotationType.freeText&&(b|=o.default.EditModes.Comment);var x=deviceDetect.isPhone()?o.default.EditModes.Move:b;s.setCurrentEditMode=function(e){x=e},s.hasAnyCurrentEditMode=function(e){return!!(x&e)},s.hasAnyEditMode=function(e){return!!(b&e)}}(e,l,u,c)},TransformType:a,HandleType:{kHandleNone:0,kHandleTopLeft:1,kHandleTopRight:2,kHandleBottomRight:3,kHandleBottomLeft:4,kHandleTopMiddle:5,kHandleRightMiddle:6,kHandleBottomMiddle:7,kHandleLeftMiddle:8}}}]),window.mainApp.factory(l,getConstructor(a,l,"factory"))},Rz7V:function(e,t,n){"use strict";var r=l(n("fZjL")),o=l(n("b8L+")),i=l(n("C3UN")),a=l(n("IZAc"));function l(e){return e&&e.__esModule?e:{default:e}}var u="bl-text-edit-phrase-factory-module",c="bl-text-edit-phrase-factory";function s(e){var t=96/72,n={};return n.createInstance=function(e,r){return new function(e,r){var i=this,a=0,l=0,u=e;isUndefinedOrNull(r)&&(r=n.createFontInstance());var c=r;i._text="",i.bound=function(){var e=o.default.size(0,c.size*u/t);return i._text.length>0&&(e=d(i._text)),o.default.rect(a,l,a+e.width,l+e.height)},i.getRect=function(){return i.bound()},i.getSymbolRect=function(e){var t=o.default.rect();if(i._text.length>e){var n=0;if(e>0){var r=i._text.spliceSlice(0,e);n=(u=d(r)).width}r=i._text.spliceSlice(e,1);var u=d(r);return o.default.rect(n+a,l,n+a+u.width,l+u.height)}return t},i.getSymbolQuad=function(e){var t=i.getSymbolRect(e);return o.default.quadFromRect(t)},i.scale=function(e){},i.translate=function(e,t){a+=e,l+=t},i.getFont=function(){return c.copy()},i.isFontColorWhite=function(){return c.color.isWhite()},i.getBottomOffset=function(){return c.size/t*(u-1)/2},i.getText=function(){return i._text};var d=function(e){var n=(s.calculateTextBoundCanvas||(s.calculateTextBoundCanvas=document.createElement("canvas"))).getContext("2d");n.font=c.getRenderFontStr();var r=n.measureText(e).width,i=c.size/t*u;return o.default.size(r,i)}}(e,r)},n.createFontInstance=function(e,n,o,l,u,c){return new function e(n,o,l,u,c,s){var d=this;d.name=isUndefinedOrNull(o)?"Times New Roman, serif":o,d.originalFamily=isUndefinedOrNull(l)?"Times New Roman":l,d.style=isUndefinedOrNull(u)?i.default.GFontStyle.kGFontStyleRegular:u,d.size=isUndefinedOrNull(n)?12:n,d.color=isUndefinedOrNull(c)?a.default.createInstance("#FF000000"):c,d.format=isUndefinedOrNull(s)?i.default.FontFormat.TrueType:s;var f=void 0;function p(){var e="";switch(d.style){case i.default.GFontStyle.kGFontStyleRegular:e="";break;case i.default.GFontStyle.kGFontStyleBold:e="bold ";break;case i.default.GFontStyle.kGFontStyleItalic:e="italic ";break;case i.default.GFontStyle.kGFontStyleBoldItalic:e="italic bold "}f=e+d.size/t+"pt "+d.name}p(),d.getRenderFontStr=function(){return f},d.isItalic=function(){return d.style==i.default.GFontStyle.kGFontStyleItalic||d.style==i.default.GFontStyle.kGFontStyleBoldItalic},d.isBold=function(){return d.style==i.default.GFontStyle.kGFontStyleBold||d.style==i.default.GFontStyle.kGFontStyleBoldItalic},d.copy=function(){return new e(d.size,d.name,d.originalFamily,d.style,d.color.copy(),d.format)},d.updateFont=function(e){(0,r.default)(e).forEach(function(t){d[t]=e[t]}),p()},d.isEqual=function(e){return d.name===e.name&&d.originalFamily===e.originalFamily&&d.style===e.style&&d.size===e.size&&(d.color===e.color||d.color.toString()===e.color.toString())&&d.format===e.format}}(e,n,o,l,u,c)},n}angular.module(u,[]).factory(c,s),s.$inject=["$rootScope"],window.mainApp.factory(c,getConstructor(u,c,"factory"))},SWEh:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n("IZAc"));for(var o=["030","033","036","039","03c","03f","090","093","096","099","09c","09f","0f0","0f3","0f6","0f9","0fc","0ff","330","333","336","339","33c","33f","390","393","396","399","39c","39f","3f0","3f3","3f6","3f9","3fc","3ff","630","633","636","639","63c","63f","690","693","696","699","69c","69f","6f0","6f3","6f6","6f9","6fc","6ff","930","933","936","939","93c","93f","990","993","996","999","99c","99f","9f0","9f3","9f6","9f9","9fc","9ff","c30","c33","c36","c39","c3c","c3f","c90","c93","c96","c99","c9c","c9f","ccf020","cf3","cf6","cf9","cfc","cff","f30","f33","f36","f39","f3c","f3f","f90","f93","f96","f99","f9c","f9f","ff0","ff3","ff6","ff9","ffc","fff","f00","f03","f06","f09","f0c","f0f","f60","f63","f66","f69","f6c","f6f","ffc020","fc3","fc6","fc9","fcc","fcf","c00","c03","c06","c09","c0c","c0f","c60","c63","c66","c69","c6c","c6f","cc0","cc3","cc6","cc9","ccc","ccf","900","903","906","909","90c","90f","960","963","966","969","96c","96f","9c0","9c3","9c6","9c9","9cc","9cf","600","603","606","609","60c","60f","660","663","666","669","66c","66f","6c0","6c3","6c6","6c9","6cc","6cf","300","303","306","309","30c","30f","360","363","366","369","36c","36f","3c0","3c3","3c6","3c9","3cc","3cf","000","003","006","009","00c","00f","060","063","066","069","06c","06f","0c0","0c3","0c6","0c9","0cc","0cf"],i=[o.length],a=0;a<o.length;++a){var l=o[a],u=null;if(3===l.length){var c=l[0],s=l[1],d=l[2];u="#ff"+c+c+s+s+d+d}else u="#ff"+l;i[a]=r.default.createInstance(u)}t.default={rgbaColors:i}},Trxo:function(e,t,n){"use strict";var r=l(n("kHBY")),o=l(n("IZAc")),i=l(n("b8L+")),a=l(n("C3UN"));function l(e){return e&&e.__esModule?e:{default:e}}n("VVVL");var u="form-scrollbar-factory";function c(e){var t={},n=function(t){var n,l,u,c,s,d=this,f="FFFEFEFE",p="FFAAAAAA",g="7FE0E0E0",h=t,m=0,v=100,y=1,b=0,x=180,S=!1,P=!1;d.setScrollPos=function(e){b=Math.max(m,Math.min(v-y,e))},d.getScrollPos=function(){return b},d.setPageSize=function(e){y=e,d.setScrollPos(b)},d.setScrollRange=function(e,t){e>t&&(t=[e,e=t][0]),m=e,v=t,d.setScrollPos(b)},d.draw=function(t){!function(t){if(S){if(n.isAreaEmpty())return;var r=i.default.point(n.left,n.bottom),l=i.default.rotationMatrix(-i.default.degreeToRadian(x),r).mapRect(n),u=i.default.rotationMatrix(i.default.degreeToRadian(x),r),c=10,s=l.getHeight()/4;c>s&&(c=s);var d=6,h=Math.min(s,l.getWidth())/2;d>h&&(d=h);var P=i.default.rotationMatrix(i.default.degreeToRadian(x)),k=.5*d,T=P.mapPoint(i.default.point(-k,0)),w=P.mapPoint(i.default.point(k,0)),C=P.mapPoint(i.default.point(0,-k)),B=P.mapPoint(i.default.point(0,k)),L=o.default.createInstance(g),F=(o.default.createInstance(p),l.copy());F.bottom=l.bottom-(1+c),F.top=l.top+(1+c),(F=u.mapRect(F)).sort(),t.fillRect(F,L);var A=o.default.createInstance(p),_=o.default.createInstance(f),M=o.default.createInstance(p),E={};E.lineCap=a.default.GLineCap.kGLineCapRound,E.lineJoin=a.default.GLineJoin.kGLineJoinMiter,E.miterLimit=10;var R=l.copy();R.bottom=l.top+c,(R=u.mapRect(R)).sort(),t.fillRect(R,_),t.strokeRect(R,M,0,null);var I=R.getCenter(),O=i.default.point(0,k/2),D=i.default.point(I.x-O.x,I.y-O.y),N=i.default.point(D.x+T.x,D.y+T.y),U=i.default.point(D.x+C.x,D.y+C.y),H=i.default.point(D.x+w.x,D.y+w.y),j=e.createGeometry();j.beginFigure(N),j.lineTo(U),j.lineTo(H),j.endFigure(),t.strokeGeometry(j,A,1,E);var G=l.copy();G.top=l.bottom-c,(G=u.mapRect(G)).sort(),t.fillRect(G,_),t.strokeRect(G,M,0,null),I=G.getCenter(),O=i.default.point(0,k/2);var z=i.default.point(I.x+O.x,I.y+O.y),V=i.default.point(z.x+T.x,z.y+T.y),K=i.default.point(z.x+B.x,z.y+B.y),W=i.default.point(z.x+w.x,z.y+w.y),$=e.createGeometry();$.beginFigure(V),$.lineTo(K),$.lineTo(W),$.endFigure(),t.strokeGeometry($,A,1,E);var q=l.copy(),Z=v-y-m,X=v-m,Q=(l.getHeight()-2*c)/X,J=Q*(X-Z),Y=c+Q*b+J;q.top=q.bottom-Y,q.bottom=q.top+J,(q=u.mapRect(q)).sort(),t.fillRect(q,_),t.strokeRect(q,M,0,null)}}(t)},d.setVisible=function(e){S=e},d.isVisible=function(){return S},d.setPlacement=function(e,t){n=e,x=(t+180)%360},d.mouseMove=function(e,t){if(n.isAreaEmpty())return!1;var o=i.default.point(n.left,n.bottom),l=i.default.rotationMatrix(-i.default.degreeToRadian(x),o),c=l.mapRect(n),d=l.mapPoint(e);if(!P&&!c.containsPoint(d))return!1;if(t&&P){var f=10,p=c.getHeight()/4;f>p&&(f=p);var g=v-y-m,b=v-m,S=(c.getHeight()-2*f)/b,k=d.y-c.top-u,T=parseInt((f-k)/S+g);T=Math.max(m,Math.min(v-y,T)),s&&s(r.default.SBCode.kSB_THUMBPOSITION,T)}return h.setCursor(a.default.BLCursorType.kBLCursorArrow),!0},d.mouseDown=function(e){if(n.isAreaEmpty())return!1;var t=i.default.point(n.left,n.bottom),o=i.default.rotationMatrix(-i.default.degreeToRadian(x),t),a=o.mapRect(n),f=o.mapPoint(e);if(!a.containsPoint(f))return!1;var p=10,g=a.getHeight()/4;p>g&&(p=g),l=f.y-a.top;var h=v-y-m,S=v-m,k=(a.getHeight()-2*p)/S,T=p+k*(h-b),w=T+k*(S-h);return l>0&&l<=p?s&&s(r.default.SBCode.kSB_LINEDOWN,0):l>p&&l<T?s&&s(r.default.SBCode.kSB_PAGEDOWN,0):l>=T&&l<=w?(clearInterval(c),c=null,P=!0,u=l-T):l>w&&l<a.getHeight()-p?s&&s(r.default.SBCode.kSB_PAGEUP,0):l>=a.getHeight()-p&&l<a.getHeight()&&s&&s(r.default.SBCode.kSB_LINEUP,0),P||c||(c=setInterval(function(){d.mouseDown(i.default.point(n.left,n.top+l))},150)),!0},d.mouseUp=function(e){return clearInterval(c),c=null,P=!1,!1},d.setOnScrollCallBack=function(e){s=e}};return t.createInstance=function(e){return new n(e)},t}angular.module("form-scrollbar-factory-module",["geometry-factory-module"]).factory(u,c),c.$inject=["geometry-factory"],window.mainApp.factory(u,getConstructor("form-scrollbar-factory-module",u,"factory"))},TuET:function(e,t,n){"use strict";n("ufEO"),n("1286"),n("mbrq");var r="bl-annot-handler-factory";angular.module("bl-annot-handler-module",["bl-markupannot-handler-module","bl-linkannot-handler-module","bl-widgetannot-handler-module"]).factory(r,["bl-markupannot-handler-factory","bl-linkannot-handler-factory","bl-widgetannot-handler-factory",function(e,t,n){return{createInstance:function(r){var o=null;return isUndefinedOrNull(r)?null:(r.isMarkup()?o=e.createInstance():r.isLink()?o=t.createInstance():r.isWidget()&&(o=n.createInstance()),o?(o.onHitTest=function(e,t,n,r){var o=r.rect,i=e.mapPointToPage(t,n);return o.containsPoint(i)},o.hitTest=function(e,t,n,r){return!!o.onHitTest&&o.onHitTest(e,t,n,r)},o.focus=function(e,t,n){o.onFocus&&o.onFocus(e,t,n)},o.blur=function(e,t,n){o.onBlur&&o.onBlur(e,t,n)},o.mouseEnter=function(e,t,n){o.onMouseEnter&&o.onMouseEnter(e,t,n),e.invalidate()},o.mouseExit=function(e,t,n){o.onMouseExit&&o.onMouseExit(e,t,n),e.invalidate()},o.mouseDown=function(e,t,n,r){return o.onMouseDown?o.onMouseDown(e,t,n,r):(e.invalidate(),!1)},o.mouseUp=function(e,t,n,r){return o.onMouseUp?o.onMouseUp(e,t,n,r):(e.invalidate(),!1)},o.keyUp=function(e){var t=!1;return o.onKeyUp&&(t=o.onKeyUp(e)),t},o.keyDown=function(e){var t=!1;return o.onKeyDown&&(t=o.onKeyDown(e)),t},o.draw=function(e,t,n,r){o.onDraw&&o.onDraw(e,t,n,r)},o):null)}}}]),window.mainApp.factory(r,getConstructor("bl-annot-handler-module",r,"factory"))},U49B:function(e,t,n){"use strict";var r=i(n("b8L+")),o=i(n("oRGr"));function i(e){return e&&e.__esModule?e:{default:e}}n("UKIy");var a="bl-ocr-idrs-layout-factory";angular.module("bl-ocr-idrs-layout-module",["bl-ocr-idrs-scroll-module"]).factory(a,["$q","$rootScope","bl-ocr-idrs-scroll-factory",function(e,t,n){var i=o.default.BLZoomType,a=o.default.BLScrollType,l=(o.default.BLScrollBarType,o.default.BLScrollEvent,o.default.PAGE_HALF_MARGIN,o.default.PAGE_MARGIN),u=[.0625,.125,.25,.33,.5,.66,.75,.88,1,1.25,1.5,1.75,2,3,4,6,8,12,16,24,32,64],c=function(e,t){return e.mapPoint(t)},s=function(e,t){return e.mapRect(t)},d=function(e,t){return e.mapQuad(t)},f=function(e,t,n){var o=r.default.size(e*n.width,e*n.height);return 90!=t&&270!=t||(o.width=[o.height,o.height=o.width][0]),o.round()},p=function(){var e=this,o=1,p=i.kBLZoomValue,g=0,h=n.createInstance(),m=r.default.size(),v=r.default.size(),y={onZoomChanged:function(e){t.$broadcast("idrs-layout-zoom-changed",e)},onRotationChanged:function(e){t.$broadcast("idrs-layout-rotation-changed",e)},onZoomTypeChanged:function(e){t.$broadcast("idrs-layout-zoomtype-changed",e)}};e.events=function(){return y};var b=function(){var e=a.kScrollNone;switch(p){case i.kBLZoomFitPage:e=a.kScrollVert|a.kScrollHorz;break;case i.kBLZoomFitWidth:e=a.kScrollVert;break;case i.kBLZoomFitHeight:e=a.kScrollHorz;break;case i.kBLZoomValue:e=a.kScrollNone;break;default:console.log("Unknown zoom type")}h.setScrollState(e),m.isAreaEmpty()||h.resizeView(m),v.isAreaEmpty()||h.resizeContent(f(o,g,v).round())},x=function(e,t){var n=e/o,i=h.getScrollPos();(i=r.default.point((i.x+t.x)*n,i.y+t.y*n)).offset(-t.x,-t.y),h.setScrollPos(i),o=e,b(),y.onZoomChanged(o)},S=function(e){if(p!=i.kBLZoomValue){var t=m.width-2*l,n=m.height-2*l,r=function(e,t){return f(1,e,t)}(g,v),o=(t-2)/r.width,a=(n-2)/r.height;switch(p){case i.kBLZoomFitPage:x(Math.min(o,a),e);break;case i.kBLZoomFitWidth:x(o,e);break;case i.kBLZoomFitHeight:x(a,e);break;case i.kBLZoomValue:break;default:console.log("Unknown zoom type")}}};e.getZoomType=function(){return p},e.setZoomType=function(e){p!=e&&(y.onZoomTypeChanged(p=e),S(k()))},e.zoomIncrease=function(){var t=function(e){var t=u.indexOf(e);return t<0?Math.min(e+.01,u[u.length-1]):t===u.length-1?u[u.length-1]:u[t+1]}(o);e.setZoom(t)},e.zoomDecrease=function(){var t=function(e){var t=u.indexOf(e);return t<0?Math.max(e-.01,u[0]):0===t?u[0]:u[t-1]}(o);e.setZoom(t)},e.getZoom=function(){return o},e.setZoom=function(e){e<.01&&(e=.01),e>64&&(e=64),p!=i.kBLZoomValue&&(p=i.kBLZoomValue,y.onZoomTypeChanged(p)),x(e,k())},e.zoomTo=function(e,t){e<.01&&(e=.01),e>64&&(e=64),p!=i.kBLZoomValue&&(p=i.kBLZoomValue,y.onZoomTypeChanged(p)),x(e,t)},e.getRotate=function(){return g},e.setRotate=function(){g=rotate,p!=i.kBLZoomValue&&S(k()),b(),y.onRotationChanged(g)},e.resizeView=function(e){m.isEqual(e)||(m=e,p!=i.kBLZoomValue&&S(k()),b())},e.resizeContent=function(e){v.isEqual(e)||(v=e,p!=i.kBLZoomValue&&S(k()),b())},e.getScroll=function(){return h};var P=function(e,t){var n=v.copy();switch(t%360){case 90:return r.default.matrix(0,e,-e,0,e*n.height,0);case 180:return r.default.matrix(-e,0,0,-e,e*n.width,e*n.height);case 270:return r.default.matrix(0,-e,e,0,0,e*n.width);default:return r.default.matrix(e,0,0,e,0,0)}};e.getTransform=function(){return P(o,g).multiply(function(){var e=h.getScrollPos();return r.default.translationMatrix(-1*e.x+l,-1*e.y+l)}())};e.mapPointToContent=function(e){return function(e){var t=P(o,g).invert();if(t){var n=e.copy(),i=h.getScrollPos(),a=r.default.point(l,l);return n.offset(i.x,i.y),n.offset(-a.x,-a.y),c(t,n)}return e}(e)};var k=function(){return r.default.rect(0,0,m.width,m.height).getCenter()};e.mapRectToContent=function(e){return function(e){var t=P(o,g).invert();if(t){var n=e.copy(),i=h.getScrollPos(),a=r.default.point(l,l);return n.offset(i.x,i.y),n.offset(-a.x,-a.y),s(t,n)}return e}(e)};e.mapQuadToContent=function(e){return function(e){var t=P(o,g).invert();if(t){var n=e.copy(),i=h.getScrollPos(),a=r.default.point(l,l);return n.offset(i.x,i.y),n.offset(-a.x,-a.y),d(t,n)}return e}(e)};e.mapPointToView=function(e){return function(e){var t=P(o,g),n=c(t,e).floor(),i=h.getScrollPos(),a=r.default.point(l,l);return n.offset(-i.x,-i.y),n.offset(a.x,a.y),n}(e)};e.mapRectToView=function(e){return function(e){var t=P(o,g),n=s(t,e).floor(),i=h.getScrollPos(),a=r.default.point(l,l);return n.offset(-i.x,-i.y),n.offset(a.x,a.y),n}(e)};e.mapQuadToView=function(e){return function(e){var t=P(o,g),n=d(t,e),i=h.getScrollPos(),a=r.default.point(l,l);return n.offset(-i.x,-i.y),n.offset(a.x,a.y),n}(e)}};return{createInstance:function(){return new p}}}]),window.mainApp.factory(a,getConstructor("bl-ocr-idrs-layout-module",a,"factory"))},"UF/7":function(e,t,n){"use strict";var r=i(n("b8L+")),o=i(n("IZAc"));function i(e){return e&&e.__esModule?e:{default:e}}n("VVVL");var a="bl-text-edit-renderer-service-module",l="bl-text-edit-renderer-service";function u(e,t){return{getPageToViewMatrix:i,getViewToPageMatrix:function(e,t){return i(e,t).invert()},getPageToDevSpaceMatrix:n,drawField:function(e,t){if(!e||!t)return;var n=t.getRect();if(n.isAreaEmpty())return;e.pushState();var r=t.getPhrases(),i=r.any(function(e){return e.isFontColorWhite()})?"FFBBBBBB":"FFFFFFFF";e.fillRect(n,o.default.createInstance(i)),r.forEach(function(t){var r=t.getFont(),o=t.getRect();e.pushState(),e.clipRect(n),e.translateCTM(o.left,o.bottom-t.getBottomOffset()),e.fillText(r.getRenderFontStr(),t.getText(),r.color),e.popState()}),e.popState()}};function n(e,t){var n=t%360,o=e.getPageBox(),i=e.getUserUnitSize();switch(n){case 90:return r.default.matrix(0,i,i,0,i*-o.bottom,i*-o.left);case 180:return r.default.matrix(-i,0,0,i,i*o.right,i*-o.bottom);case 270:return r.default.matrix(0,-i,-i,0,i*o.top,i*o.right);default:return r.default.matrix(i,0,0,-i,i*-o.left,i*o.top)}}function i(e,t){return n(e.getDocument().getPage(t),0)}}angular.module(a,["geometry-factory-module"]).service(l,u),u.$inject=["$translate","geometry-factory"],window.mainApp.service(l,getConstructor(a,l,"service"))},UKIy:function(e,t,n){"use strict";var r=i(n("b8L+")),o=i(n("oRGr"));function i(e){return e&&e.__esModule?e:{default:e}}var a="bl-ocr-idrs-scroll-factory";angular.module("bl-ocr-idrs-scroll-module",[]).factory(a,["$q","$rootScope",function(e,t){o.default.BLZoomType;var n=o.default.BLScrollType,i=o.default.BLScrollBarType,a=o.default.BLScrollEvent,l=(o.default.PAGE_HALF_MARGIN,o.default.PAGE_MARGIN),u=function(){var e=n.kScrollNone,o=r.default.point(),u=r.default.size(),c=r.default.size(),s={onScrollSizeChanged:function(e,n){t.$broadcast("idrs-scroll-size-changed",{bar:e,pos:n})},onScrollRangeChanged:function(e,n){t.$broadcast("idrs-scroll-range-changed",{bar:e,pos:n})},onScrollPositionChanged:function(e,n){t.$broadcast("idrs-scroll-position-changed",{bar:e,pos:n})},onScrollVisibilityChanged:function(e,n){t.$broadcast("idrs-scroll-visibility-changed",{bar:e,bool:n})},onScrollChanged:function(e,n){t.$broadcast("idrs-scroll-changed",{bar:e,state:n})}},d=function(){return u.copy()},f=function(){var e=c.copy();return e.width+=2*l,e.height+=2*l,e},p=function(e){var t=d(),n=f();return e==i.kBLScrollBarHorz?n.width<t.width?0:n.width-t.width:n.height<t.height?0:n.height-t.height},g=function(e){return e==i.kBLScrollBarHorz?o.x:o.y},h=function(e){var t=d();return e==i.kBLScrollBarHorz?t.width:t.height},m=function(e,t){var n=p(e);if(0==n)return!1;var r=Math.min(Math.max(t,0),n);return g(e)!=r&&(function(e,t){e==i.kBLScrollBarHorz?o.x=t:o.y=t}(e,r),v(),s.onScrollPositionChanged(e,r),!0)},v=function(){var e=function(){var e=d(),t=f();return t.width<e.width?(e.width-t.width)/2:0}(),t=function(){var e=d(),t=f();return t.width<e.width?(t.width-e.width)/2:t.width-e.width}();o.x=Math.min(Math.max(o.x,e),t);var n=function(){var e=d(),t=f();return t.height<e.height?(e.height-t.height)/2:0}(),r=function(){var e=d(),t=f();return t.height<e.height?(t.height-e.height)/2:t.height-e.height}();o.y=Math.min(Math.max(o.y,n),r)},y=function(){var t=d(),r=f();if(r.width>t.width){s.onScrollVisibilityChanged(i.kBLScrollBarHorz,!0),s.onScrollRangeChanged(i.kBLScrollBarHorz,r.width),s.onScrollSizeChanged(i.kBLScrollBarHorz,t.width),s.onScrollPositionChanged(i.kBLScrollBarHorz,o.x);var a={pos:o.x,size:t.width,range:r.width};s.onScrollChanged(i.kBLScrollBarHorz,a)}else e&n.kScrollHorz?(s.onScrollVisibilityChanged(i.kBLScrollBarHorz,!0),s.onScrollRangeChanged(i.kBLScrollBarHorz,1),s.onScrollSizeChanged(i.kBLScrollBarHorz,1),s.onScrollPositionChanged(i.kBLScrollBarHorz,0)):s.onScrollVisibilityChanged(i.kBLScrollBarHorz,!1),s.onScrollVisibilityChanged(i.kBLScrollBarHorz,!1);if(r.height>t.height){s.onScrollVisibilityChanged(i.kBLScrollBarVert,!0),s.onScrollRangeChanged(i.kBLScrollBarVert,r.height),s.onScrollSizeChanged(i.kBLScrollBarVert,t.height),s.onScrollPositionChanged(i.kBLScrollBarVert,o.y);var l={pos:o.y,size:t.height,range:r.height};s.onScrollChanged(i.kBLScrollBarVert,l)}else e&n.kScrollVert?(s.onScrollRangeChanged(i.kBLScrollBarVert,!0),s.onScrollRangeChanged(i.kBLScrollBarVert,1),s.onScrollSizeChanged(i.kBLScrollBarVert,1),s.onScrollPositionChanged(i.kBLScrollBarVert,0)):s.onScrollVisibilityChanged(i.kBLScrollBarVert,!1)};this.resizeView=function(e){u.isEqual(e)||(u=e,v(),y())},this.resizeContent=function(e){c.isEqual(e)||(c=e,v(),y())},this.events=function(){return s},this.getScrollState=function(t){if(isUndefinedOrNull(t))return e;var n=d(),r=f();return i.kBLScrollBarHorz==t?{pos:o.x,size:n.width,range:r.width}:i.kBLScrollBarVert==t?{pos:o.y,size:n.height,range:r.height}:{pos:0,size:0,range:0}},this.setScrollState=function(t){e==t&&(e=t,y())},this.getScrollPos=function(e){return isUndefinedOrNull(e)?o:g(e)},this.setScrollPos=function(e,t){isUndefinedOrNull(t)?o=e:m(e,t)},this.processScrollEvent=function(e,t,n){switch(t){case a.kBLScrollHome:m(e,0);break;case a.kBLScrollEnd:m(e,p(e));break;case a.kBLScrollStepPlus:m(e,g(e)+h(e)/10);break;case a.kBLScrollStepMinus:m(e,g(e)-h(e)/10);break;case a.kBLScrollPagePlus:m(e,g(e)+h(e));break;case a.kBLScrollPageMinus:m(e,g(e)-h(e));break;case a.kBLScrollPos:case a.kBLScrollSliderReleased:m(e,n)}}};return{createInstance:function(){return new u}}}]),window.mainApp.factory(a,getConstructor("bl-ocr-idrs-scroll-module",a,"factory"))},UmXF:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.module=void 0;var r=i(n("/jXN")),o=i(n("7t+N"));function i(e){return e&&e.__esModule?e:{default:e}}n("HEKA");var a="ui-subdirective-module",l=r.default.module(a,[]);t.module=l,l.directive("customGridScroll",["$rootScope","$window",function(e,t){return{link:function(e,t,n){(0,o.default)(t).mCustomScrollbar({axis:"yx",scrollInertia:0,left:0,setLeft:0,scrollButtons:{enable:!0},callbacks:{whileScrolling:function(){(0,o.default)("#filegrid-header-wrapper").css("left",this.mcs.left)},onOverflowYNone:function(){(0,o.default)(".header-wrapper").width((0,o.default)(".row-wrapper .rows tr:first").width()-parseInt((0,o.default)(".mCSB_container_wrapper").css("margin-right")))},onUpdate:function(){(0,o.default)("#filegrid-header-wrapper").css("left",(0,o.default)(".mCSB_container").position().left),(0,o.default)(".header-wrapper").width((0,o.default)(".row-wrapper .rows tr:first").width()),(0,o.default)(".header-wrapper th:first").width((0,o.default)(".row-wrapper .rows tr:first td:first").outerWidth()-parseInt((0,o.default)(".header-wrapper th:first").css("padding-right"))),(0,o.default)(".header-mask").width((0,o.default)(".mCSB_container_wrapper").width()),(0,o.default)(t).find(".mCSB_container").css("min-width",920)}}})}}}]),l.directive("scrollGrid",["$rootScope","$window",function(e,t){return{link:function(t,n,r){t.$watch(function(){return n.find(".active").length>0&&n.find(".active").index()},function(e,t){if(void 0!=e&&void 0!=t&&e!==t){var i=n.offset().top+parseInt((0,o.default)(n).css("padding-top")),a=parseInt((0,o.default)(".mCSB_container_wrapper").css("margin-bottom")),l=i+n.height()-a,u=n.find(".active");if(0===u.length)return!1;var c=u.offset().top,s=i-c>0,d=l-(c+u.height())<=0;if(s||d){var f=0;s?f=e*u.height():d&&(f=(e+1)*u.height()-n.height()+a),(0,o.default)(n).mCustomScrollbar("scrollTo",[f,0],{scrollInertia:parseInt(r.scrollGrid)})}}}),e.$on("event-file-grid-clicked",function(e,t){n.find(".active").removeClass("active");var r=n.find("tr")[t.index];(0,o.default)(r).addClass("active")})}}}]),l.directive("resizeGrid",["$rootScope","$window",function(e,t){return function(n,i,a){var l=r.default.element(t),u=function(){var e=(0,o.default)(".sitemenu-box.combine-files");0!==e.length&&e.innerWidth();(0,o.default)("#action-block");l=r.default.element(t);var n=(0,o.default)(l).height()-325;(0,o.default)(i).height(n-parseInt(a.resizeGrid)),(0,o.default)(".row-wrapper .rows tr:first").length>0&&((0,o.default)(".mCSB_container").position()&&(0,o.default)("#filegrid-header-wrapper").css("left",(0,o.default)(".mCSB_container").position().left),(0,o.default)(".header-wrapper").width((0,o.default)(".row-wrapper .rows tr:first").width()),(0,o.default)(".header-wrapper th:first").width((0,o.default)(".row-wrapper .rows tr:first td:first").outerWidth()-parseInt((0,o.default)(".header-wrapper th:first").css("padding-right"))),(0,o.default)(".header-mask").width((0,o.default)(".row-wrapper").outerWidth()-16))};u(),e.$on("event-sitemenu-opened",function(e,t){u()}),l.bind("resize",function(){u()})}}]),l.directive("customContentScroll",["$rootScope","$window",function(e,t){return{link:function(e,t,n){var r=void 0!==n.scrollAxis&&n.scrollAxis.length>0?n.scrollAxis:"yx",i=void 0!==n.scrollInertia&&n.scrollInertia.length>0?parseInt(n.scrollInertia):0,a=void 0!==n.childrenContainerClass&&n.childrenContainerClass.length>0?n.childrenContainerClass:"";(0,o.default)(t).mCustomScrollbar({axis:r,scrollInertia:i,scrollButtons:{enable:!0},callbacks:{onUpdate:function(){if(a.length>0){var e=t.find(".mCSB_container"),n=t.find(a);e.css("width",n.width()),e.css("min-width",n.width())}}}})}}}]),mainApp.directive("customGridScroll",getConstructor(a,"customGridScroll","directive")),mainApp.directive("resizeGrid",getConstructor(a,"resizeGrid","directive")),mainApp.directive("scrollGrid",getConstructor(a,"scrollGrid","directive")),mainApp.directive("customContentScroll",getConstructor(a,"customContentScroll","directive"))},Us48:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.module=void 0;var r=i(n("iArn")),o=i(n("C3UN"));function i(e){return e&&e.__esModule?e:{default:e}}var a=angular.module("convert-module",[]);function l(e,t){var n={convertValueToUserUnit:function(e,n){if(isUndefinedOrNull(e))return"";isUndefinedOrNull(n)&&(n=o.default.Units.millimetrs);var i=t.settings.layout.units;return r.default.convert.to(n,i,e).toFixed(2)},getUserUnitShortName:function(){var n=t.settings.layout.units;return e.instant(r.default.getUnitsName(n,!0))}};return n}t.module=a,a.factory("convert-factory",l),l.$inject=["$translate","ui-usersettings-factory"],window.mainApp.factory("convert-factory",getConstructor("convert-module","convert-factory","factory"))},VVVL:function(e,t,n){"use strict";var r=l(n("HSQo")),o=l(n("/jXN")),i=l(n("b8L+")),a=l(n("C3UN"));function l(e){return e&&e.__esModule?e:{default:e}}o.default.module("geometry-factory-module",[]).factory("geometry-factory",["$rootScope",function(e){var t=function(e,t){(0,r.default)(this,{type:{value:e,writable:!0},data:{value:t,writable:!0}})},n=function e(){var n=this,r=[],o=a.default.pdfClipRule.nonzero,l=new function(){var e=i.default.rect(),t=!0,n=function(n){t?(e=i.default.rect(n.x,n.y,n.x,n.y),t=!1):e.extend(n)};this.beginFigure=function(e){n(e)},this.endFigure=function(e){},this.endFigureClose=function(e){},this.lineTo=function(e){n(e)},this.curveTo=function(e,t,r){n(e),n(t),n(r)},this.getRectangle=function(){return e.copy()}};n.beginFigure=function(e){r.push(new t(a.default.pdfClipPath.moveTo,e?e.copy():i.default.point())),l.beginFigure(e)},n.lineTo=function(e){r.push(new t(a.default.pdfClipPath.lineTo,e?e.copy():i.default.point())),l.lineTo(e)},n.curveTo=function(e,o,u){if(isUndefinedOrNull(u)){var c=function(){var e=null;if(r.length>0){var t=r[r.length-1];t&&t.data&&(e=isArray(t.data)&&t.data.length>0?t.data[t.data.length-1]:t.data)}return e?e.copy():i.default.point()}();n.curveTo(c,e,o)}else r.push(new t(a.default.pdfClipPath.curve,[e?e.copy():i.default.point(),o?o.copy():i.default.point(),u?u.copy():i.default.point()])),l.curveTo(e,o,u)},n.conicCurveTo=function(e,t){e&&t&&n.curveTo(e,t)},n.rectangle=function(e){if(e){var t=e.copy();n.beginFigure(t.getOrigin()),n.lineTo(i.default.point(t.right,t.top)),n.lineTo(i.default.point(t.right,t.bottom)),n.lineTo(i.default.point(t.left,t.bottom)),n.endFigureClose()}},n.ellipse=function(e){if(e&&!e.isAreaEmpty()){var t=e.getOrigin(),r=.5*e.getWidth(),o=.5*e.getHeight(),a=t.x+r,l=t.y+o,u=.5522847498*r,c=.5522847498*o,s=a-u,d=l-c,f=a+u,p=l+c,g=a-r,h=l-o,m=a+r,v=l+o;n.beginFigure(i.default.point(a,v)),n.curveTo(i.default.point(s,v),i.default.point(g,p),i.default.point(g,l)),n.curveTo(i.default.point(g,d),i.default.point(s,h),i.default.point(a,h)),n.curveTo(i.default.point(f,h),i.default.point(m,d),i.default.point(m,l)),n.curveTo(i.default.point(m,p),i.default.point(f,v),i.default.point(a,v)),n.endFigureClose()}},n.endFigureClose=function(){r.push(new t(a.default.pdfClipPath.close,null)),l.endFigureClose()},n.endFigure=function(){l.endFigure()},n.getPaths=function(){return r},n.setFillRule=function(e){o=e},n.getFillRule=function(){return o},n.isEmpty=function(){return 0===r.length},n.getBound=function(e){var t=e||i.default.identityMatrix(),r=i.default.rect();return n.isEmpty()||(r=l.getRectangle()),t.mapRect(r)},n.transform=function(t){var n=function(e){var t=i.default.point(parseInt(e.x),parseInt(e.y));return t.offset(.5,.5),t};t=t||i.default.identityMatrix();for(var o=new e,l=0,u=r.length;l<u;++l){var c=r[l];if(c)switch(c.type){case a.default.pdfClipPath.moveTo:var s=c.data.copy();t&&(s=n(s=t.mapPoint(s))),o.beginFigure(s);break;case a.default.pdfClipPath.lineTo:s=c.data.copy();t&&(s=n(s=t.mapPoint(s))),o.lineTo(s);break;case a.default.pdfClipPath.curve:var d=c.data[0].copy();t&&(d=n(d=t.mapPoint(d)));var f=c.data[1].copy();t&&(f=n(f=t.mapPoint(f)));var p=c.data[2].copy();t&&(p=n(p=t.mapPoint(p))),o.curveTo(d,f,p);break;case a.default.pdfClipPath.close:o.endFigureClose()}}return o}};return{createGeometry:function(){return new n}}}]),mainApp.factory("geometry-factory",getConstructor("geometry-factory-module","geometry-factory","factory"))},W6JU:function(e,t,n){"use strict";var r=function(e){return e&&e.__esModule?e:{default:e}}(n("C3UN"));n("mC++"),n("5UMD");var o="bl-edit-compositeeditobject-item-graphics-module",i="bl-edit-compositeeditobject-item-graphics-factory";angular.module(o,["bl-edit-graphicseditobject-module","bl-edit-utilites-module"]).factory(i,["$rootScope","bl-edit-graphicseditobject-factory","bl-edit-utilites-service",function(e,t,n){var o={};return o.createCompositeEditObjectForPage=function(e,o,i){if(!e||-1==o)return null;var a=e.getPage(o).content;return a&&function e(o,i,a,l){for(var u=a.length,c=0;c<u;++c){var s=a[c];switch(s.type){case r.default.PDEElementType.kPDEElementContainer:n.shouldSkipContainer(s)||s.isVisible&&e(o,i,s.content,l);break;case r.default.PDEElementType.kPDEElementXObject:s.isVisible,l.push(t.createGraphicsEditObject(o,i,s));break;case r.default.PDEElementType.kPDEElementPath:case r.default.PDEElementType.kPDEElementInlineImage:case r.default.PDEElementType.kPDEElementShading:l.push(t.createGraphicsEditObject(o,i,s))}}}(e,o,a,i),i},o.getSelectedObjectsOnPage=function(e,t){return null},o}]),window.mainApp.factory(i,getConstructor(o,i,"factory"))},"WJ/p":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n("C3UN"));var o="images/symbol-defs-convert.svg";t.default={convertmenu:[{id:r.default.FileConvertType.Word,maintitle:"PDF to Word",title:"Convert PDF to MS Word",description:"Convert the active PDF document into a Word document.",options:[],settings:[{id:"detecttable",text:"Detect and Convert Table",selected:!1}],requiredFeature:["Convert-Paid.PdfToWord"],svg:{xlinkHref:o+"#icon-word",xlinkHrefDisabled:o+"#icon-word-disabled"},batchTitle:"Word",svgBatch:{xlinkHref:o+"#icon-formats-word"},isDocRequire:!0},{id:r.default.FileConvertType.Powerpoint,maintitle:"PDF to PowerPoint",title:"Convert PDF to MS PowerPoint",description:"Convert the active PDF document into a PowerPoint document.",options:[],settings:[{id:"detecttable",text:"Detect and Convert Table",selected:!0}],requiredFeature:["Convert-Paid.PdfToPowerPoint"],svg:{xlinkHref:o+"#icon-power-p",xlinkHrefDisabled:o+"#icon-power-p-disabled"},batchTitle:"PowerPoint",svgBatch:{xlinkHref:o+"#icon-formats-powerpoint"},isDocRequire:!0},{id:r.default.FileConvertType.Excel,maintitle:"PDF to Excel",title:"Convert PDF to MS Excel",description:"Convert the active PDF document into an Excel document.",options:{title:"Convert Settings",set:[{id:"totexttables",text:"Text and Tables",svg:{xlinkHref:o+"#icon-conversion-text-tables"},svgBatch:{xlinkHref:o+"#icon-exel-03"}},{id:"totables",text:"Tables Only",svg:{xlinkHref:o+"#icon-conversion-tables"},svgBatch:{xlinkHref:o+"#icon-exel-01"}}],sheets:[{id:!0,text:"Single Sheet"},{id:!1,text:"Separate Sheets"}]},settings:[{id:"singleOrSeparateSheets",text:"Single Sheet",selected:!0,infoTool:""}],requiredFeature:["Convert-Paid.PdfToExcel"],svg:{xlinkHref:o+"#icon-exel",xlinkHrefDisabled:o+"#icon-exel-disabled"},batchTitle:"Excel",svgBatch:{xlinkHref:o+"#icon-formats-exel"},isDocRequire:!0},{id:r.default.FileConvertType.Image,maintitle:"PDF to Image",title:"Convert PDF to Image",description:"Convert the active PDF document into an image file.",options:{title:"Select Image Format",set:[{id:"png",text:"PNG",svg:{xlinkHref:o+"#icon-formats-png"},svgBatch:{xlinkHref:o+"#icon-image-png"}},{id:"jpeg",text:"JPEG",svg:{xlinkHref:o+"#icon-formats-jpeg"},svgBatch:{xlinkHref:o+"#icon-image-jpeg"}},{id:"gif",text:"GIF",svg:{xlinkHref:o+"#icon-formats-gif"},svgBatch:{xlinkHref:o+"#icon-image-gif"}},{id:"bmp",text:"BMP",svg:{xlinkHref:o+"#icon-formats-bmp"},svgBatch:{xlinkHref:o+"#icon-image-bmp"}},{id:"tiff",text:"TIFF",svg:{xlinkHref:o+"#icon-formats-tiff"},svgBatch:{xlinkHref:o+"#icon-image-tiff"}}]},settings:[],requiredFeature:["Convert-Paid.PdfToImage"],svg:{xlinkHref:o+"#icon-image",xlinkHrefDisabled:o+"#icon-image-disabled"},batchTitle:"Image",svgBatch:{xlinkHref:o+"#icon-formats-image"},isDocRequire:!0},{id:r.default.FileConvertType.Html,maintitle:"PDF to HTML",title:"Convert PDF to HTML",description:"Convert the active PDF document into an HTML file.",options:[],settings:[],requiredFeature:"Convert-Paid.PdfToHtml",svg:{xlinkHref:o+"#icon-html",xlinkHrefDisabled:o+"#icon-html-disabled"},batchTitle:"HTML",svgBatch:{xlinkHref:o+"#icon-formats-html"},isDocRequire:!0},{id:r.default.FileConvertType.Text,maintitle:"PDF to TXT",title:"Convert PDF to TXT Document",description:"Convert the active PDF document into a text document.",options:[],settings:[{id:"convertcropped",text:"Convert Cropped Text Also",selected:!1},{id:"usedivider",text:"Use Page Divider (You can put your own divider)",selected:!1,selectedDivider:{text:"Line break",value:"\\n\\r"},dividers:[{text:"Line break",value:"\\n\\r"},{text:"Double line break",value:"\\n\\r\\n\\r"},{text:"////////////////////",value:"////////////////////"},{text:"--------------------",value:"--------------------"},{text:"1, 2, 3",value:"%1%"},{text:"-1-, -2-, -3-",value:"-%1%-"},{text:"1 of n",value:"%1% of %2%"},{text:"1/n",value:"%1%/%2%"},{text:"Page 1",value:"Page %1%"},{text:"Page 1 of n",value:"Page %1% of %2%"}]}],requiredFeature:"Convert-Paid.PdfToTxt",svg:{xlinkHref:o+"#icon-txt",xlinkHrefDisabled:o+"#icon-txt-disabled"},batchTitle:"TXT",svgBatch:{xlinkHref:o+"#icon-formats-txt"},isDocRequire:!0},{id:r.default.FileConvertType.Rtf,maintitle:"PDF to RTF",title:"Convert PDF to RTF Document",description:"Convert the active PDF document into a RTF document.",options:[],settings:[{id:"detecttable",text:"Detect and Convert Table",selected:!1}],requiredFeature:"Convert-Paid.PdfToRTF",svg:{xlinkHref:o+"#icon-rtf",xlinkHrefDisabled:o+"#icon-rtf-disabled"},batchTitle:"RTF",svgBatch:{xlinkHref:o+"#icon-formats-rtf"},isDocRequire:!0},{id:r.default.FileConvertType.Pdfa,maintitle:"PDF to PDF/A",title:"Convert PDF to PDF/A Document",description:"Convert the active PDF document into a PDF/A document.",options:{title:"Select File Format",set:[{id:"pdfa1a",text:"PDF/A-1a",svgBatch:{xlinkHref:o+"#icon-formats-pdfa-1a"}},{id:"pdfa2a",text:"PDF/A-2a",svgBatch:{xlinkHref:o+"#icon-formats-pdfa-2a"}},{id:"pdfa3a",text:"PDF/A-3a",svgBatch:{xlinkHref:o+"#icon-formats-pdfa-3a"}},{id:"pdfa2u",text:"PDF/A-2u",svgBatch:{xlinkHref:o+"#icon-formats-pdfa-2u"}},{id:"pdfa1b",text:"PDF/A-1b",svgBatch:{xlinkHref:o+"#icon-formats-pdfa-1b"}},{id:"pdfa2b",text:"PDF/A-2b",svgBatch:{xlinkHref:o+"#icon-formats-pdfa-2b"}},{id:"pdfa3b",text:"PDF/A-3b",svgBatch:{xlinkHref:o+"#icon-formats-pdfa-3b"}},{id:"pdfa3u",text:"PDF/A-3u",svgBatch:{xlinkHref:o+"#icon-formats-pdfa-3u"}}]},settings:[{id:"openafter",text:"Open PDF/A document after conversion",selected:!0}],requiredFeature:"Convert-Paid.PdfToPDFA",svg:{xlinkHref:o+"#icon-pdfa",xlinkHrefDisabled:o+"#icon-pdfa-disabled"},batchTitle:"PDF/A",svgBatch:{xlinkHref:o+"#icon-formats-pdfa"},isDocRequire:!0},{id:r.default.FileConvertType.Batch,maintitle:"Batch Convert",title:"Batch Convert",description:"Convert multiple PDF files into various formats simultaneously.",requiredFeature:"Batch.Batch",svg:{xlinkHref:o+"#icon-batch-convert",xlinkHrefDisabled:o+"#icon-batch-convert"}}]}},WpsX:function(e,t,n){"use strict";var r=l(n("C3UN")),o=l(n("b8L+")),i=l(n("VmtT")),a=l(n("iArn"));function l(e){return e&&e.__esModule?e:{default:e}}n("J2E6");var u="bl-flipper-view-factory";angular.module("bl-flipper-view-module",["bl-flipper-module"]).factory(u,["$rootScope","bl-flipper-factory",function(e,t){var n={};return n.createInstance=function(e,n,l){return new function(e,n,l){var u=this,c=e.getDocument(),s=n,d=r.default.animState.kStateNone,f=t.createInstance(e,n),p=o.default.point(),g=o.default.point(),h=o.default.size(),m=0,v=!1,y=(new Date).getTime(),b=0;u.dispose=function(){u.stopAnimationThread(),f&&f.dispose&&f.dispose()},u.resizeView=function(e){h.isEqual(e)||(h=e,u.fitFlipperInView())},u.getViewport=function(){return u.getContentSize().copy()},u.getContentSize=function(){return f.getContentSize()},u.jumpToPage=function(e){u.releasePageAndStopAnimation();var t=f.jumpToPage(e);return t&&(m=e,s.onFocusPageChanged(m),u.updateFocusPage()),f.isFirstPage()&&u.beginAutoCornerAnimation(),t},u.goToPage=function(e){u.releasePageAndStopAnimation(),m=e,s.onFocusPageChanged(m);var t=f.getExtent(),n=f.getCountToSeePage(e),i=o.default.point(t.width,t.height);if(n>0&&f.hitTestRightPullArea(i))return u.beginPull(i,o.default.point(f.isR2L()?1:-1,t.height-100),r.default.animState.kStateFlipPage,n),!0;var a=o.default.point(-t.width,t.height);return n<0&&f.hitTestLeftPullArea(a)?(u.beginPull(a,o.default.point(f.isR2L()?-1:1,t.height-100),r.default.animState.kStateFlipPage,-n),!0):(f.isFirstPage()&&u.beginAutoCornerAnimation(),!1)},u.goToPrevPage=function(){u.releasePageAndStopAnimation();var e=f.getExtent(),t=o.default.point(f.isR2L()?e.width:-e.width,e.height);return f.hitTestLeftPullArea(t)?(u.beginPull(t,o.default.point(f.isR2L()?-1:1,e.height-100),r.default.animState.kStateFlipPage),!0):(f.isFirstPage()&&u.beginAutoCornerAnimation(),!1)},u.goToNextPage=function(){u.releasePageAndStopAnimation();var e=f.getExtent(),t=o.default.point(f.isR2L()?-e.width:e.width,e.height);return f.hitTestRightPullArea(t)?(u.beginPull(t,o.default.point(f.isR2L()?1:-1,e.height-100),r.default.animState.kStateFlipPage),!0):(f.isFirstPage()&&u.beginAutoCornerAnimation(),!1)},u.getLeftPageIndex=function(){return f.getLeftPageIndex()},u.getRitePageIndex=function(){return f.getRightPageIndex()},u.getLeftPageViewRect=function(){var e=f.getLeftPageVirtualRect();return e.offset(g.x,g.y),e.round()},u.getRitePageViewRect=function(){var e=f.getRightPageVirtualRect();return e.offset(g.x,g.y),e.round()},u.getPageAtPoint=function(e){var t=f.mapPointFromView(o.default.point(e.x-g.x,e.y-g.y).floor()),n=c.getNumPages(),r=f.getLeftPageIndex();if(r>=n&&(r=-1),f.getLeftPageBounds().containsPoint(t))return r;var i=f.getRightPageIndex();return i>=n&&(i=-1),f.getRightPageBounds().containsPoint(t)?i:-1},u.mapPointToPage=function(e,t){var n=o.default.point(t.x-g.x,t.y-g.y);if(e===f.getLeftPageIndex()){var r=f.getLeftPageMatrix().invert();return r?r.mapPoint(n):o.default.point()}if(e===f.getRightPageIndex()){var i=f.getRightPageMatrix().invert();return i?i.mapPoint(n):o.default.point()}return o.default.point()},u.mapPointToDevice=function(e,t){if(e===f.getLeftPageIndex()){var n=f.getLeftPageMatrix().mapPoint(t);return n.offset(g.x,g.y),n.floor()}if(e===f.getRightPageIndex()){var r=f.getRightPageMatrix().mapPoint(t);return r.offset(g.x,g.y),r.floor()}return o.default.point()},u.mapRectToPage=function(e,t){var n=t.copy();if(n.offset(-g.x,-g.y),e===f.getLeftPageIndex()){var r=f.getLeftPageMatrix().invert();return r?r.mapRect(n):o.default.rect()}if(e===f.getRightPageIndex()){var i=f.getRightPageMatrix().invert();return i?i.mapRect(n):o.default.rect()}return o.default.rect()},u.mapRectToDevice=function(e,t){if(e===f.getLeftPageIndex()){var n=f.getLeftPageMatrix().mapRect(t);return n.offset(g.x,g.y),n.round()}if(e===f.getRightPageIndex()){var r=f.getRightPageMatrix().mapRect(t);return r.offset(g.x,g.y),r.round()}return o.default.rect()},u.setPagesRotation=function(e){u.releasePageAndStopAnimation(),f.setRotate(e),u.fitFlipperInView(),f.isFirstPage()&&u.beginAutoCornerAnimation()},u.draw=function(e,t){var n=(new Date).getTime(),r=Math.floor(n-y)/1e3;y=n,u.onAnimate(r),e.translateCTM(g.x,g.y),f.draw(e,t),e.translateCTM(-g.x,-g.y)},u.pointerPressed=function(e){d===r.default.animState.kStateRelease&&u.releasePageAndStopAnimation();var t=f.mapPointFromView(o.default.point(e.x-g.x,e.y-g.y).floor());if(d===r.default.animState.kStateNone||d===r.default.animState.kStateAutoCorner){var n=f.getExtent();if(f.hitTest(t)){var i=o.default.point();i=f.hitTestLeftPullArea(t)?o.default.point(f.isR2L()?n.width:-n.width,t.y):f.hitTestRightPullArea(t)?o.default.point(f.isR2L()?-n.width:n.width,t.y):t.x>0?o.default.point(n.width,t.y>0?n.height:-n.height):o.default.point(-n.width,t.y>0?n.height:-n.height),u.beginPull(i,t,r.default.animState.kStatePull),l(r.default.BLCursorType.kBLCursorDragHand)}}else d===r.default.animState.kStatePullCorner?(d=r.default.animState.kStatePull,l(r.default.BLCursorType.kBLCursorDragHand)):d===r.default.animState.kStateRelease&&(d=r.default.animState.kStatePull,p=f.normalizeTarget(t),l(r.default.BLCursorType.kBLCursorDragHand))},u.pointerMoved=function(e){var t=f.mapPointFromView(o.default.point(e.x-g.x,e.y-g.y).floor()),n=f.getExtent(),i=f.getPullAreaWidth(),a=f.hitTestLeftPullArea(t),c=f.hitTestRightPullArea(t);if(d===r.default.animState.kStatePull)return p=f.normalizeTarget(t),void l(r.default.BLCursorType.kBLCursorDragHand);if(d===r.default.animState.kStatePullCorner){if(!f.hitTest(t)||t.x<n.width-i&&t.x>i-n.width||t.y<n.height-i&&t.y>i-n.height)return u.endPull(),void l(r.default.BLCursorType.kBLCursorHand);p=f.normalizeTarget(t)}else if(d===r.default.animState.kStateNone||d===r.default.animState.kStateAutoCorner){if(c){var s=f.isR2L()?-n.width:n.width;t.y>n.height-i&&u.beginPull(o.default.point(s,n.height),t,r.default.animState.kStatePullCorner),t.y<i-n.height&&u.beginPull(o.default.point(s,-n.height),t,r.default.animState.kStatePullCorner)}if(a){var h=f.isR2L()?n.width:-n.width;t.y>n.height-i&&u.beginPull(o.default.point(h,n.height),t,r.default.animState.kStatePullCorner),t.y<i-n.height&&u.beginPull(o.default.point(h,-n.height),t,r.default.animState.kStatePullCorner)}}l(a||c?r.default.BLCursorType.kBLCursorLinkHand:r.default.BLCursorType.kBLCursorHand)},u.pointerReleased=function(e){var t=f.mapPointFromView(o.default.point(e.x-g.x,e.y-g.y).floor());d===r.default.animState.kStatePull&&u.endPull(),f.hitTestLeftPullArea(t)||f.hitTestRightPullArea(t)?l(r.default.BLCursorType.kBLCursorLinkHand):l(r.default.BLCursorType.kBLCursorHand)},u.updatePages=function(){u.fitFlipperInView(),f.updateBook()},u.getNumPages=function(){return c.getNumPages()},u.fitFlipperInView=function(){var e=f.getBookSize(),t=o.default.size(h.width-4,h.height-4),n=a.default.floorZoom(t.width/e.width),i=a.default.floorZoom(t.height/e.height),l=Math.min(n,i);f.setZoom(l),g.x=2+(t.width-e.width*l)/2,g.y=2+(t.height-e.height*l)/2,s.onZoomChanged(r.default.BLZoomType.kBLZoomFitPage,l)},u.beginPull=function(e,t,n,r){isUndefinedOrNull(r)&&(r=1),u.releasePageAndStopAnimation(),f.pickPage(e,r),p=f.normalizeTarget(t),d=n,u.startAnimationThread()},u.endPull=function(){if(d!==r.default.animState.kStateNone&&d!==r.default.animState.kStateRelease){var e=f.getPickPoint();e.x<0?(p.x>0?p.x=-e.x:p.x=e.x,p.y=e.y):e.x>0&&(p.x<0?p.x=-e.x:p.x=e.x,p.y=e.y),d=r.default.animState.kStateRelease}},u.releasePageAndStopAnimation=function(){if(d!==r.default.animState.kStateNone){var e=d===r.default.animState.kStateFlipPage;f.releasePage(e),d=r.default.animState.kStateNone,v||u.updateFocusPage(),v=!1,u.stopAnimationThread()}},u.beginAutoCornerAnimation=function(){if(i.default.Graphics.ViewCornerAnimation){v=!0,b=0;var e=f.getExtent(),t=f.getPullAreaWidth()/2;if(f.isR2L()){var n=o.default.point(-e.width,e.height),a=o.default.point(t-e.width,e.height-t);u.beginPull(n,a,r.default.animState.kStateAutoCorner)}else{var l=o.default.point(e.width,e.height),c=o.default.point(e.width-t,e.height-t);u.beginPull(l,c,r.default.animState.kStateAutoCorner)}}},u.updateFocusPage=function(){var e=c.getNumPages(),t=f.getLeftPageIndex(),n=f.getRightPageIndex();(t<0||t>=o.default.castFloatToInt(e))&&(t=n),(n<0||n>=o.default.castFloatToInt(e))&&(n=t);var r={startPage:o.default.castFloatToInt(t),endPage:o.default.castFloatToInt(n)};s.onVisibleRangeChanged(r),m!==t&&(m=t<0?n:t,s.onFocusPageChanged(m))},u.startAnimationThread=function(){s.onPageRenderStarted()},u.stopAnimationThread=function(){s.onPageRenderCompleted()},u.animatePullToTarget=function(e,t){var n=e*t,r=f.getPullPoint(),i=o.default.point(p.x-r.x,p.y-r.y);if(i.vecMagnitude()>n){var a=i.vecNormalized();a.x*=n,a.y*=n,f.pullTo(o.default.point(r.x+a.x,r.y+a.y))}else f.pullTo(p)},u.onAnimate=function(e){switch(d){case r.default.animState.kStateNone:f.isFirstPage()&&u.beginAutoCornerAnimation();break;case r.default.animState.kStatePull:case r.default.animState.kStatePullCorner:u.animatePullToTarget(1e5,e);break;case r.default.animState.kStateAutoCorner:(b+=e)>1&&(u.animatePullToTarget(100,e),p.isEqual(f.getPullPoint())&&u.endPull());break;case r.default.animState.kStateFlipPage:u.animatePullToTarget(5e3,e),p.isEqual(f.getPullPoint())&&u.endPull();break;case r.default.animState.kStateRelease:u.animatePullToTarget(2e3,e),p.isEqual(f.getPullPoint())&&(u.releasePageAndStopAnimation(),f.isFirstPage()&&u.beginAutoCornerAnimation())}},u.updateFocusPage()}(e,n,l)},n}]),window.mainApp.factory(u,getConstructor("bl-flipper-view-module",u,"factory"))},WtRA:function(e,t,n){"use strict";var r=u(n("C3UN")),o=u(n("b8L+")),i=u(n("IZAc")),a=u(n("kHBY")),l=u(n("eWOG"));function u(e){return e&&e.__esModule?e:{default:e}}n("Trxo");var c="bl-widget-listbox-view-factory-module",s="bl-widget-listbox-view-factory";function d(e,t,n){var u={},c=function(u,c){var s,d,f=u,p=c,g=!1,h=!1,m=i.default.createInstance("#FF000000"),v=[2];this.getPageIndex=function(){return p.getPageIndex()},this.getRect=function(){return p.getRect()},this.hitTest=function(e,t){return this.getPageIndex()==e&&this.getRect().containsPoint(t)},this.mouseDown=function(e,t){var n=S(e);if(p.getRect().containsPoint(n)){if(s&&s.mouseDown(n))h=!0;else{g=!0;var r=p.hitTestLine(n);-1!=r&&(p.setSelection(r),x())}return f.invalidate(),!0}return!1},this.mouseUp=function(e,t){if(h){h=!1;var n=S(e);s&&s.mouseUp(n)}return g&&(g=!1,d&&d(p.getSelection())),!1},this.mouseMove=function(e,t){var n=S(e);if(g){var o=p.hitTestLine(n);return-1!=o&&(p.setSelection(o),x()),f.setCursor(r.default.BLCursorType.kBLCursorLinkHand),f.invalidate(),!0}return!(!s||!s.mouseMove(n,h))||!!p.getRect().containsPoint(n)&&(f.setCursor(r.default.BLCursorType.kBLCursorLinkHand),f.invalidate(),!0)},this.mouseWheel=function(e,t){var n=S(e);return!(!p.doesNeedScroll()||!this.hitTest(p.getPageIndex(),n))&&(t<0&&b(a.default.SBCode.kSB_LINEDOWN,0),t>0&&b(a.default.SBCode.kSB_LINEUP,0),!0)},this.keyDown=function(e,t){switch(e){case r.default.kBLKey.kBLKey_LEFT:case r.default.kBLKey.kBLKey_HOME:p.selectFirst();break;case r.default.kBLKey.kBLKey_RIGHT:case r.default.kBLKey.kBLKey_END:p.selectLast();break;case r.default.kBLKey.kBLKey_UP:p.selectPrev();break;case r.default.kBLKey.kBLKey_DOWN:p.selectNext()}return x(),f.invalidate(),!0},this.keyUp=function(e,t){return!0},this.draw=function(t,r){if(t===p.getPageIndex()){var i=e.getViewToPageMatrix(f,t),a=p.getRect();r.pushState(),r.concatCTM(i),window.deviceDetect.isPhone()&&function(e,t){t&&n.drawFrame(e,o.default.quadFromRect(t),null,m,v)}(r,a),this.drawAsComboDropdownList(t,r),r.popState()}},this.drawAsComboDropdownList=function(e,t){if(e==p.getPageIndex()){var n=p.getRect(),a=p.getWidget(),u=p.getSelection(),c=i.default.createInstance(l.default.field.getBackground());t.pushState(),t.clipRect(n),t.fillRect(n,c);var d=l.default.listBox.getMargin(),f=l.default.listBox.getFontSize()*l.default.listBox.getLineHeightFactor(),g=a.options&&a.options.items?a.options.items:[];s&&(u-=s.getScrollPos());var h=t.createFontFace(l.default.field.getFontName(!0),r.default.GFontStyle.kGFontStyleRegular,l.default.listBox.getFontSize()),m=t.createFontFace(l.default.field.getFontName(!1),r.default.GFontStyle.kGFontStyleRegular,l.default.listBox.getFontSize());if(u>=0&&u<g.length){var v=i.default.createInstance(l.default.listBox.getSelectionColor()),b=g[u],x=y(L=m,b),S=o.default.point(n.left+d,n.top+d+u*f),P=o.default.size(n.getWidth()-2*d,x.height),k=o.default.rect(S.x,S.y,S.x+P.width,S.y+P.height);t.fillRect(k,v)}var T=n.left+d,w=n.top+d;s&&(w-=s.getScrollPos()*f);for(var C=i.default.createInstance("FF000000"),B=0;B<g.length;B++){var L;b=g[B],x=y(L=h,b);t.pushState(),t.translateCTM(T,w+x.height),t.fillText(L,b,C),t.popState(),w+=x.height*l.default.listBox.getLineHeightFactor()}var F=i.default.createInstance(l.default.listBox.getBorderColor());t.strokeRect(n,F,1,null),t.popState(),s&&s.draw(t)}},this.canUndo=function(){return p.canUndo()},this.canRedo=function(){return p.canRedo()},this.undo=function(){p.undo(),x(),f.invalidate()},this.redo=function(){p.redo(),x(),f.invalidate()},this.finalize=function(e){p.clearUndoRedoStack(),e&&p.commitChanges()||p.cancelChanges()},this.setOnSelectionChangedCallBack=function(e){d=e};var y=function(e,t){var n=o.default.size();return t&&(n=function e(t,n){var r=(e.calculateTextBoundCanvas||(e.calculateTextBoundCanvas=document.createElement("canvas"))).getContext("2d");r.font=t;var i=r.measureText(n);return o.default.size(i.width,parseInt(t.match(/\d+/)[0]))}(e,t)),n},b=function(e,t){var n=p.getTopLine(),r=p.getNumLines()-p.getNumVisibleLines();switch(e){case a.default.SBCode.kSB_TOP:n=0;break;case a.default.SBCode.kSB_BOTTOM:n=r;break;case a.default.SBCode.kSB_ENDSCROLL:break;case a.default.SBCode.kSB_LINEDOWN:case a.default.SBCode.kSB_PAGEDOWN:n<r&&++n;break;case a.default.SBCode.kSB_LINEUP:case a.default.SBCode.kSB_PAGEUP:n>0&&--n;break;case a.default.SBCode.kSB_THUMBPOSITION:case a.default.SBCode.kSB_THUMBTRACK:n=t}p.setTopLine(n),s&&s.setScrollPos(n),f.invalidate()},x=function(){if(!p.doesNeedScroll())return s&&s.setOnScrollCallBack(null),void(s=null);if(!s){s=t.createInstance(f);var e=1*p.getRotate(),n=p.getRect(),i=n.left_bottom(),a=o.default.rotationMatrix(o.default.degreeToRadian(e),i),l=a.invert(),u=p.getBorderStyle(),c=n.getHeight()<2*u.width||n.getWidth()<2*u.width,d=n;d.inflate(-u.width,-u.width),u.style!=r.default.PDAnnotBorderStyle.kPDAnnotBorderStyleBeveled&&u.style!=r.default.PDAnnotBorderStyle.kPDAnnotBorderStyleInset||d.inflate(-1,-1),d=a.mapRect(d);var g=12;if(c)g=0;else{var h=d.getWidth()/1.5;g>h&&(g=h)}var m=d;m.left=m.right-g,(m=l.mapRect(m)).inflate(-1,-1),s&&s.setPlacement(m,e)}s&&(s.setScrollRange(0,p.getNumLines()),s.setPageSize(p.getNumVisibleLines()),s.setScrollPos(p.getTopLine())),s.setOnScrollCallBack(null),s.setOnScrollCallBack(b),s&&s.setVisible(!0)},S=function(t){var n=f.mapPointToPage(p.getPageIndex(),t);return n=e.getPageToViewMatrix(f,p.getPageIndex()).mapPoint(n)};x()};return u.createInstance=function(e,t){return new c(e,t)},u}angular.module(c,[]).factory(s,d),d.$inject=["bl-widget-renderer-service","form-scrollbar-factory","transformer-painter-service"],window.mainApp.factory(s,getConstructor(c,s,"factory"))},X60V:function(e,t,n){"use strict";var r=a(n("b8L+")),o=a(n("C3UN")),i=a(n("IZAc"));function a(e){return e&&e.__esModule?e:{default:e}}n("TuET"),n("Ij0n");var l="bl-annotobject-factory";angular.module("bl-annotobject-module",["bl-annot-handler-module","transformer-painter-module"]).factory(l,["$rootScope","bl-annot-handler-factory","transformer-painter-service",function(e,t,n){return{createInstance:function(e,a,l){return new function(e,a,l){var u=this,c=e,s=a,d=l,f=c.document.getPage(s),p=t.createInstance(d),g=i.default.createInstance("#FF000000");u.getAnnot=function(){return d},u.getAnnotRect=function(){return d.rect},u.getAnnotType=function(){return d?d.type:null},u.getPageIndex=function(){return s},u.getAnnotIndexOnPage=function(){return f.annotations.indexOf(d)},u.hitTest=function(e){var t=!1;return p&&(t=p.hitTest(c,s,e,d)),t},u.focus=function(e){var t=d.rect;c.goToPageRect(s,t,o.default.BLRectFlags.kBLRectDontScrollVisible),p&&p.focus(c,s,d)},u.blur=function(){p&&p.blur(c,s,d)},u.mouseEnter=function(){p&&p.mouseEnter(c,s,d)},u.mouseExit=function(){p&&p.mouseExit(c,s,d)},u.mouseDown=function(e,t,n){var r=!1;return p&&(r=p.mouseDown(c,s,d,t)),r},u.mouseUp=function(e,t,n){var r=!1;return p&&(r=p.mouseUp(c,s,d,t)),r},u.keyDown=function(e){var t=!1;return p&&(t=p.keyDown(e)),t},u.keyUp=function(e){var t=!1;return p&&(t=p.keyUp(e)),t},u.drawFocus=function(e,t){window.deviceDetect.isPhone()&&u.getAnnotType()===o.default.pdfAnnotationType.widget||s!=t||n.drawFrame(e,r.default.quadFromRect(d.rect),null,g,[2])},u.getType=function(){return o.default.AnnotObjType.Annot},u.isEqual=function(e){return e.getAnnot&&u.getAnnot()===e.getAnnot()},u.getAnnotations=function(){return f.annotations}}(e,a,l)},isEqual:function(e,t){return e&&t&&e.getType()===t.getType()&&(e===t||e.isEqual&&e.isEqual(t))},isAnnotObject:function(e){return e&&e.getType()===o.default.AnnotObjType.Annot}}}]),window.mainApp.factory(l,getConstructor("bl-annotobject-module",l,"factory"))},Xh1x:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="images/symbol-defs-nav.svg",o={panels:[{id:"thumbnails",text:"Page Preview",position:"left",selected:!0,controller:"ui-sidebar-thumbnails-controller",loaded:!1,tooltip:{text:"Page Preview",description:"Click the button to navigate through the document using small pictures of each page."},svg:{xlinkHref:r+"#icon-panel-page-preview-main"}},{id:"bookmarks",text:"Bookmarks",position:"left",selected:!1,controller:"ui-sidebar-bookmarks-controller",loaded:!1,tooltip:{text:"Bookmarks",description:"Click the button to view and create the bookmarks in the document."},svg:{xlinkHref:r+"#icon-panel-bookmarks-main"}},{id:"esign",text:"E-Sign",position:"left",selected:!1,show:!1,controller:"ui-sidebar-esign-controller",loaded:!1,tooltip:{text:"E-Sign",description:"Invite other people to conveniently and securely sign documents over the web."},svg:{xlinkHref:r+"#icon-panel-e-sign-main"}},{id:"search",text:"Search document",position:"right",selected:!1,controller:"ui-sidebar-search-controller",loaded:!1,tooltip:{text:"Search",description:"Click the button to open the Search panel. Enter the search text and start the search process."},svg:{xlinkHref:r+"#icon-panel-search-main"},tabs:[{id:"search",text:"Search",disabled:0,svg:{xlinkHref:r+"#icon-search-standart",xlinkHrefDisabled:r+"#icon-search-standart"},tooltip:{text:"Standart Search",description:"Search the specific text within the current PDF file."},requiredFeature:"View.Search"},{id:"search-replace",text:"Search and Replace",disabled:1,svg:{xlinkHref:r+"#icon-search-and-replace",xlinkHrefDisabled:r+"#icon-search-and-replace"},tooltip:{text:"Search and Replace",description:"Search for specific text and replace it within your PDF file. The selected text will be replaced with the new one."},requiredFeature:"Edit.Search.Replace"},{id:"search-redact",text:"Search and Redact",disabled:1,svg:{xlinkHref:r+"#icon-search-and-redact",xlinkHrefDisabled:r+"#icon-search-and-redact"},tooltip:{text:"Search and Redact",description:"Search for and apply redactions to specific text within your PDF file. This action will permanently black out your selected text."},requiredFeature:"Secure.Search.Redaction"}]},{id:"menu",text:"Menu",position:"right",selected:!1,loaded:!1,parent:!0,tooltip:{text:"Menu",description:""},svg:{xlinkHref:r+"#icon-panel-menu-main"}},{id:"properties",text:"Properties",position:"right",selected:!0,controller:"ui-sidebar-properties-controller",loaded:!1,hidden:!0,tooltip:{text:"Properties",description:"Set properties for document elements with the help of the Properties panel."},svg:{xlinkHref:r+"#icon-panel-properties-main"}},{id:"links",text:"Links",position:"right",selected:!0,child:"menu",controller:"ui-sidebar-links-controller",loaded:!1,tooltip:{text:"Links",description:"Click the button to view the links available in the current document."},svg:{xlinkHref:r+"#icon-panel-links-main"}},{id:"attachments",text:"Attachments",position:"right",selected:!1,child:"menu",controller:"ui-sidebar-attachments-controller",loaded:!1,tooltip:{text:"Attachments",description:"Click the button to view attachments available in the current document."},svg:{xlinkHref:r+"#icon-panel-attachments-main"}},{id:"comments",text:"Comments",position:"right",selected:!1,child:"menu",controller:"ui-sidebar-comments-controller",loaded:!1,tooltip:{text:"Comments",description:"Click the button to open the Comments list panel and view the comments available in the current document."},svg:{xlinkHref:r+"#icon-panel-comments-main"}},{id:"layers",text:"Layers",position:"right",selected:!1,child:"menu",controller:"ui-sidebar-layers-controller",loaded:!1,tooltip:{text:"Layers",description:"Click the button to view the layers available in the current document."},svg:{xlinkHref:r+"#icon-panel-layers-main"}}]};t.default=o},"Y+IQ":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.module=void 0;var r=i(n("fZjL")),o=i(n("/jXN"));function i(e){return e&&e.__esModule?e:{default:e}}n("v1Sv");var a=n("6ltY"),l=o.default.module("stat-package-factory-module",[]);function u(e,t,n){var o=function(e){var t=e||[],n=["1.0","UTF-16"],r=function(e){!function(e,t,n){if(!isUndefinedOrNull(e)&&!isUndefinedOrNull(e.attributes))for(var r=0;r<e.attributes.length;r++){var o=e.attributes[r];o.specified&&t.indexOf(o.name)<0&&n.push(o.value)}}(e,t,n)};this.traverse=function(e){!function e(t,n){for(n(t),t=t.firstChild;t;)e(t,n),t=t.nextSibling}(e,r)},this.getHash=function(){for(var e=(n=n.sort()).join(","),t=0,r=0,o=e.length;r<o;r++)t=(t^e[r].charCodeAt(0)+2654435769+(t<<6>>>0)+(t>>>2>>>0))>>>0;return t}},i=function(){var e=document.implementation.createDocument(null,null,null),t=function(){var e=-(new Date).getTimezoneOffset(),t=(e<0?"-":"+")+("0"+Math.floor(Math.abs(e)/60)).slice(-2)+":"+("0"+Math.abs(e)%60).slice(-2),n=""+(a.os.architecture||32),r=a.os?a.os.toString():"",o=window.navigator.userLanguage||window.navigator.language;return{language:o=o?o.split("-")[0]:"en",shiftTimeZone:t,OSBit:n,OSVerShort:r,autoGenerated:"true",machineID:function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-000000000000"}(),motherboardID:"000000000000000",physicalMAC:"00:00:00:00:00:00"}},i=function(){var o=function(){var e=n.get("systemInfo");return(isUndefinedOrNull(e)||0===(0,r.default)(e).length&&e.constructor===Object)&&(e=t())&&n.set("systemInfo",e),e}();if(!isUndefinedOrNull(o)){var i=e.querySelector("package");if(i){var a=e.createElement("system");a&&(i.appendChild(a),a.setAttribute("language",o.language),a.setAttribute("shiftTimeZone",o.shiftTimeZone),a.setAttribute("OSBit",o.OSBit),o.OSVerShort&&a.setAttribute("OSVerShort",o.OSVerShort),a.setAttribute("autoGenerated",o.autoGenerated),a.setAttribute("machineID",o.machineID))}}},l=function(){var t=e.querySelector("package");if(t){var n=new o(["hash"]);n.traverse(t);var r=n.getHash();t.setAttribute("hash",r)}};!function(){var t=e.createElement("package");t&&(e.appendChild(t),t.setAttribute("ver",1),t.setAttribute("hash","0"))}(),i(),l(),this.addApplicationData=function(t){var n=e.querySelector("package");if(n){var r=(new DOMParser).parseFromString(t,"text/xml");if(r&&r.children)for(;r.firstChild;)n.appendChild(r.firstChild);l()}},this.addActivatedModules=function(t){var n=e.querySelector("package > modules");if(isUndefinedOrNull(n)){var r=e.querySelector("package");if(isUndefinedOrNull(r))return;n=e.createElement("modules"),r.appendChild(n)}if(n){var o="<activated>"+t+"</activated>",i=(new DOMParser).parseFromString(o,"text/xml");if(i&&i.firstChild){var a=i.firstChild;n.appendChild(a)}}l()},this.buildString=function(){return'<?xml version="1.0" encoding="UTF-16"?>'+(new XMLSerializer).serializeToString(e)}};return{createInstance:function(){return new i}}}t.module=l,l.factory("stat-package-factory",u),u.$inject=["$rootScope","$q","localStorageService"],mainApp.factory("stat-package-factory",getConstructor("stat-package-factory-module","stat-package-factory","factory"))},ZqXQ:function(e,t,n){"use strict";var r=function(e){return e&&e.__esModule?e:{default:e}}(n("b8L+"));n("5UMD");var o="bl-edit-editobject-factory";angular.module("bl-edit-editobject-module",["bl-edit-utilites-module"]).factory(o,["$rootScope","bl-edit-utilites-service",function(e,t){var n={};return n.createInstance=function(e,n){return new function(e,n){var o=this,i=e,a=n,l=i.getPage(a),u=null;o.getDoc=function(){return i},o.getPageIndex=function(){return a},o.isEqual=function(e){return!!e&&e.getObjectType()==o.getObjectType()&&e.getDoc()==i&&e.getPageIndex()==a&&o.compareInternals(e)},o.getBounds=function(){var e=o.getCTM(),t=o.getObjectSpaceRect();return e.mapQuad(r.default.quadFromRect(t))},o.setEditCTM=function(e){return(u=t.correctCTMToRespectPageBox(l.getCropBox(),o.getObjectSpaceRect(),e))!=e},o.getEditBounds=function(){var e=o.getObjectSpaceRect();return u.mapQuad(r.default.quadFromRect(e))}}(e,n)},n}]),window.mainApp.factory(o,getConstructor("bl-edit-editobject-module",o,"factory"))},aqxP:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n("HSQo"));t.default={createSnapInfo:function(e,t,n){return new function(e,t,n){var o=e,i=t,a=n;(0,r.default)(this,{guides:{get:function(){return saveSlice(o)}},distances:{get:function(){return saveSlice(i)}},scales:{get:function(){return saveSlice(a)}}})}(e,t,n)}}},"b8L+":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n("HSQo"));var o=parseFloat("1.192092896e-07F"),i=function(e){return e-e%1},a=function(e,t){return e>=t-1e-4&&e<=t+1e-4},l=function(e,t,n,r){var o=(t.x-e.x)*(r.y-n.y)-(r.x-n.x)*(t.y-e.y);if(0===o)return!1;var i=((r.x-n.x)*(e.y-n.y)-(e.x-n.x)*(r.y-n.y))/o;if(i<0||i>1)return!1;var a=((t.x-e.x)*(e.y-n.y)-(e.x-n.x)*(t.y-e.y))/o;return!(a<0||a>1)},u=function(e,t,n){return!(!n.containsPoint(e)&&!n.containsPoint(t))||(!!l(e,t,n.left_top(),n.right_top())||(!!l(e,t,n.right_top(),n.right_bottom())||(!!l(e,t,n.right_bottom(),n.left_bottom())||!!l(e,t,n.left_bottom(),n.left_top()))))},c=function(e,t){(0,r.default)(this,{width:{value:e,writable:!0,enumerable:!0},height:{value:t,writable:!0,enumerable:!0}})};c.prototype.isAreaEmpty=function(){return 0==this.width||0==this.height},c.prototype.copy=function(){return new c(this.width,this.height)},c.prototype.isEqual=function(e){return e&&this.width==e.width&&this.height==e.height},c.prototype.isEmpty=function(){return 0===this.width&&0===this.height},c.prototype.floor=function(){return new c(i(this.width),i(this.height))},c.prototype.round=function(){return new c(i(Math.ceil(this.width)),i(Math.ceil(this.height)))};var s=function(e,t){(0,r.default)(this,{x:{value:e,writable:!0,enumerable:!0},y:{value:t,writable:!0,enumerable:!0}})},d=function(e,t){var n=t.x-e.x,r=t.y-e.y;return n*n+r*r},f=function(e,t){return Math.sqrt(d(e,t))},p=function(e,t){return new s(e.x+(t.x-e.x)/2,e.y+(t.y-e.y)/2)},g=function(e,t){return e.x*t.x+e.y*t.y};s.prototype.floor=function(){return new s(i(this.x),i(this.y))},s.prototype.offset=function(e,t){this.x+=e,this.y+=t},s.prototype.isEqual=function(e){return e&&this.x==e.x&&this.y==e.y},s.prototype.vecMagnitude=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},s.prototype.vecNormalized=function(){var e=this.vecMagnitude();return a(e,0)?this.copy():new s(this.x/e,this.y/e)},s.prototype.vecNormal=function(){return new s(-this.y,this.x)},s.prototype.copy=function(){return new s(this.x,this.y)},s.prototype.distanceToEdge=function(e,t){var n=this,r=d(e,t);if(0===r)return f(n,e);var o=g(new s(n.x-e.x,n.y-e.y),new s(t.y-e.y,t.y-e.y))/r;return f(n,o<0?e:o>1?t:new s(e.x+o*(t.x-e.x),e.y+o*(t.y-e.y)))};var h=function(e,t,n,o){(0,r.default)(this,{left:{value:e,writable:!0,enumerable:!0},top:{value:t,writable:!0,enumerable:!0},right:{value:n,writable:!0,enumerable:!0},bottom:{value:o,writable:!0,enumerable:!0},width:{get:function(){return this.getWidth()}},height:{get:function(){return this.getHeight()}}})};h.prototype.getOrigin=function(){return new s(this.min_x(),this.min_y())},h.prototype.floor=function(){return new h(i(this.min_x()),i(this.min_y()),i(this.max_x()),i(this.max_y()))},h.prototype.round=function(){return new h(Math.round(this.min_x()),Math.round(this.min_y()),Math.round(this.max_x()),Math.round(this.max_y()))},h.prototype.offset=function(e,t){this.left+=e,this.top+=t,this.right+=e,this.bottom+=t},h.prototype.inflate=function(e,t){this.left-=e,this.top-=t,this.right+=e,this.bottom+=t},h.prototype.stretch=function(e,t){this.right=this.left+e,this.bottom=this.top-t},h.prototype.extend=function(e){this.left=Math.min(this.left,e.x),this.top=Math.min(this.top,e.y),this.right=Math.max(this.right,e.x),this.bottom=Math.max(this.bottom,e.y)},h.prototype.sort=function(){if(this.left>this.right){var e=this.right;this.right=this.left,this.left=e}if(this.top>this.bottom){var t=this.bottom;this.bottom=this.top,this.top=t}},h.prototype.min_x=function(){return Math.min(this.left,this.right)},h.prototype.max_x=function(){return Math.max(this.left,this.right)},h.prototype.min_y=function(){return Math.min(this.top,this.bottom)},h.prototype.max_y=function(){return Math.max(this.top,this.bottom)},h.prototype.left_top=function(){return new s(this.left,this.top)},h.prototype.left_bottom=function(){return new s(this.left,this.bottom)},h.prototype.right_top=function(){return new s(this.right,this.top)},h.prototype.right_bottom=function(){return new s(this.right,this.bottom)},h.prototype.getWidth=function(){return this.max_x()-this.min_x()},h.prototype.getHeight=function(){return this.max_y()-this.min_y()},h.prototype.getSize=function(){return new c(this.getWidth(),this.getHeight())},h.prototype.containsPoint=function(e){return e.x>=this.min_x()&&e.x<=this.max_x()&&e.y>=this.min_y()&&e.y<=this.max_y()},h.prototype.containsRect=function(e){return this.min_x()<=e.min_x()&&this.max_x()>=e.max_x()&&this.min_y()<=e.min_y()&&this.max_y()>=e.max_y()},h.prototype.hasIntersection=function(e){return this.min_x()<e.max_x()&&this.min_y()<e.max_y()&&this.max_x()>e.min_x()&&this.max_y()>e.min_y()},h.prototype.isAreaEmpty=function(){return this.left==this.right||this.top==this.bottom},h.prototype.getCenter=function(){return new s(this.min_x()+this.getWidth()/2,this.min_y()+this.getHeight()/2)},h.prototype.getArea=function(){return this.getWidth()*this.getHeight()},h.prototype.isEqual=function(e){return this.min_x()==e.min_x()&&this.max_x()==e.max_x()&&this.min_y()==e.min_y()&&this.max_y()==e.max_y()},h.prototype.asArray=function(){return[this.left,this.top,this.right,this.bottom]},h.prototype.copy=function(){return new h(this.left,this.top,this.right,this.bottom)};var m=function(e,t,n,o){(0,r.default)(this,{tl:{value:e,writable:!0,enumerable:!0},tr:{value:t,writable:!0,enumerable:!0},bl:{value:n,writable:!0,enumerable:!0},br:{value:o,writable:!0,enumerable:!0}})};m.prototype.top_left=function(){return this.tl.copy()},m.prototype.top_right=function(){return this.tr.copy()},m.prototype.bottom_left=function(){return this.bl.copy()},m.prototype.bottom_right=function(){return this.br.copy()},m.prototype.top_center=function(){return p(this.tl,this.tr)},m.prototype.center_left=function(){return p(this.tl,this.bl)},m.prototype.bottom_center=function(){return p(this.bl,this.br)},m.prototype.center_right=function(){return p(this.br,this.tr)},m.prototype.getCenter=function(){return p(p(this.tl,this.br),p(this.tr,this.bl))},m.prototype.getBound=function(){var e=[];e[0]=this.tl,e[1]=this.tr,e[2]=this.bl,e[3]=this.br;for(var t={left:e[0].x,top:e[0].y,right:e[0].x,bottom:e[0].y},n=1;n<4;++n)t.left=Math.min(t.left,e[n].x),t.top=Math.min(t.top,e[n].y),t.right=Math.max(t.right,e[n].x),t.bottom=Math.max(t.bottom,e[n].y);return new h(t.left,t.top,t.right,t.bottom)},m.prototype.containsPoint=function(e){if(!this.getBound().containsPoint(e))return!1;if(e.isEqual(this.tl)||e.isEqual(this.tr)||e.isEqual(this.bl)||e.isEqual(this.br))return!0;if(a(0,e.distanceToEdge(this.tl,this.tr)))return!0;if(a(0,e.distanceToEdge(this.tr,this.br)))return!0;if(a(0,e.distanceToEdge(this.br,this.bl)))return!0;if(a(0,e.distanceToEdge(this.bl,this.tl)))return!0;var t=!1;return this.tl.y>e.y!=this.tr.y>e.y&&e.x<(this.tr.x-this.tl.x)*(e.y-this.tl.y)/(this.tr.y-this.tl.y)+this.tl.x&&(t=!t),this.tr.y>e.y!=this.br.y>e.y&&e.x<(this.br.x-this.tr.x)*(e.y-this.tr.y)/(this.br.y-this.tr.y)+this.tr.x&&(t=!t),this.br.y>e.y!=this.bl.y>e.y&&e.x<(this.bl.x-this.br.x)*(e.y-this.br.y)/(this.bl.y-this.br.y)+this.br.x&&(t=!t),this.bl.y>e.y!=this.tl.y>e.y&&e.x<(this.tl.x-this.bl.x)*(e.y-this.bl.y)/(this.tl.y-this.bl.y)+this.bl.x&&(t=!t),t},m.prototype.hasIntersectionRect=function(e){return!!(e.containsPoint(this.tl)||e.containsPoint(this.tr)||e.containsPoint(this.bl)||e.containsPoint(this.br))||(!!u(this.tl,this.tr,e)||(!!u(this.tr,this.br,e)||(!!u(this.br,this.bl,e)||!!u(this.bl,this.tl,e))))},m.prototype.hasIntersectionQuad=function(e){return!!(this.containsPoint(e.tl)||this.containsPoint(e.tr)||this.containsPoint(e.br)||this.containsPoint(e.bl))||(!!(e.containsPoint(this.tl)||e.containsPoint(this.tr)||e.containsPoint(this.br)||e.containsPoint(this.bl))||(!!(l(this.tl,this.tr,e.tl,e.tr)||l(this.tl,this.tr,e.tr,e.br)||l(this.tl,this.tr,e.br,e.bl)||l(this.tl,this.tr,e.bl,e.tl))||(!!(l(this.tr,this.br,e.tl,e.tr)||l(this.tr,this.br,e.tr,e.br)||l(this.tr,this.br,e.br,e.bl)||l(this.tr,this.br,e.bl,e.tl))||(!!(l(this.br,this.bl,e.tl,e.tr)||l(this.br,this.bl,e.tr,e.br)||l(this.br,this.bl,e.br,e.bl)||l(this.br,this.bl,e.bl,e.tl))||!!(l(this.bl,this.tl,e.tl,e.tr)||l(this.bl,this.tl,e.tr,e.br)||l(this.bl,this.tl,e.br,e.bl)||l(this.bl,this.tl,e.bl,e.tl))))))},m.prototype.offset=function(e,t){this.tl.x+=e,this.tl.y+=t,this.tr.x+=e,this.tr.y+=t,this.bl.x+=e,this.bl.y+=t,this.br.x+=e,this.br.y+=t},m.prototype.isRect=function(){var e=new h(this.tl.x,this.tl.y,this.br.x,this.br.y);e.sort();var t=new h(this.tr.x,this.tr.y,this.bl.x,this.bl.y);return t.sort(),e.isEqual(t)},m.prototype.isEqual=function(e){return this==e||this.tl.x==e.tl.x&&this.tr.x==e.tr.x&&this.bl.x==e.bl.x&&this.br.x==e.br.x&&this.tl.y==e.tl.y&&this.tr.y==e.tr.y&&this.bl.y==e.bl.y&&this.br.y==e.br.y},m.prototype.copy=function(){return new m(this.tl,this.tr,this.bl,this.br)};var v=function(e,t,n,o,i,a){(0,r.default)(this,{a:{value:e,enumerable:!0,writable:!0},b:{value:t,enumerable:!0,writable:!0},c:{value:n,enumerable:!0,writable:!0},d:{value:o,enumerable:!0,writable:!0},e:{value:i,enumerable:!0,writable:!0},f:{value:a,enumerable:!0,writable:!0}})};v.prototype.determinant=function(){return this.a*this.d-this.b*this.c},v.prototype.invert=function(){var e=this.determinant();if(e>-o&&e<o)return null;var t=1/e,n=this.d*t,r=-this.b*t,i=-this.c*t,a=this.a*t,l=this.f*(this.c*t)-this.e*(this.d*t),u=this.e*(this.b*t)-this.f*(this.a*t);return new v(n,r,i,a,l,u)},v.prototype.mapPoint=function(e){var t=e.x,n=e.y;return new s(this.a*t+this.c*n+this.e,this.b*t+this.d*n+this.f)},v.prototype.mapRect=function(e){var t=[];t[0]=this.mapPoint({x:e.left,y:e.top}),t[1]=this.mapPoint({x:e.right,y:e.top}),t[2]=this.mapPoint({x:e.right,y:e.bottom}),t[3]=this.mapPoint({x:e.left,y:e.bottom});for(var n={left:t[0].x,top:t[0].y,right:t[0].x,bottom:t[0].y},r=1;r<4;++r)n.left=Math.min(n.left,t[r].x),n.top=Math.min(n.top,t[r].y),n.right=Math.max(n.right,t[r].x),n.bottom=Math.max(n.bottom,t[r].y);return new h(n.left,n.top,n.right,n.bottom)},v.prototype.mapSize=function(e){return new c(this.a*e.width+this.c*e.height,this.b*e.width+this.d*e.height)},v.prototype.mapQuad=function(e){return new m(this.mapPoint(e.top_left()),this.mapPoint(e.top_right()),this.mapPoint(e.bottom_left()),this.mapPoint(e.bottom_right()))},v.prototype.multiply=function(e){var t=this.a*e.a+this.b*e.c,n=this.a*e.b+this.b*e.d,r=this.c*e.a+this.d*e.c,o=this.c*e.b+this.d*e.d,i=this.e*e.a+this.f*e.c+e.e,a=this.e*e.b+this.f*e.d+e.f;return new v(t,n,r,o,i,a)},v.prototype.copy=function(){return new v(this.a,this.b,this.c,this.d,this.e,this.f)},v.prototype.isEqual=function(e){return e&&this.a==e.a&&this.b==e.b&&this.c==e.c&&this.d==e.d&&this.e==e.e&&this.f==e.f},t.default={FLT_EPSILON:o,radianToDegree:function(e){return parseFloat(e)*(180/Math.PI)},degreeToRadian:function(e){return parseFloat(e)*(Math.PI/180)},floatLt:function(e,t){return function(e,t){return e<t+1e-4}(e,t)},floatGt:function(e,t){return function(e,t){return e>t+1e-4}(e,t)},floatEq:function(e,t){return a(e,t)},size:function(e,t){return isUndefinedOrNull(e)&&(e=0),isUndefinedOrNull(t)&&(t=0),new c(e,t)},point:function(e,t){return isUndefinedOrNull(e)&&(e=0),isUndefinedOrNull(t)&&(t=0),new s(e,t)},pointsSquareDistance:function(e,t){return d(e,t)},pointsDistance:function(e,t){return f(e,t)},pointsCenter:function(e,t){return p(e,t)},vecDotProduct:function(e,t){return g(e,t)},vecAngleBetween:function(e,t){return function(e,t){var n=Math.atan2(e.y,e.x);return Math.atan2(t.y,t.x)-n}(e,t)},rect:function(e,t,n,r){return isUndefinedOrNull(e)&&(e=0),isUndefinedOrNull(t)&&(t=0),isUndefinedOrNull(n)&&(n=0),isUndefinedOrNull(r)&&(r=0),new h(e,t,n,r)},shapeRect:function(e){if(!isArray(e))throw new Error("ArgumentTypeError: argument must be of array type");var t=e.length;if(t<=0)throw new Error("ArgumentOutOfRange: argument must have at least one element");for(var n=e[0].x,r=e[0].y,o=e[0].x,i=e[0].y,a=1;a<t;++a)n=Math.min(n,e[a].x),r=Math.min(r,e[a].y),o=Math.max(o,e[a].x),i=Math.max(i,e[a].y);return new h(n,r,o,i)},quad:function(){return new m(new s(0,0),new s(0,0),new s(0,0),new s(0,0))},quadFromRect:function(e){isUndefinedOrNull(e)&&(e=new h(0,0,0,0));var t=new s(e.left,e.top),n=new s(e.right,e.top),r=new s(e.left,e.bottom),o=new s(e.right,e.bottom);return new m(t,n,r,o)},quadFromPoints:function(e,t,n,r){return new m(e,t,n,r)},intersectRects:function(e,t,n){if(!e.hasIntersection(t))return new h(0,0,0,0);if(!n&&e.isAreaEmpty())return e;if(!n&&t.isAreaEmpty())return t;var r=e.copy();return r.left=Math.max(e.min_x(),t.min_x()),r.top=Math.max(e.min_y(),t.min_y()),r.right=Math.min(e.max_x(),t.max_x()),r.bottom=Math.min(e.max_y(),t.max_y()),r},isRectsOnSameLine:function(e,t,n){return Math.abs(e.top-t.top)<n&&Math.abs(e.bottom-t.bottom)<n&&e.left<t.left&&e.right<t.right},unionRects:function(e,t){return new h(Math.min(e.min_x(),t.min_x()),Math.min(e.min_y(),t.min_y()),Math.max(e.max_x(),t.max_x()),Math.max(e.max_y(),t.max_y()))},cloneRect:function(e){return e.copy()},identityMatrix:function(){return new v(1,0,0,1,0,0)},matrix:function(e,t,n,r,o,i){return isUndefinedOrNull(e)&&isUndefinedOrNull(t)&&isUndefinedOrNull(n)&&isUndefinedOrNull(r)&&isUndefinedOrNull(o)&&isUndefinedOrNull(i)?new v(1,0,0,1,0,0):new v(e,t,n,r,o,i)},rotationMatrix:function(e,t){var n=Math.sin(e),r=Math.cos(e),o=0,i=0;return isUndefinedOrNull(t)||(o=t.x*(1-r)+t.y*n,i=t.y*(1-r)-t.x*n),new v(r,n,-n,r,o,i)},translationMatrix:function(e,t){return new v(1,0,0,1,e,t)},scalingMatrix:function(e,t,n){var r=0,o=0;return isUndefinedOrNull(n)||(r=n.x,o=n.y),new v(e,0,0,t,(1-e)*r,(1-t)*o)},reflectXMatrix:function(){return new v(-1,0,0,1,0,0)},reflectYMatrix:function(){return new v(1,0,0,-1,0,0)},castFloatToInt:function(e){return i(e)},circleContainsPoint:function(e,t,n){var r=new s(e.x-t.x,e.y-t.y);return n*n>=r.x*r.x+r.y*r.y},adjustRect:function(e){if(!e)return e;var t=new h(0,0,0,0);return t.left=i(Math.floor(e.min_x())),t.top=i(Math.floor(e.min_y())),t.right=i(Math.ceil(e.max_x())),t.bottom=i(Math.ceil(e.max_y())),t},copySign:function(e,t){return t<0?-Math.abs(e):Math.abs(e)}}},bOdI:function(e,t,n){"use strict";t.__esModule=!0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n("C4MV"));t.default=function(e,t,n){return t in e?(0,r.default)(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},bcZM:function(e,t,n){"use strict";var r=c(n("HSQo")),o=c(n("C3UN")),i=c(n("b8L+")),a=c(n("VmtT")),l=c(n("IZAc")),u=c(n("Jrzz"));function c(e){return e&&e.__esModule?e:{default:e}}n("ibtX"),n("iMU4"),n("Ij0n"),n("F1Q0"),n("v1ab");var s="bl-edit-polylineannoteditselection-module",d="bl-edit-polylineannoteditselection-factory";angular.module(s,["bl-edit-baseannoteditselection-module","bl-edit-polylineannoteditobject-module","transformer-painter-module","bl-edit-module","bl-object-properties-module","pdf-manager-module"]).factory(d,["$rootScope","bl-edit-baseannoteditselection-factory","bl-edit-polylineannoteditobject-factory","transformer-painter-service","bl-edit-service","bl-object-properties-factory","pdf-manager-factory",function(e,t,n,c,s,d,f){var p=a.default.LookAndFeel.AnnotTransformerFrameColor,g=a.default.LookAndFeel.SnapLinesColor,h=l.default.createInstance("#FFFFFFFF");return{createInstance:function(){var e=t.createInstance();return e.draw=function(t,r){var l=e.AnnotEditObject_;if(l&&r==l.getPageIndex()){var s=null;if(l.getOperation()==n.TransformType.kTransformNone)s=i.default.quadFromRect(l.getRect());else{if(l.getOperation()!==n.TransformType.kTransformMovePoint){var d=i.default.quadFromRect(l.getRect());c.drawFrame(t,d,null,p,[10])}if(s=l.getOperationBounds(),l.getOperation()!==n.TransformType.kTransformMovePoint){var f=i.default.quadFromRect(s.getBound());c.drawFrame(t,f,null,g)}var m=l.getSnapInfo();m&&c.drawSnapInfo(t,m,g),function(e,t,n,r){if(e&&window.isArray(t)){for(var i=0;i<t.length-1;i++){var a=u.default.verticeToPoint(t[i]),l=u.default.verticeToPoint(t[i+1]);e.strokeLine(a,l,n,0)}if(r===o.default.pdfAnnotationType.polygon){var c=u.default.verticeToPoint(t.first()),s=u.default.verticeToPoint(t.last());e.strokeLine(c,s,n,0)}}}(t,l.getMovedVertices(),p,l.getAnnotSubtype()),function(e,t,n,r,i){if(r!==u.default.invalidIndex&&e&&window.isArray(t)){var a=u.default.verticeToPoint(t[r]);if(a){var l=void 0,c=void 0;r===t.length-1?(c=u.default.verticeToPoint(t[r-1]),i===o.default.pdfAnnotationType.polygon&&(l=u.default.verticeToPoint(t.first()))):0===r?(c=u.default.verticeToPoint(t[r+1]),i===o.default.pdfAnnotationType.polygon&&(l=u.default.verticeToPoint(t.last()))):(l=u.default.verticeToPoint(t[r-1]),c=u.default.verticeToPoint(t[r+1])),l&&e.strokeLine(l,a,n,0),c&&e.strokeLine(c,a,n,0)}}}(t,l.getVertices(),p,l.getMovedVertexIndex(),l.getAnnotSubtype())}l.getOperation()!==n.TransformType.kTransformMovePoint&&c.drawFrame(t,s,null,p);var v=a.default.LookAndFeel.TransformerAnchorRadius;if(l.getOperation()!==n.TransformType.kTransformNone){var y=s.getCenter(),b=a.default.LookAndFeel.TransformerOriginRadius;switch(l.getOperation()){case n.TransformType.kTransformMove:break;case n.TransformType.kTransformRotate:case n.TransformType.kTransformScale:c.drawOrigin(t,h,p,y,v,b)}}else{if(l.hasAnyCurrentEditMode(o.default.EditModes.Resize|o.default.EditModes.Rotate)&&c.drawMarker(t,h,p,s.top_left(),v),l.hasAnyCurrentEditMode(o.default.EditModes.Move|o.default.EditModes.Resize|o.default.EditModes.Rotate))if(window.deviceDetect.isPhone()){var x={fillColor:"#3688dc",anchorRadius:v+5,shadow:!0,font:"19px icomoon",textColor:"#ffffff",textOffsetX:-9,textOffsetY:8};l.hasAnyCurrentEditMode(o.default.EditModes.Move)?x.text="":l.hasAnyCurrentEditMode(o.default.EditModes.Resize)?x.text="":l.hasAnyCurrentEditMode(o.default.EditModes.Rotate)&&(x.text=""),c.drawMarker(t,x.fillColor,p,s.top_right(),x.anchorRadius,x)}else c.drawMarker(t,h,p,s.top_right(),v);l.hasAnyCurrentEditMode(o.default.EditModes.Resize|o.default.EditModes.Rotate)&&c.drawMarker(t,h,p,s.bottom_right(),v),l.hasAnyCurrentEditMode(o.default.EditModes.Resize|o.default.EditModes.Rotate)&&c.drawMarker(t,h,p,s.bottom_left(),v);var S=t.getCTM().mapQuad(s),P=a.default.LookAndFeel.TransformerScaleZoneRadius;i.default.pointsDistance(S.center_right(),S.center_left())>=3*P&&l.hasAnyCurrentEditMode(o.default.EditModes.Resize)&&(c.drawMarker(t,h,p,s.top_center(),v),c.drawMarker(t,h,p,s.bottom_center(),v)),i.default.pointsDistance(S.top_center(),S.bottom_center())>=3*P&&l.hasAnyCurrentEditMode(o.default.EditModes.Resize)&&(c.drawMarker(t,h,p,s.center_right(),v),c.drawMarker(t,h,p,s.center_left(),v)),l.hasAnyCurrentEditMode(o.default.EditModes.MovePoint)&&function(e,t,n,r,o){if(window.isArray(t))for(var i=0;i<t.length;i++)c.drawMarker(e,n,r,u.default.verticeToPoint(t[i]),o)}(t,l.getVertices(),h,p,v)}}},e.getProperties=function(){var t=this.getSelectionData().getAnnot(),n=this.getSelectionData().getAnnotSubtype(),i=d.createMainGroup(function(n){return f.changeAnnotationProperties(e.DocumentView_.getDocument(),t,e.AnnotEditObject_.getPageIndex(),n)}),a={flags:t.flags,getFullPropData:function(){return this.flags}};return(0,r.default)(a,{locked:{get:function(){return 0!=(this.flags&o.default.pdfAnnotationFlag.Locked)},set:function(e){e?this.flags|=o.default.pdfAnnotationFlag.Locked:this.flags&=~o.default.pdfAnnotationFlag.Locked}}}),function(){var e=t.type,n=d.createPropValue(e,"T"),r=d.createProperty(o.default.objectPropertyType.textlabel,n,"Type"),l=d.createSubGroup("Type",[r]);if(i.addToTabGroup(o.default.objectPropertyGroupType.general,l),!t.isLink()){var u=t.titleText,c=d.createPropValue(u,"Tx"),s=d.createProperty(o.default.objectPropertyType.textedit,c,"Author"),f=t.subjectText,p=d.createPropValue(f,"SJ"),g=d.createProperty(o.default.objectPropertyType.textedit,p,"Subject"),h=d.createSubGroup("Info",[s,g]);i.addToTabGroup(o.default.objectPropertyGroupType.general,h)}var m=new Date(t.modificationDate),v=d.createPropValue(m,"MD"),y=d.createProperty(o.default.objectPropertyType.textlabel,v,"Modified",o.default.objectPropertyStyle.dateTime),b=d.createPropValue(a,"F",["locked"]),x=d.createProperty(o.default.objectPropertyType.select,b,"Locked",o.default.objectPropertyStyle.bool),S=d.createSubGroup("Modify",[y,x]);i.addToTabGroup(o.default.objectPropertyGroupType.general,S)}(),function(){if(n!==o.default.pdfAnnotationType.text){if(n!==o.default.pdfAnnotationType.highlight&&n!==o.default.pdfAnnotationType.underline&&n!==o.default.pdfAnnotationType.strikeOut&&n!==o.default.pdfAnnotationType.text){var e={W:t.borderStyle.width,S:t.borderStyle.style,D:t.borderStyle.dashPattern},r=d.createPropValue(e,"BS",["W"]),a=d.createProperty(o.default.objectPropertyType.number,r,"Width"),u=d.createPropValue(e,"BS",["S"]),c=d.createProperty(o.default.objectPropertyType.select,u,"Style",o.default.objectPropertyStyle.borderStyle),s=t.isMarkup()?"Line":"Border",f=d.createSubGroup(s,[c,a]);i.addToTabGroup(o.default.objectPropertyGroupType.appearance,f)}var p={color:t.color,getFullPropData:function(){return this.color.toString(!0)}},g=d.createPropValue(p,"C",["color"]),h=d.createProperty(o.default.objectPropertyType.color,g,"Color","annot-color"),m=d.createSubGroup("Color",[h]);if(i.addToTabGroup(o.default.objectPropertyGroupType.appearance,m),n===o.default.pdfAnnotationType.polygon||n===o.default.pdfAnnotationType.polyLine||n===o.default.pdfAnnotationType.square||n===o.default.pdfAnnotationType.circle){var v={color:t.interiorColor,getFullPropData:function(){return this.color.toString(!0)}};Object.defineProperty(v,"fillInterior",{get:function(){return"none"!==this.color&&this.color.toString(!0)!==l.default.createInstance("#00000000").toString(!0)},set:function(e){this.color=l.default.createInstance(!1===e?"#00000000":"#FFFFFFFF")}});var y=d.createPropValue(v,"IC",["fillInterior"]),b=d.createProperty(o.default.objectPropertyType.select,y,"Fill Interior",o.default.objectPropertyStyle.bool),x=d.createPropValue(v,"IC",["color"]);x.isNone=t.isNoneIC;var S=d.createProperty(o.default.objectPropertyType.color,x,"Color","fill-color"),P=d.createSubGroup("Interior Color",[b,S]);i.addToTabGroup(o.default.objectPropertyGroupType.appearance,P)}t.isLink()||function(){var e={propType:o.default.objectPropertyType.opacity,val:t.opacity},n=d.createPropValue(e,"CA"),r=d.createProperty(o.default.objectPropertyType.opacity,n,"Opacity"),a=d.createSubGroup("Opacity",[r]);i.addToTabGroup(o.default.objectPropertyGroupType.appearance,a)}()}}(),function(){if(t.isLink()){var e={actions:pdfAction.createInstanceCollection(t.linkActions),getFullPropData:function(){return pdfAction.toJsonData(this.actions)}},n=d.createPropValue(e,"a",["actions"]),r=d.createProperty(o.default.objectPropertyType.action,n,"Action"),a=d.createSubGroup("Link Events",[r]);i.addToTabGroup(o.default.objectPropertyGroupType.events,a)}}(),t.isLink()&&(i.defaultTab=3),i},e},select:function(e,t,r,i){var a=null;if(!e||t<0||!r)return null;var l=null;i||(l=s.collectAnnotSnapData(e,t,r));var u=n.createInstance(e.document,t,r,l);return i?e.setHighlightNamed(o.default.pdfAnnotationType.polyLine,u):a=e.setSelectionAndTool(o.default.pdfAnnotationType.polyLine,u),a}}}]),window.mainApp.factory(d,getConstructor(s,d,"factory"))},c4if:function(e,t,n){"use strict";n("Kopg"),n("tQXD"),n("v1ab");var r=function(e){return e&&e.__esModule?e:{default:e}}(n("b8L+"));angular.module("bl-edit-caret-module",["bl-edit-textblocktransformer-module","bl-edit-module"]).factory("bl-edit-caret-factory",["$rootScope","bl-edit-textblocktransformer-factory","bl-edit-service",function(e,t,n){var o=function(e,o){var i=e,a=!1,l=null,u=null,c=null,s=o,d=function(){},f=function(e){return r.default.quad()};this.isSelecting=function(){return a},this.startSelecting=function(){a=!0},this.endSelecting=function(){a=!1},this.hasSelection=function(){return l&&!l.isEqual(u)},this.getSelectedRange=function(){return{begin:u,end:l}},this.getSelectionStart=function(){return u},this.setSelectionStart=function(e){u=e},this.getPosition=function(){return l},this.setPosition=function(e){if(l=e){var n=l.getPageIndex(),r=null;c&&(r=c.getTextBlock());var o=l.getTextBlock();!r||o&&!o.isEqual(r)?c=t.createInstance(i,n,o):c.updateTransform()}},this.getCurrentPage=function(){var e=this.getPosition();return e?e.getPageIndex():0},this.moveTo=function(e){this.setPosition(e),a||this.setSelectionStart(e)},this.selectRange=function(e,t){this.setSelectionStart(e),this.setPosition(t)},this.getDoc=function(){return i},this.getTextBlockTransformer=function(){return c},this.canMergeTextBlocks=function(){return!!u},this.updateTextBlockTransformerSnapData=function(e,t){if(c){var r=c.getSnapData();if(!r){l.getPageIndex();r=n.collectObjectSnapData(e,t),c.setSnapData(r)}}},this.delete=function(){c.delete()},this.isTextBlockEmpty=function(){return function(e,t){try{l.getPageIndex();var n=l.getTextBlock().lines;return n&&n.some(function(e,t){return!!e.text})}catch(e){return!0}}()},this.notifyPositionChanged=function(){!function(){try{if(!s)return;if(!l)return;var e=l.getPageIndex();if(-1==e)return;var t={};if(hideCaret_)t.pageIndex=-1;else{t.pageIndex=e;var n=l,r=f(n);n==l?(t.top=r.tl,t.bottom=r.bl):(t.top=r.tr,t.bottom=r.br)}d(t)}catch(e){}}()},this.canMoveTextBlockFront=function(){return!1},this.canMoveTextBlockBack=function(){return!1},this.draw=function(e,t){if(this.handler&&this.handler.selection)return this.handler.selection.draw(e,t)},this.handleEvent=function(e){if(this.handler&&this.handler.inputHandler)return this.handler.inputHandler.handleEvent(e)},this.terminate=function(){this.handler&&this.handler.inputHandler&&this.handler.inputHandler.terminate()},this.getModel=function(){if(!this.handler||!this.handler.selection)return null;var e=this.handler.selection.getSelectionData();return e&&e.getModel?e.getModel():null}},i={createInstance:function(e){return new o(e)}};return i}]),window.mainApp.factory("bl-edit-caret-factory",getConstructor("bl-edit-caret-module","bl-edit-caret-factory","factory"))},cOfO:function(e,t,n){"use strict";var r=i(n("C3UN")),o=i(n("eWOG"));function i(e){return e&&e.__esModule?e:{default:e}}n("6Drf");var a="bl-widget-textfield-obj-factory-module",l="bl-widget-textfield-obj-factory";function u(e,t){var n={};return n.createInstance=function(n,i,a){return new function(n,i,a){var l,u,c,s,d=0,f=0,p=this,g=i,h=a,m=r.default.pdfAcroformType;this.getPageIndex=function(){return g},this.getBorderStyle=function(){return{width:1,style:r.default.PDAnnotBorderStyle.kPDAnnotBorderStyleSolid,dashArrayLen:0,dashArray:0}},this.getRotate=function(){return 0},this.getWidget=function(){return h},this.canUndo=function(){return!1},this.canRedo=function(){return!1},this.undo=function(){},this.redo=function(){},this.clearUndoRedoStack=function(){},this.getRect=function(){return e.getFieldRect(h)},this.setText=function(e){u.getText()!=e&&(u.setText(e),u.update())},this.getText=function(){return u.getText()},this.getNumChars=function(){return u.getText().length},this.isMultiline=function(){return u.isMultiline()},this.isComb=function(){return!1},this.isPassword=function(){return!1},this.doesNeedScroll=function(){return this.getNumLines()>this.getNumVisibleLines()&&!this.isComb()},this.getNumLines=function(){return u.getLinesCount()},this.getNumVisibleLines=function(){return u.getMaxLinesCount()},this.setTopLine=function(e){e<u.getLinesCount()&&(u.setTopLine(e),u.update()),s&&s(e),c&&c(f,d)},this.getTopLine=function(){return u.getTopLine()},this.getLineWithChar=function(e){return u.getLineWithSymbol(e)},this.getFirstCharOnLine=function(e){return u.getFirstSymbol(e)},this.getLastCharOnLine=function(e){if(e==this.getNumLines()-1)return this.getNumChars();var t=this.getFirstCharOnLine(e+1);return--t},this.getCharQuad=function(e){return u.getCharQuad(e)},this.selectAll=function(){this.setSelectorPosition(0),this.setCaretPosition(this.getNumChars())},this.setSelAtPoint=function(e){var t=u.getSymbolAtPoint(e);this.setSelectorPosition(t),this.setCaretPosition(t)},this.setSelectorAtPoint=function(e){var t=u.getSymbolAtPoint(e);this.setSelectorPosition(t)},this.setCaretAtPoint=function(e){var t=u.getSymbolAtPoint(e);this.setCaretPosition(t)},this.setCaretPosition=function(e){if(d!=e){d=e;var t=this.getLineWithChar(e),n=this.getNumVisibleLines(),r=this.getTopLine();t<r?this.setTopLine(t):t>r+n-1&&this.setTopLine(t-n+1),c&&c(f,d)}},this.setSelectorPosition=function(e){f!=e&&(f=e,c&&c(f,d))},this.hasSelection=function(){return f!=d},this.getSelectedText=function(){var e;if(this.hasSelection()){var t=f,n=d;t>n&&(n=[t,t=n][0]),e=this.getText().spliceSlice(t,n-t)}return e},this.getSelectorPosition=function(){return f},this.getCaretPosition=function(){return d},this.goLeft=function(e){var t=this.getCaretPosition();t>0&&this.setCaretPosition(--t),e||this.setSelectorPosition(t)},this.goRight=function(e){var t=this.getCaretPosition();t<this.getNumChars()&&this.setCaretPosition(++t),e||this.setSelectorPosition(t)},this.goUp=function(e){var t=this.getLineWithChar(d);--t;var n=this.getNumLines();if(t>=0&&t<n){var r=this.getCharQuad(d).bottom_left();r.y-=u.getLineHeight(),this.setCaretAtPoint(r),e||this.setSelectorPosition(d)}},this.goDown=function(e){var t=this.getLineWithChar(d);++t;var n=this.getNumLines();if(t>=0&&t<n){var r=this.getCharQuad(d).bottom_left();r.y+=u.getLineHeight(),this.setCaretAtPoint(r),e||this.setSelectorPosition(d)}},this.goToFirst=function(e){this.setCaretPosition(0),e||this.setSelectorPosition(0)},this.goToLast=function(e){var t=this.getNumChars();this.setCaretPosition(t),e||this.setSelectorPosition(t)},this.goToHome=function(e){if(this.isComb())this.goToFirst(e);else{var t=d,n=this.getLineWithChar(t);t=this.getFirstCharOnLine(n),this.setCaretPosition(t),e||this.setSelectorPosition(t)}},this.goToEnd=function(e){if(this.isComb())this.goToLast(e);else{var t=d,n=this.getLineWithChar(t);t=this.getLastCharOnLine(n),this.setCaretPosition(t),e||this.setSelectorPosition(t)}},this.keyStroke=function(e,t,n){"number"==typeof e&&"number"==typeof t?(u.keyStroke(e,t,n),u.update(),h.setValue(this.getText())):v(n)},this.delete=function(e){var t=this.getSelectorPosition(),n=this.getCaretPosition();n<t&&(t=[n,n=t][0]),n==t&&(e?n>0&&this.setCaretPosition(n-1):this.setCaretPosition(n+1)),v("")},this.commitChanges=function(){var e=this.getText();return h.setValue(e,!0),!0},this.cancelChanges=function(){h.setValue(l),this.setText(l)},this.onModify=function(){return!0},this.setOnSelChangedCallBack=function(e){c=e},this.setOnScrollChangedCallBack=function(e){s=e};var v=function(e){var t=f,n=d,r=p.getText().length;(t=Math.min(t,r))>(n=Math.min(n,r))&&(n=[t,t=n][0]),p.keyStroke(t,n,e),n=t+e.length,p.setSelectorPosition(n),p.setCaretPosition(n)};l=h.getValue();var y=this.getRect(),b=h.getStyle();m.text===b?(h.options&&h.options.isMultiline?(y.inflate(-o.default.textArea.getMargin(),-o.default.textArea.getMargin()),(u=t.createInstance(o.default.textArea.getFontSize())).setWordWrap(!0),u.setMultiline(!0),u.setLineHeightFactor(o.default.textArea.getLineHeightFactor())):(y.inflate(-o.default.textField.getMargin(),-o.default.textField.getMargin()),(u=t.createInstance(o.default.textField.getFontSize())).setWordWrap(!1),u.setMultiline(!1)),h.options&&h.options.maxLength&&u.setMaxLen(h.options.maxLength),u.setText(l),u.setComb(!1),u.setBound(y),u.update()):console.error("Unsupported field type.")}(n,i,a)},n}angular.module(a,[]).factory(l,u),u.$inject=["bl-widget-renderer-service","form-textlayout-factory"],window.mainApp.factory(l,getConstructor(a,l,"factory"))},cSmK:function(e,t,n){"use strict";var r=u(n("b8L+")),o=u(n("C3UN")),i=u(n("VmtT")),a=u(n("IZAc")),l=u(n("kHBY"));function u(e){return e&&e.__esModule?e:{default:e}}n("Trxo");var c="bl-widget-textfield-view-factory-module",s="bl-widget-textfield-view-factory";function d(e,t,n,u,c){var s={},d=function(s,d){var f,p=s,g=d,h=!1,m=!1,v=a.default.createInstance("#FF000000"),y=[2],b=this;this.getModel=function(){return g},this.getPageIndex=function(){return g.getPageIndex()},this.getRect=function(){return g.getRect()},this.hitTest=function(e,t){return this.getPageIndex()==e&&this.getRect().containsPoint(t)},this.mouseDown=function(e,t){var n=T(e);return!!g.getRect().containsPoint(n)&&(f&&f.mouseDown(n)?m=!0:(h=!0,t&o.default.BLInputEventFlags.kBLInputEventFlagShiftPressed?g.setCaretAtPoint(n):g.setSelAtPoint(n)),p.invalidate(),!0)},this.mouseUp=function(e,t){if(m){m=!1;var n=T(e);f&&f.mouseUp(n)}return h&&(h=!1),!1},this.mouseMove=function(e,t){var n=T(e);return h?(g.setCaretAtPoint(n),p.setCursor(o.default.BLCursorType.kBLCursorIBeam),p.invalidate(),!0):!(!f||!f.mouseMove(n,m))||!!g.getRect().containsPoint(n)&&(p.setCursor(o.default.BLCursorType.kBLCursorIBeam),!0)},this.mouseWheel=function(e,t){var n=T(e);return!(!g.doesNeedScroll()||!b.hitTest(g.getPageIndex(),n))&&(t<0&&x(l.default.SBCode.kSB_LINEDOWN,0),t>0&&x(l.default.SBCode.kSB_LINEUP,0),!0)},this.keyDown=function(e,t){var n=w(t,o.default.BLInputEventFlags.kBLInputEventFlagShiftPressed),r=w(t,o.default.BLInputEventFlags.kBLInputEventFlagCtrlPressed);switch(e){case o.default.kBLKey.kBLKey_LEFT:g.goLeft(n);break;case o.default.kBLKey.kBLKey_RIGHT:g.goRight(n);break;case o.default.kBLKey.kBLKey_UP:g.goUp(n);break;case o.default.kBLKey.kBLKey_DOWN:g.goDown(n);break;case o.default.kBLKey.kBLKey_HOME:r?g.goToFirst(n):g.goToHome(n);break;case o.default.kBLKey.kBLKey_END:r?g.goToLast(n):g.goToEnd(n);break;case o.default.kBLKey.kBLKey_BACK:g.onModify()&&g.delete(!0);break;case o.default.kBLKey.kBLKey_DELETE:g.onModify()&&g.delete(!1);break;case o.default.kBLKey.kBLKey_A:r&&g.selectAll()}return S(),p.invalidate(),!0},this.keyUp=function(e,t){return!0},this.charReceived=function(e){if("\r"==e){if(!g.isMultiline())return!1;e="\n"}else if(e<" ")return!1;var t="";return t+=e,g.onModify(t)&&(g.keyStroke(null,null,t),p.invalidate()),!0},this.cut=function(){this.copy(),this.delete()},this.copy=function(){if(g.hasSelection()&&!g.isPassword())g.getSelectedText(),document.execCommand("copy")},this.paste=function(){},this.delete=function(){g.onModify()&&(g.delete(!1),p.invalidate())},this.hasSelection=function(){return g.hasSelection()},this.draw=function(e,n){if(e==g.getPageIndex()){var o=g.getRect();n.pushState();var i=t.getViewToPageMatrix(p,e);n.concatCTM(i),P(n),window.deviceDetect.isPhone()&&function(e,t){t&&c.drawFrame(e,r.default.quadFromRect(t),null,v,y)}(n,o),f&&f.draw(n),n.popState()}},this.canUndo=function(){return g.canUndo()},this.canRedo=function(){return g.canRedo()},this.undo=function(){g.undo(),S(),p.invalidate()},this.redo=function(){g.redo(),S(),p.invalidate()},this.finalize=function(t){void 0===t&&(t=!0),g.clearUndoRedoStack(),t&&g.commitChanges()||g.cancelChanges(),p.setSelection(null),e.$emit("event:widget-textfield-view-create",null)};var x=function(e,t){var n=g.getTopLine(),r=g.getNumLines()-g.getNumVisibleLines();switch(e){case l.default.SBCode.kSB_TOP:n=0;break;case l.default.SBCode.kSB_BOTTOM:n=r;break;case l.default.SBCode.kSB_ENDSCROLL:break;case l.default.SBCode.kSB_LINEDOWN:case l.default.SBCode.kSB_PAGEDOWN:n<r&&++n;break;case l.default.SBCode.kSB_LINEUP:case l.default.SBCode.kSB_PAGEUP:n>0&&--n;break;case l.default.SBCode.kSB_THUMBPOSITION:case l.default.SBCode.kSB_THUMBTRACK:n=t}g.setTopLine(n),p.invalidate()},S=function(){if(!g.doesNeedScroll())return f&&f.setOnScrollCallBack(null),void(f=null);if(!f){f=u.createInstance(p);var e=1*g.getRotate(),t=g.getRect(),n=t.left_bottom(),i=r.default.rotationMatrix(r.default.degreeToRadian(e),n),a=i.invert(),l=g.getBorderStyle(),c=t.getHeight()<2*l.width||t.getWidth()<2*l.width,s=t;s.inflate(-l.width,-l.width),l.style!=o.default.PDAnnotBorderStyle.kPDAnnotBorderStyleBeveled&&l.style!=o.default.PDAnnotBorderStyle.kPDAnnotBorderStyleInset||s.inflate(-1,-1),s=i.mapRect(s);var d=12;if(c)d=0;else{var h=s.getWidth()/1.5;d>h&&(d=h)}var m=s;m.left=m.right-d,(m=a.mapRect(m)).inflate(-1,-1),f&&f.setPlacement(m,e)}f&&(f.setScrollRange(0,g.getNumLines()),f.setPageSize(g.getNumVisibleLines()),f.setScrollPos(g.getTopLine())),f.setOnScrollCallBack(null),f.setOnScrollCallBack(x),f&&f.setVisible(!0)},P=function(e){var t=k();if(t){e.pushState();var n=g.getRect();e.clipRect(n);var r=i.default.LookAndFeel.TextCopySelectionColor;e.fillGeometry(t,r),e.popState()}},k=function(){var e=g.getSelectorPosition(),t=g.getCaretPosition();if(e==t)return null;e>t&&(t=[e,e=t][0]);for(var o=n.createGeometry(),i=r.default.rect(),a=0,l=e;l<t;l++){var u=g.getCharQuad(l);if(u.isRect()){var c=u.getBound();if(0==a)i=c;else if(r.default.isRectsOnSameLine(i,c,1))i.right=c.right;else{var s=i.copy();o.rectangle(s),i=c,a=1}++a}else{s=i.copy();o.rectangle(s),i=r.default.rect(),a=0,o.beginFigure(u.top_left()),o.lineTo(u.top_right()),o.lineTo(u.bottom_right()),o.lineTo(u.bottom_left()),o.endFigureClose()}}if(0!=a){s=i.copy();o.rectangle(s)}return o},T=function(e){var n=p.mapPointToPage(g.getPageIndex(),e);return n=t.getPageToViewMatrix(p,g.getPageIndex()).mapPoint(n)},w=function(e,t){return 0!=(e&t)};if(g.setOnSelChangedCallBack(function(e,n){p.invalidate();var i=g.getCharQuad(n),a=r.default.rect(i.top_left().x,i.top_left().y,i.bottom_left().x,i.bottom_left().y),l=g.getBorderStyle(),u=g.getRect();u.inflate(-l.width,-l.width),l.style!=o.default.PDAnnotBorderStyle.kPDAnnotBorderStyleBeveled&&l.style!=o.default.PDAnnotBorderStyle.kPDAnnotBorderStyleInset||u.inflate(-1,-1),a=r.default.intersectRects(a,u,!0),a=t.getViewToPageMatrix(p,g.getPageIndex()).mapRect(a);var c={};c.pageIndex=b.getPageIndex(),c.top=a.left_top(),c.bottom=a.right_bottom(),p.onCaretPositionChanged(c),o.default.BLSelectionOperations.kBLSelectionAllowPaste,e!=n?(o.default.BLSelectionOperations.kBLSelectionAllowCopy,o.default.BLSelectionOperations.kBLSelectionAllowCut):(~o.default.BLSelectionOperations.kBLSelectionAllowCopy,~o.default.BLSelectionOperations.kBLSelectionAllowCut)}),g.setOnScrollChangedCallBack(function(e){f&&f.setScrollPos(e)}),S(),window.deviceDetect.isPhone()){var C=g.getWidget();C&&e.$emit("event:widget-textfield-view-create",{view:p,widget:C,pageIndex:this.getPageIndex(),isMultiline:g.isMultiline()})}};return s.createInstance=function(e,t){return new d(e,t)},s}angular.module(c,[]).factory(s,d),d.$inject=["$rootScope","bl-widget-renderer-service","geometry-factory","form-scrollbar-factory","transformer-painter-service"],window.mainApp.factory(s,getConstructor(c,s,"factory"))},eWOG:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n("C3UN"));t.default={coordinate:{getViewRatio:function(){return 1}},signature:{getFontName:function(e){return'"Segoe UI", "MS Gothic", sans-serif'},getLineHieghtSpaceRatio:function(){return.7/1.3},getMaxFontSize:function(){return 12/1.3},getMinFontSize:function(){return 7/1.3},getFontDecreaseStep:function(){return.5/1.3},getBottomMargin:function(){return 9/1.3},getStrokeParams:function(){var e={};return e.lineCap=r.default.GLineCap.kGLineCapRound,e.lineJoin=r.default.GLineJoin.kGLineJoinRound,e.miterLimit=0,e.dashPattern=[2],e},caption:{getDelta:function(){return 5/1.3},getMargin:function(){return 6/1.3},getFontSize:function(){return 11/1.3}}},field:{getMargin:function(){return 9/1.3},getFontSize:function(){return 12/1.3},getFontName:function(e){return'"Segoe UI", "MS Gothic", sans-serif'},getBackground:function(){return"FFFFFFFF"}},textField:{getMargin:function(){return 2/1.3},getFontSize:function(){return 12/1.3}},textArea:{getMargin:function(){return 2/1.3},getFontSize:function(){return 12/1.3},getLineHeightFactor:function(){return 1.5/1.3}},listBox:{getMargin:function(){return 2/1.3},getFontSize:function(){return 12/1.3},getLineHeightFactor:function(){return 1.5/1.3},getBorderColor:function(){return"33000000"},getSelectionColor:function(){return"22000000"}},comboBox:{getMargin:function(){return 2/1.3},getFontSize:function(){return 12/1.3},getComboBoxButtonWidth:function(){return 15/1.3}},radioButton:{getRatio:function(){return.25/1.3}},checkBox:{getMargin:function(){return 2/1.3},getRatio:function(){return.3/1.3}}}},ekou:function(e,t){e.exports="../images/symbol-sitemenu.svg"},g0VU:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.module=void 0,n("5OQq");var r="ui-activity-recent-factory-module",o="ui-activity-recent-factory",i=angular.module(r,["ui-helper-module"]).factory(o,["$rootScope","$q","$timeout","pdf-model-factory","ui-helper-factory",function(e,t,n,r,o){var i={recentDocuments:[],avaliablePeriod:864e5,isLoading:!1};(0,o.getUserSettingsFactory)().then(function(e){i.userSettingsFactory=e}),Object.defineProperty(i,"view",{get:function(){return i.userSettingsFactory?i.userSettingsFactory.settings.recent.view:"thumbnail"},set:function(e){e&&i.userSettingsFactory&&i.userSettingsFactory.settings.recent.view!==e&&(i.userSettingsFactory.settings.recent.view=e,i.userSettingsFactory.saveSettings())}});var a=o.getDialogFactory(),l=function(e){e&&(i.recentDocuments=e,function(e){if(e)for(var t=0;t<e.length;t++){var n=e[t];n&&(n.index=t)}}(i.recentDocuments))},u=function(e){return i.recentDocuments=[],t.reject(e)},c=function(){return!1===i.isLoading?(i.isLoading=!0,r.getRecentDocuments().then(l,u).then(function(){},u).catch(u).finally(function(){i.isLoading=!1})):t.reject()},s=function(e){var t=$.grep(i.recentDocuments,function(t){return t.id===e});return 0==t.length?null:(t.length,t[0])};i.removeDocumentWithId=function(e,t){r.removeRecentDocument(e).then(l).catch(function(){t&&(i.recentDocuments=$.map(i.recentDocuments,function(t){return t.id!==e?t:null}))})},i.clearRecentDocuments=function(){a.then(function(e){e.messageBox.show({text:"Are you sure you want to continue?",icon:"warning",callbacks:[{id:"ok",text:"ok",callback:function(){r.clearRecentDocuments().then(function(){l([])})}},{id:"cancel",text:"Cancel"}]})})},i.openRecentDocument=function(t){var n={name:t.name,action:"open-recent"},r={id:t.id,options:n};e.$state.transitionTo("document",r).then(function(){})},i.pin=function(e){if(window.isArray(i.recentDocuments)&&e){e.pin=!e.pin,e.more=!1;var t=i.recentDocuments.indexOf(e);e.pin?0!==t&&i.recentDocuments.move(t,0):i.recentDocuments.move(t,function(e,t){if(e){for(var n=t;n<e.length;n++){var r=e[n];if(r&&!r.pin)return n}return t}}(i.recentDocuments,e.index))}};var d=function(e,n){if(null!==e&&s(e.id)){var o=e.getPage(0),i={width:o.thumbnail.width,height:o.thumbnail.height},a={documentId:e.id,index:0,zoom:o.thumbnail.zoom,pageSalt:o.salt};return r.downloadJsonPage(a).then(function(e){var n=t.defer(),r=new window.FileReader;return r.readAsDataURL(new Blob([e.data],{type:"image/png"})),r.onloadend=function(e){var t=e.target.result;i.data=t,n.resolve()},i.rotate=o.rotate,n.promise}).catch(function(e){i=null}).finally(function(){p(e,i,n)})}};e.$on("event-document-loaded",function(e,t){null!==t&&c().then(function(){return d(t)})}),e.$on("event-document-saved",function(e,t){null!==t&&d(t,!0)});var f={},p=function(e,t,n){if(e&&e.isLoaded){var o=s(e.id);o&&(o.id=e.id,o.name=e.name,o.pageSelectedIndex=e.pageSelectedIndex,o.documentView=e.documentView,o.pageView=e.pageView,o.zoom=e.zoom,o.size=e.size,o.isEslPermitted=e.isDocPermittedForESign(!0),t&&(o.thumbnail=t),f[o.id]&&(clearTimeout(f[o.id]),delete f[o.id]),n?r.updateRecentDocument(o):f[o.id]=setTimeout(function(){r.updateRecentDocument(o),clearTimeout(f[o.id]),delete f[o.id]},1e3))}};return e.$on("event-document-closed",function(e,t){p(t,null,!0)}),e.$on("event-document-page-selected-index-changed",function(e,t){p(t)}),e.$on("event-document-view-changed",function(e,t){p(t)}),e.$on("event-document-page-view-changed",function(e,t){p(t)}),e.$on("event-document-zoom-changed",function(e,t){p(t)}),i.loadUserData=function(){c()},i.resetUserData=function(){i.recentDocuments=[]},o.ondemand.getAuthenticationUiProxyService().then(function(e){e.subscribe(i)}),i}]);t.module=i,window.mainApp.factory(o,getConstructor(r,o,"factory"))},gP0K:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.module=void 0;var r=i(n("WJ/p")),o=i(n("C3UN"));function i(e){return e&&e.__esModule?e:{default:e}}n("isVG"),n("XT+9"),n("WAbE"),n("l+Vt");var a="ui-sitemenu-convert-core-module",l="ui-sitemenu-convert-core-factory",u=angular.module(a,["pdf-manager-module","ui-sitemenu-factory-module","pdf-feature-module","ui-helper-module"]);function c(e,t,n,i,a,l,u,c,s,d,f){var p=f.getDialogFactory(),g=o.default.FileConvertType,h=function(t,n){e.$broadcast(t,n)},m=function(e,t){e&&e.isLocked!==t&&(e.setLock(t),h("event-document-locked-changed",e))},v=function t(n,o){this.service={name:"",convertmenu:r.default.convertmenu,menuitem:{},table:{},convertType:o,file:{destFileType:"html"===n?"zip":n},convertSettings:{},recognizeSettings:{useocr:!0}};var i=this.service;i.current=1,i.count=1,i.range=[],i.isDisabled=!1,i.documentId=null,i.pdfaformat="PDF/A-1a";i.init=function(e){l.currentDocument(function(e){i.documentId=e.id,i.count=e.getPagesCount(),i.current=e.pageSelectedIndex,i.isDisabled=e.isLocked}),i.menuitem=i.convertmenu.first(function(t){return t.id===e})};i.convert=function(e){l.currentDocument(function(r){if(!r.isLocked&&0!==r.getPagesCount()){if(!i.range.isValid&&"pdfa"!==i.menuitem.id)return p.then(function(e){e.messageBox.show({text:"Page range is invalid",icon:"error"})});var a=function(e){i.convertSettings.usedivider&&(0===$.grep(i.dividers,function(e){return e.text===i.selectedDivider.text}).length?i.convertSettings.divider=i.selectedDivider.text:i.convertSettings.divider=i.selectedDivider.value),o===g.Image&&(i.convertSettings.Extension=i.file.destFileType,i.convertSettings.SrcFileName=e.name.fileExtension().fileName),o===g.Pdfa&&(i.convertSettings.PDFAFormat=i.pdfaformat);var t={FileEntries:[{FileType:"pdf",FileName:e.name,FileGuid:e.id,PagesToConvert:i.range.pages}],ConvertType:i.convertType,ConvertSettings:i.convertSettings,FromFileType:"pdf",ToFileType:o===g.Image?"zip":i.file.destFileType};return isUndefined(i.table.activeMethod)||(i.convertSettings.TableMethod=i.table.activeMethod),t}(r);u.close(r.id);var l=function(o,l){o&&l&&(a.FileEntries[0].FileName=l.name,a.FileEntries[0].FileGuid=o),t.convertProcess(n,a,r,e).catch(function(e){!function(e){i.isUploading=!1,i.isFileSelected=!1,p.then(function(t){t.messageBox.show({icon:"error",text:"string"!=typeof e||isStringEmpty(e)?"Error occured":e})})}(e)})};if(!i.recognizeSettings.useocr&&i.convertSettings.useocr){m(r,!0);var c={id:r.id,name:r.name,onComplete:l,eventError:function(){m(r,!1)}};!function(e,t,n){var r=t.name.fileExtension().name,o={FileEntries:[{FileType:r,FileName:t.name,FileGuid:t.id,PagesToConvert:e,Password:t.password||""}],FromFileType:r,ToFileType:"pdf"},i=pdfRecognize.recognize();i.recognizePdf(o,n),i.onComplete=t.onComplete,i.onStart=t.onStart,i.eventError=t.eventError}(a.FileEntries[0].PagesToConvert,c)}else l()}})},e.$on("event-document-locked-changed",function(e,t){i.documentId===t.id&&(i.isDisabled=t.isLocked)})};return v.convertProcess=function(n,r,o,l,u){m(o,!0);var d=c.convertPdfDocument;return"batch"===u&&(d=c.convertBacthPdfDocument),d(r).then(function(n){if(1!==n.result||3===n.status||12===n.status)return t.reject("");var u=n.actionId,d=function(e,t){isUndefinedOrNull(t)&&(t={}),t.id=u,t.document=o,h(e,t)},f=t.defer(),p=!1,m=function(){p||(p=!0,c.cancelCreateConvertOCRDocumentProcessing(u,3),f.resolve())},v=void 0,y=void 0,b=function(e,t){a.cancel(v),i.cancel(y),e?f.reject(t||""):f.resolve()};return d("event-document-convert-in-process",{progress:0}),v=a(function(){return!p&&l&&l.isCanceled?(d("event-document-convert-cancel"),m()):!0===p?b():void c.checkStatus(u).then(function(t){if(!p&&l&&l.isCanceled)return d("event-document-convert-cancel"),m();if(!0!==p){if(1===t.result&&3!==t.status&&12!==t.status)return d("event-document-convert-in-process",{progress:t.progress,cancel:m}),2===t.status?(p||(r.ConvertType===g.Pdfa&&r.ConvertSettings.openafter?e.$state.transitionTo("document",{id:t.destFiles[0].FileGuid,options:{name:t.destFiles[0].FileName,action:"open"}}):c.downloadFile(t.destFiles[0].FileGuid,!0)),d("event-document-convert-complete"),void b()):void 0;var n;if(isUndefinedOrNull(t.actionResult)||(n=JSON.parse(t.actionResult)),n&&n.error_code)switch(n.error_code){case 19:"PDF2PDFA: Critical error"==n.error&&(d("event-document-convert-complete"),b(!0,s.instant("An error occurred while converting.")));break;case 458761:case 524297:d("event-document-convert-complete"),b(!0,o.name+" "+s.instant("does not contain any tables. No output file was created"));break;default:b(!0),d("event-document-convert-error")}else b(!0),d("event-document-convert-error")}},function(e){b(!0),d("event-document-convert-error")})},5e3),y=i(function(){c.cancelCreateConvertOCRDocumentProcessing(u,3),b(!0),d("event-document-convert-error")},3e5),f.promise}).catch(function(n){var r=!0;if(n&&403===n.status&&n.data)switch(r=!1,n.data.error){case"create-free-account":p.then(function(e){e.dialog.createYourFreeAccount.show()});break;case"paywall":case"paywall-batch-convert":e.$broadcast("event:auth-paywall",n);break;default:r=!0}if(r)return t.reject(n)}).finally(function(){m(o,!1)})},v}t.module=u,u.factory(l,c),c.$inject=["$rootScope","$q","$http","$timeout","$interval","pdf-manager-factory","ui-sitemenu-factory","pdf-model-factory","$translate","pdf-feature-factory","ui-helper-factory"],mainApp.factory(l,getConstructor(a,l,"factory"))},gT1Z:function(e,t,n){"use strict";var r="bl-ocr-idrs-commandStack-module",o="bl-ocr-idrs-commandStack-factory";angular.module(r,[]).factory(o,["$q","$rootScope",function(e,t){return{createInstance:function(){return new function(){var e=[],t=-1;this.do=function(n){try{n.do(),t++,e.splice(t),e.push(n)}catch(e){}},this.undo=function(){if(e.length>0&&t>=0){var n=e[t];try{n.undo(),--t}catch(e){}}},this.redo=function(){if(e.length>0){var n=e[t+1];if(n)try{n.do(),++t}catch(e){}}}}}}}]),window.mainApp.factory(o,getConstructor(r,o,"factory"))},ggKL:function(e,t,n){"use strict";var r=l(n("C3UN")),o=l(n("b8L+")),i=l(n("VmtT")),a=l(n("oRGr"));function l(e){return e&&e.__esModule?e:{default:e}}n("xfDw");var u="bl-ocr-idrs-transformerInputHandler-module",c="bl-ocr-idrs-transformerInputHandler-factory";angular.module(u,["bl-ocr-idrs-selection-module"]).factory(c,["$rootScope","bl-ocr-idrs-selection-factory",function(e,t){var n={},l=function(e,t,n){var r=o.default.point(e.x-t.x,e.y-t.y);return n*n>=r.x*r.x+r.y*r.y},u=function(e,t){return e.getLayout().mapPointToContent(t)},c=function(n,c){var s=n,d=c,f=!1,p=r.default.AnchorPlace.ANCHOR_NONE,g=null,h=0,m=o.default.point(),v=o.default.point(),y=null,b=function(e){y=e,s.invalidate()};b(t.createInstance(s,d));var x=e.$on("idrs-view-ondraw",function(e,t){P(t)});this.terminate=function(){x()},this.getHandleType=function(){return a.default.InputHandlerType.kHandleEditZone},this.isUndeletable=function(){return!1},this.handleEvent=function(e){var t={isHandlerFinished:f,isHandled:!1};return t.isHandled=S(e),t};var S=function(e){switch(e.type){case r.default.BLInputEventType.kBLInputEventCommand:return k(e.commandArgs.command);case r.default.BLInputEventType.kBLInputEventPointerPressed:if(e.pointerArgs.button===r.default.BLPointerButton.kBLPointerButtonLeft)return C(e.pointerArgs.position,0!=(e.pointerArgs.flags&r.default.BLInputEventFlags.kBLInputEventFlagCtrlPressed));break;case r.default.BLInputEventType.kBLInputEventPointerReleased:switch(e.pointerArgs.button){case r.default.BLPointerButton.kBLPointerButtonLeft:return B(e.pointerArgs.position,0!=(e.pointerArgs.flags&r.default.BLInputEventFlags.kBLInputEventFlagCtrlPressed));case r.default.BLPointerButton.kBLPointerButtonRight:return L(e.pointerArgs.position)}break;case r.default.BLInputEventType.kBLInputEventPointerMoved:return T(e.pointerArgs.position,0!=(e.pointerArgs.flags&r.default.BLInputEventFlags.kBLInputEventFlagCtrlPressed));case r.default.BLInputEventType.kBLInputEventKeyPressed:return F(e.keyArgs.keycode,0!=(e.pointerArgs.flags&r.default.BLInputEventFlags.kBLInputEventFlagCtrlPressed));case r.default.BLInputEventType.kBLInputEventKeyReleased:return A(e.keyArgs.keycode,0!=(e.pointerArgs.flags&r.default.BLInputEventFlags.kBLInputEventFlagCtrlPressed));default:return!1}return!1},P=function(e){e&&(e.pushState(),y&&y.draw(e),e.popState())},k=function(e){return"Delete"==e&&(b(null),d.deleteZone(),f=!0,!0)},T=function(e,t){var n=u(s,e);switch(g=t,d.getOperationType()){case r.default.TransformType.TRANSFORM_NONE:var o=w(e);return!!o&&(O(o.type,o.anchor,t),!0);case r.default.TransformType.TRANSFORM_MOVE:E(n);break;case r.default.TransformType.TRANSFORM_SCALE:I(n);break;case r.default.TransformType.TRANSFORM_ROTATE:R(n)}return!0},w=function(e){r.default.TransformType.TRANSFORM_NONE,r.default.AnchorPlace.ANCHOR_NONE,o.default.point();var t=i.default.LookAndFeel.TransformerScaleZoneRadius,n=function(e,t){return e.getLayout().mapQuadToView(t)}(s,d.getBounds());if(l(e,n.top_left(),t))return{type:r.default.TransformType.TRANSFORM_SCALE,anchor:r.default.AnchorPlace.ANCHOR_TOP_LEFT,active:n.top_left()};if(l(e,n.top_right(),t))return{type:r.default.TransformType.TRANSFORM_SCALE,anchor:r.default.AnchorPlace.ANCHOR_TOP_RIGHT,active:n.top_right()};if(l(e,n.bottom_left(),t))return{type:r.default.TransformType.TRANSFORM_SCALE,anchor:r.default.AnchorPlace.ANCHOR_BOTTOM_LEFT,active:n.bottom_left()};if(l(e,n.bottom_right(),t))return{type:r.default.TransformType.TRANSFORM_SCALE,anchor:r.default.AnchorPlace.ANCHOR_BOTTOM_RIGHT,active:n.bottom_right()};if(l(e,n.top_center(),t))return{type:r.default.TransformType.TRANSFORM_SCALE,anchor:r.default.AnchorPlace.ANCHOR_TOP,active:n.top_center()};if(l(e,n.center_left(),t))return{type:r.default.TransformType.TRANSFORM_SCALE,anchor:r.default.AnchorPlace.ANCHOR_LEFT,active:n.center_left()};if(l(e,n.bottom_center(),t))return{type:r.default.TransformType.TRANSFORM_SCALE,anchor:r.default.AnchorPlace.ANCHOR_BOTTOM,active:n.bottom_center()};if(l(e,n.center_right(),t))return{type:r.default.TransformType.TRANSFORM_SCALE,anchor:r.default.AnchorPlace.ANCHOR_RIGHT,active:n.center_right()};var a=u(s,e);return d.hitTest(a)?{type:r.default.TransformType.TRANSFORM_MOVE,anchor:r.default.AnchorPlace.ANCHOR_NONE,active:e}:null},C=function(e,t){var n=w(e);if(!n)return b(null),f=!0,!1;p=n.anchor,v=d.getRotationOrigin(),h=d.getRotation_PropertyTest(),d.startOperation(n.type);var r=o.default.point(o.default.castFloatToInt(n.active.x),o.default.castFloatToInt(n.active.y));return m=u(s,r),g=t,!0},B=function(e,t){d.isPerformingOperation()&&(d.endOperation(),s.invalidate());var n=w(e);return!!n&&(O(n.type,n.anchor,t),s.invalidate(),!0)},L=function(e){return!!w(e)},F=function(e,t){switch(e){case kBLKey_LEFT:return _(o.default.point(-10,0)),!0;case r.default.kBLKey.kBLKey_RIGHT:return _(o.default.point(10,0)),!0;case r.default.kBLKey.kBLKey_UP:return _(o.default.point(0,-10)),!0;case r.default.kBLKey.kBLKey_DOWN:return _(o.default.point(0,10)),!0}return!1},A=function(e,t){return e==r.default.kBLKey.kBLKey_DELETE&&k("Delete")},_=function(e){p=r.default.AnchorPlace.ANCHOR_NONE,v=d.getRotationOrigin(),h=d.getRotation_PropertyTest(),d.startOperation(r.default.TransformType.TRANSFORM_MOVE);var t=o.default.point(0,0);m=u(s,t),g=!1,t.offset(e.x,e.y);var n=u(View(),t);M(n,!1),d.endOperation()},M=function(e,t){isUndefinedOrNull(t)&&(t=!0);var n=d.getTransform(),r=m.copy(),i=e.copy();if(!r.isEqual(i)){var a=o.default.point(i.x-r.x,i.y-r.y);d.setOperationTransform(n.multiply(o.default.translationMatrix(a.x,a.y))),s.invalidate()}},E=function(e){M(e,!g),O(r.default.TransformType.TRANSFORM_MOVE,p,g)},R=function(e){var t=d.getTransform(),n=v.copy(),i=m.copy(),a=e.copy(),l=o.default.point(i.x-n.x,i.y-n.y),u=o.default.point(a.x-n.x,a.y-n.y),c=o.default.vecAngleBetween(l,u);if(g){var f=h+c,y=o.default.degreeToRadian(45);c=(f=(f>0?o.default.castFloatToInt(f/y+.5):o.default.castFloatToInt(f/y-.5))*y)-h}d.setOperationTransform(t.multiply(o.default.rotationMatrix(c,n))),s.invalidate(),O(r.default.TransformType.TRANSFORM_ROTATE,p,g)},I=function(e){!function(e){var t=d.getTransform(),n=t.invert();if(n){var i=n.mapPoint(e),a=d.getUserSpaceRect(),l=a.getWidth(),u=a.getHeight();if(!o.default.floatEq(l,0)&&!o.default.floatEq(u,0)){var c=a.getOrigin();a.getCenter(),i.x,c.x,i.y,c.y,i.offset(-c.x,-c.y);var f=i.x/l,h=i.y/u,m=null;switch(p){case r.default.AnchorPlace.ANCHOR_LEFT:m=g?o.default.scalingMatrix(1-f,1-f,c).multiply(o.default.translationMatrix(i.x,f*u/2)):o.default.scalingMatrix(1-f,1,c).multiply(o.default.translationMatrix(i.x,0));break;case r.default.AnchorPlace.ANCHOR_BOTTOM:m=g?o.default.scalingMatrix(h,h,c).multiply(o.default.translationMatrix((1-h)*l/2,0)):o.default.scalingMatrix(1,h,c);break;case r.default.AnchorPlace.ANCHOR_RIGHT:m=g?o.default.scalingMatrix(f,f,c).multiply(o.default.translationMatrix(0,(1-f)*u/2)):o.default.scalingMatrix(f,1,c);break;case r.default.AnchorPlace.ANCHOR_TOP:m=g?o.default.scalingMatrix(1-h,1-h,c).multiply(o.default.translationMatrix(h*l/2,i.y)):o.default.scalingMatrix(1,1-h,c).multiply(o.default.translationMatrix(0,i.y));break;case r.default.AnchorPlace.ANCHOR_BOTTOM_LEFT:if(g){var v=Math.min(1-f,h);m=o.default.scalingMatrix(v,v,c).multiply(o.default.translationMatrix((1-v)*l,0))}else m=o.default.scalingMatrix(1-f,h,c).multiply(o.default.translationMatrix(i.x,0));break;case r.default.AnchorPlace.ANCHOR_BOTTOM_RIGHT:if(g){var y=Math.min(f,h);m=o.default.scalingMatrix(y,y,c)}else m=o.default.scalingMatrix(f,h,c);break;case r.default.AnchorPlace.ANCHOR_TOP_LEFT:if(g){var b=Math.min(1-f,1-h);m=o.default.scalingMatrix(b,b,c).multiply(o.default.translationMatrix((1-b)*l,(1-b)*u))}else m=o.default.scalingMatrix(1-f,1-h,c).multiply(o.default.translationMatrix(i.x,i.y));break;case r.default.AnchorPlace.ANCHOR_TOP_RIGHT:if(g){var x=Math.min(f,1-h);m=o.default.scalingMatrix(x,x,c).multiply(o.default.translationMatrix(0,(1-x)*u))}else m=o.default.scalingMatrix(f,1-h,c).multiply(o.default.translationMatrix(0,i.y))}m&&(t=m.multiply(t),d.setOperationTransform(t)),s.invalidate()}}}(e),O(r.default.TransformType.TRANSFORM_SCALE,p,g)},O=function(e,t,n){var i=r.default.BLCursorType.kBLCursorArrow;switch(e){case r.default.TransformType.TRANSFORM_MOVE:i=r.default.BLCursorType.kBLCursorMove;break;case r.default.TransformType.TRANSFORM_ROTATE:i=r.default.BLCursorType.kBLCursorRotate;break;case r.default.TransformType.TRANSFORM_SCALE:var a=d.getRotation_PropertyTest(),l=o.default.degreeToRadian(45),u=0;u=a>0?o.default.castFloatToInt(a/l+.5):o.default.castFloatToInt(a/l-.5);var c=[6,0,2,4,7,1,5,3][t];(c=(c-u)%8)<0&&(c+=8),i=(n?r.default.BLCursorType.kBLCursorScaleProportional_N:r.default.BLCursorType.kBLCursorScale_N)+c}s.setCursor(i)}};return n.createInstance=function(e,t){return new c(e,t)},n}]),window.mainApp.factory(c,getConstructor(u,c,"factory"))},h2bM:function(e,t,n){"use strict";var r=a(n("b8L+")),o=a(n("C3UN")),i=a(n("IZAc"));function a(e){return e&&e.__esModule?e:{default:e}}var l="bl-widget-combobox-button-factory-module",u="bl-widget-combobox-button-factory";function c(e,t){var n={},a=function(){var n="8FFFFFFF",a="8F000000";this.draw=function(l,u,c,s){!function(l,u,c){console.log("ComboBoxButton->draw");var s=e.getFieldRect(l);if(!(s.getHeight()<2||s.getWidth()<2)){s.inflate(-1,-1);var d=12,f=s.getWidth()/1.5;d>f&&(d=f);var p=s;p.left=p.right-d;var g=r.default.rect(p.left,p.bottom,p.right,p.top),h=i.default.createInstance(n);u.fillRect(g,h);var m=g.getCenter(),v=6,y=Math.min(g.getHeight(),d)/2;v>y&&(v=y);var b=.5*v,x=r.default.point(m.x+-b,m.y+b/2),S=r.default.point(m.x+0,m.y+-b/2),P=r.default.point(m.x+b,m.y+b/2),k=t.createGeometry();k.beginFigure(x),k.lineTo(S),k.lineTo(P),k.endFigure();var T=i.default.createInstance(a),w={};w.lineCap=o.default.GLineCap.kGLineCapRound,w.lineJoin=o.default.GLineJoin.kGLineJoinMiter,w.miterLimit=10,u.strokeGeometry(k,T,1,w)}}(u,s)},this.hitTest=function(t,n){var r=e.getFieldRect(t);if(r.getHeight()<2||r.getWidth()<2)return!1;r.inflate(-1);var o=12,i=r.getWidth()/1.5;o>i&&(o=i);var a=r;return a.left=a.right-o,a.containsPoint(n)}};return n.createInstance=function(){return new a},n}angular.module(l,[]).factory(u,c),c.$inject=["bl-widget-renderer-service","geometry-factory"],window.mainApp.factory(u,getConstructor(l,u,"factory"))},iArn:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(n("HSQo")),o=i(n("C3UN"));function i(e){return e&&e.__esModule?e:{default:e}}var a=[{id:"inches",text:"Inches",value:o.default.Units.inch},{id:"millimeters",text:"Millimeters",value:o.default.Units.millimetrs},{id:"centimeters",text:"Centimeters",value:o.default.Units.centimeters},{id:"points",text:"Points",value:o.default.Units.point}],l=[1,72,72/25.4,72/2.54,1],u=[1,1/72,25.4/72,2.54/72,1],c={};(0,r.default)(c,{viewUnits:{get:function(){return saveSlice(a)}}});var s=function(e,t,n){return u[t]*(l[e]*n)};c.convert={toUnits:function(e,t){return s(e,o.default.Units.unit,t)},to:s},c.floorZoom=function(e){return e?+(Math.floor(e+"e+2")+"e-2"):e},c.getUnitsName=function(e,t){var n=isUndefinedOrNull(t)?0:1;switch(e){case o.default.Units.unit:return["Units","un"][n];case o.default.Units.inch:return["Inches","in"][n];case o.default.Units.millimetrs:return["Millimeters","mm"][n];case o.default.Units.centimeters:return["Centimeters","cm"][n];case o.default.Units.point:return["Points","pt"][n]}return""},t.default=c},iMU4:function(e,t,n){"use strict";var r=a(n("HSQo")),o=a(n("b8L+")),i=a(n("VmtT"));function a(e){return e&&e.__esModule?e:{default:e}}n("Ij0n");var l="bl-edit-baseannoteditselection-module",u="bl-edit-baseannoteditselection-factory";angular.module(l,["transformer-painter-module"]).factory(u,["$rootScope","transformer-painter-service",function(e,t){var n=i.default.LookAndFeel.AnnotTransformerHighlightColor;return{createInstance:function(){return new function(){var e=null,i=null;(0,r.default)(this,{DocumentView_:{get:function(){return e}},AnnotEditObject_:{get:function(){return i}}}),this.init=function(t,n){e=t,i=n},this.getType=function(){return"AnnotEdit"},this.getSelectionData=function(){return i},this.drawHighlight=function(e,r){if(r==i.getPageIndex()){var a=i.getRect(),l=o.default.quadFromRect(a);t.drawFrame(e,l,null,n)}},this.hitTest=function(e,t){return e==i.getPageIndex()&&i.getRect().containsPoint(t)}}}}}]),window.mainApp.factory(u,getConstructor(l,u,"factory"))},ibFd:function(e,t,n){"use strict";var r=i(n("b8L+")),o=i(n("C3UN"));function i(e){return e&&e.__esModule?e:{default:e}}n("5UMD");var a="bl-edit-stampannoteditobject-module",l="bl-edit-stampannoteditobject-factory";angular.module(a,["bl-edit-utilites-module","pdf-manager-module"]).factory(l,["$rootScope","$q","bl-edit-utilites-service","pdf-manager-factory",function(e,t,n,i){var a={kTransformNone:0,kTransformMove:1,kTransformScale:2,kTransformRotate:3};return{createInstance:function(e,l,u,c){return new function(e,l,u,c){var s=this,d=e,f=l,p=u,g=c,h=null,m=0,v=a.kTransformNone,y=r.default.rect();p&&p.rect&&(y=p.rect.copy());var b=d.getPage(f);s.getDoc=function(){return d},s.getPageIndex=function(){return f},s.getAnnot=function(){return p},s.getRect=function(){return p?p.rect:null},s.hitTest=function(e){var t=s.getRect();return!!t&&t.containsPoint(e)},s.setOperation=function(e){v=e},s.getOperation=function(){return v},s.setOperationRect=function(e){y=n.correctRectToRespectPageBox(b.getCropBox(),e)},s.getOperationRect=function(){return y},s.setOperationRotate=function(e){m=e},s.getOperationRotate=function(){return m},s.endOperation=function(){if(h=null,v==a.kTransformRotate){if(0!=m)return i.changeAnnotationProperties(d,p,f,{rotation:m}).finally(function(){m=0,y=s.getRect(),v=a.kTransformNone})}else{var e=s.getRect();if(y&&!y.isEqual(e)){var n=y.copy();return n.top<n.bottom&&(n.bottom=[n.top,n.top=n.bottom][0]),i.changeAnnotationProperties(d,p,f,{R:n.asArray()}).finally(function(){y=p.rect.copy(),v=a.kTransformNone})}}return v=a.kTransformNone,t.when()},s.delete=function(){return i.deleteAnnotation(d,p,f)},s.getSnapData=function(){return g},s.setSnapInfo=function(e){h=e},s.getSnapInfo=function(){return h};var x=o.default.EditModes.Properties|o.default.EditModes.Move|o.default.EditModes.Rotate|o.default.EditModes.Resize|o.default.EditModes.Remove;p.isMarkup()&&p.type!==o.default.pdfAnnotationType.freeText&&(x|=o.default.EditModes.Comment);var S=deviceDetect.isPhone()?o.default.EditModes.Move:x;s.setCurrentEditMode=function(e){S=e},s.hasAnyCurrentEditMode=function(e){return!!(S&e)},s.hasAnyEditMode=function(e){return!!(x&e)}}(e,l,u,c)},TransformType:a,HandleType:{kHandleNone:0,kHandleTopLeft:1,kHandleTopRight:2,kHandleBottomRight:3,kHandleBottomLeft:4,kHandleTopMiddle:5,kHandleRightMiddle:6,kHandleBottomMiddle:7,kHandleLeftMiddle:8}}}]),window.mainApp.factory(l,getConstructor(a,l,"factory"))},ibtX:function(e,t,n){"use strict";var r=a(n("b8L+")),o=a(n("C3UN")),i=a(n("Jrzz"));function a(e){return e&&e.__esModule?e:{default:e}}n("5UMD");var l="bl-edit-polylineannoteditobject-module",u="bl-edit-polylineannoteditobject-factory";angular.module(l,["bl-edit-utilites-module","pdf-manager-module"]).factory(u,["$rootScope","$q","bl-edit-utilites-service","pdf-manager-factory",function(e,t,n,a){var l={kTransformNone:0,kTransformMove:1,kTransformScale:2,kTransformRotate:3,kTransformMovePoint:4};return{createInstance:function(u,c,s,d){return new function(u,c,s,d){var f=this,p=u,g=c,h=s,m=d,v=null,y=l.kTransformNone,b=r.default.rect();h&&h.rect&&(b=h.rect.copy());var x=p.getPage(g),S=i.default.getPolygonAnnotationVertices(h&&h.vertices),P=void 0,k=void 0,T=x&&x.getCropBox(),w=!1,C=void 0;f.getDoc=function(){return p},f.getPageIndex=function(){return g},f.getAnnot=function(){return h},f.getAnnotSubtype=function(){return h.type},f.getRect=function(){return h?h.rect:null},f.hitTest=function(e){var t=f.getRect();return!!t&&t.containsPoint(e)},f.setOperation=function(e){y=e,k=r.default.quadFromRect(f.getRect())},f.getOperation=function(){return y},f.setOperationRect=function(e){b=n.correctRectToRespectPageBox(x.getCropBox(),e)},f.getOperationRect=function(){return b},f.getOperationBounds=function(){return k},f.endOperation=function(){return w?(v=null,window.isArray(P)&&P.length>0&&(S=P.slice(),P=null),a.changeAnnotationProperties(p,h,g,{V:S}).finally(function(){b=h.rect.copy(),y=l.kTransformNone,w=!1,C=i.default.invalidIndex,k=r.default.quadFromRect(f.getRect())})):(y=l.kTransformNone,t.when())},f.delete=function(){return a.deleteAnnotation(p,h,g).then(function(t){e.$emit("event:delete-annotation",t)})},f.getSnapData=function(){return m},f.setSnapInfo=function(e){v=e},f.getSnapInfo=function(){return v},f.getVertices=function(){return S},f.getMovedVertices=function(){return P},f.oneVertexLeftOnPage=function(e){if(!window.isArray(S))return!0;for(var t=0;t<S.length;t++)if(t!==e&&T.containsPoint(i.default.verticeToPoint(S[t])))return!1;return!0},f.moveVertice=function(e,t){!T.containsPoint(t)&&f.oneVertexLeftOnPage(e)||(S[e]=[t.x,t.y],C=e,w=!0)},f.getMovedVertexIndex=function(){return C},f.transrormObject=function(e){if(e&&window.isArray(S)){for(var t=S.length,n=[],o=0;o<S.length;o++){var a=e.mapPoint(i.default.verticeToPoint(S[o]));if(!T.containsPoint(a)&&!--t)return;a&&n.push([a.x,a.y])}k=e.mapQuad(r.default.quadFromRect(f.getRect())),P=n.slice(),w=!0}};var B=o.default.EditModes.Properties|o.default.EditModes.Move|o.default.EditModes.MovePoint|o.default.EditModes.Remove;h.type!==o.default.pdfAnnotationType.text&&(B|=o.default.EditModes.Resize),h.isMarkup()&&h.type!==o.default.pdfAnnotationType.freeText&&(B|=o.default.EditModes.Comment);var L=deviceDetect.isPhone()?o.default.EditModes.MovePoint:B;f.setCurrentEditMode=function(e){L=e},f.hasAnyCurrentEditMode=function(e){return!!(L&e)},f.hasAnyEditMode=function(e){return!!(B&e)}}(u,c,s,d)},TransformType:l,HandleType:{kHandleNone:0,kHandleTopLeft:1,kHandleTopRight:2,kHandleBottomRight:3,kHandleBottomLeft:4,kHandleTopMiddle:5,kHandleRightMiddle:6,kHandleBottomMiddle:7,kHandleLeftMiddle:8}}}]),window.mainApp.factory(u,getConstructor(l,u,"factory"))},iuAc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.module=void 0,n("rL2z");var r="user-management-links-service",o=angular.module("user-management-links-module",["authentication-module","paygw-module"]);function i(e,t,n){var r=function(e){var t=o();e(isUndefinedOrNull(t)?"":t.id)},o=function(){return isUndefinedOrNull(t.authentication)||isUndefinedOrNull(t.authentication.products)?null:t.authentication.products.getAssignedProduct()},i=function(e,t,r){n.goToLink(e,t,r)},a=function(e,t){i("custom",e,t)},l=function(e,t){var n=function(e,t){var n={};t&&(n.id=t),a(e,n)};t?n(e,t):r(function(t){n(e,t)})},u={goToJoin:function(e,t,n){r(function(r){var o={};o.checkoutT=n,r&&(o.id=r),e&&(o.mkey3=e),t&&(o.license=t),i("join",null,o)})},goToUpgrade:function(e,t){r(function(n){var r={};n&&(r.id=n),e&&(r.mkey3=e),t&&(r.license=t),i("upgrade",null,r)})},goToJoin_vId:function(e,t,n){var r={};e&&(r.id=e),t&&(r.mkey3=t),n&&(r.license=n),i("join",null,r)},goToJoin_vTobuy:function(e,t,n){r(function(r){var o={};r&&(o.id=r),t&&(o.mkey3=t),n&&(o.license=n),i("join",e,o)})},goOnline:function(){a("saas")},goKnowledgeBase:function(){a("knowledge-base")},goAssignLearnMore:function(){a("assign-learn-more")},renewProduct:function(e,t,n){var r={};e&&(r.id=e),t&&(r.mkey3=t),n&&(r.license=n),a("renew-product",r)},goBuyESign:function(e,t){var n={};e&&(n.id=e),t&&(n.mkey3=t),a("buy-e-sign",n)},goToBuyPartner:function(e){u.goToJoin(null,e,!0)},goBuyESignExt:function(e){a("buy-e-sign",e=e||{})},goBuyOCR:function(e,t){var n={};e&&(n.id=e),t&&(n.mkey3=t),a("buy-ocr",n)},goBuyOCRAdvanced:function(e,t){var n={};e&&(n.id=e),t&&(n.mkey3=t),a("upgrade-ocr",n)},addLicenses:function(e,t){var n={};e&&(n.id=e),t&&(n.mkey3=t),a("add-licenses",n)},switchProduct:function(e,t){var n={};e&&(n.id=e),t&&(n.mkey3=t),a("switch-product",n)},turnOnRenew:function(e){l("turn-on-renew",e)},paymentFailed:function(e){l("payment-failed",e)},resetLicense:function(e){l("logoff-product",e)},logoffProduct:function(e){l("logoff-product",e)},goManageAccount:function(){a("online-account")},goToChangePassword:function(){a("online-changepassword")},goToRecoverPasswordLink:function(){a("online-recoverpassword")},goToTermsAndConditionsLink:function(){a("online-terms")},goToContactSalesLink:function(){a("contact-sales")},goToESignHelp:function(){a("e-sign-user-guide")},goChangeCreditCardInfo:function(){a("payment-information")},viewAllProducts:function(){a("view-all-products")},goMyAccountPortal:function(){a("my-account-portal")}};return u}t.module=o,o.service(r,i),i.$inject=["$rootScope","authentication-service","paygw-factory"],window.mainApp&&window.mainApp.service(r,getConstructor("user-management-links-module",r,"service"))},jKMt:function(e,t,n){"use strict";var r="storage-document-uploader-service-module",o="storage-document-uploader-service";function i(e,t,n,r,o,i){var a={passFileSizeLimit:function(e){if(!o.isAuthenticated()&&e>26214400){var t=[{text:"CREATE ACCOUNT",callback:function(){i.ondemand.getUmActionsFactory().then(function(e){e.openSignUpPanel()})}},{text:"CANCEL"}];return i.itemLazyLoader.isReadyExt("index-page-is-ready").then(function(){i.getDialogFactory().then(function(e){e.messageBox.show({text:"Create a free account to upload files greater than 25 Mb.",icon:"error",callbacks:t})})}),!1}return!0},upload:function(e,t,o,i){if(~e.name.indexOf('"')){var l=e.name.replace(/"/g,"'"),u=new File([e],l,{type:e.type});u.hash=e.hash,e=u}return a.passFileSizeLimit(e.size)?n.upload({url:r.uiApiBase+"api/upload/save",file:e}).progress(i||function(){}).success(t||function(){}).error(o||function(){}):(o&&o(null,-1,null,{file:e}),null)}};return a}angular.module(r,["ngFileUpload"]).factory(o,i),i.$inject=["$rootScope","$q","Upload","GLOBAL","authentication-service","ui-helper-factory"],mainApp.factory(o,getConstructor(r,o,"factory"))},"k+uf":function(e,t,n){"use strict";var r=i(n("b8L+")),o=i(n("C3UN"));function i(e){return e&&e.__esModule?e:{default:e}}n("5UMD");var a="bl-edit-chariterator-factory";angular.module("bl-edit-chariterator-module",["bl-edit-utilites-module"]).factory(a,["$rootScope","bl-edit-utilites-service",function(e,t){var n={},i=function(e,t,n){var o=e,i=t,a=n;this.getTextBlock=function(){return i.textBlocks[a.blockIndex]},this.getQuad=function(){return r.default.quadFromRect(a.boundRect)},this.getPageIndex=function(){return o.getPageIndex(i)},this.isEqual=function(e){return e&&this.getQuad().isEqual(e.getQuad())}},a=function(e,t){for(var n=e.items,r=0;r<n.length;++r){var o=n[r];if(o&&o.blockIndex==t)return o}};return n.createCharIteratorForItemAtPoint=function(e,t,n,r){return new i(e,t,n)},n.createCharIteratorForItem=function(e,t,n){return new i(e,t,n)},n.createBeginCharIteratorForTextBlock=function(e,r,i,l){var u=function e(n,r){for(var i=n.length,l=0;l<i;++l){var u=n[l];switch(u.type){case o.default.PDEElementType.kPDEElementContainer:if(!t.shouldSkipContainer(u)&&u.isVisible){var c=e(u.content,r);if(c)return c}break;case o.default.PDEElementType.kPDEElementText:u.isVisible;var s=a(u,r);if(s)return s}}return null}(i,l);return u?n.createCharIteratorForItem(e,r,u):null},n}]),window.mainApp.factory(a,getConstructor("bl-edit-chariterator-module",a,"factory"))},kHBY:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={SBCode:{kSB_TOP:0,kSB_BOTTOM:1,kSB_ENDSCROLL:2,kSB_LINEDOWN:3,kSB_LINEUP:4,kSB_PAGEDOWN:5,kSB_PAGEUP:6,kSB_THUMBPOSITION:7,kSB_THUMBTRACK:8}}},kKPk:function(e,t,n){"use strict";var r=i(n("b8L+")),o=i(n("C3UN"));function i(e){return e&&e.__esModule?e:{default:e}}n("ZqXQ"),n("5UMD");var a="bl-edit-image-crop-transformer-module",l="bl-edit-image-crop-transformer-factory";angular.module(a,["bl-edit-utilites-module","bl-edit-editobject-module","pdf-manager-module"]).factory(l,["$q","$rootScope","bl-edit-utilites-service","bl-edit-editobject-factory","pdf-manager-factory",function(e,t,n,i,a){return{createInstance:function(t,n,i){return new function(t,n,i){var l=t,u=n,c=(l.getPage(u),null),s=r.default.size(),d=o.default.TransformType.TRANSFORM_NONE,f=r.default.rect(),p=r.default.rect(),g=this;g.getDocument=function(){return l},g.getElement=function(){return c},g.getPageIndex=function(){return u},g.getBBox=function(){return c.boundRect},g.isPerformingOperation=function(){return d!=o.default.TransformType.TRANSFORM_NONE},g.getOperationType=function(){return d},g.startOperation=function(e){d=e,p=f.copy()},g.endOperation=function(){f.isEqual(p)||(f=p.copy()),d=o.default.TransformType.TRANSFORM_NONE},g.getTransform=function(){return c.matrix?c.matrix.copy():r.default.identityMatrix()},g.getCropRect=function(){return f.copy()},g.setOperationCropRect=function(e){p=e.copy()},g.getOperationCropRect=function(){return p.copy()},g.getUserSpaceRect=function(){var e=c.getQuad();return transform_.invert().mapQuad(e).getBound()};var h=function(e,t){var n=r.default.quad();return n.tl=e.mapPoint(r.default.point(t.left,t.top)),n.tr=e.mapPoint(r.default.point(t.right,t.top)),n.bl=e.mapPoint(r.default.point(t.left,t.bottom)),n.br=e.mapPoint(r.default.point(t.right,t.bottom)),n};g.getImageWidth=function(){return s.width},g.getImageHeight=function(){return s.height},g.getImageBounds=function(){return c.getQuad().copy()},g.getOperationBounds=function(){var e=s.width,t=s.height,n=r.default.rect(p.left/e,p.bottom/t,p.right/e,p.top/t);return h(g.getTransform(),n)},g.getBounds=function(){var e=s.width,t=s.height,n=r.default.rect(f.left/e,f.bottom/t,f.right/e,f.top/t);return h(g.getTransform(),n)},g.hitTest=function(e){return g.getBounds().containsPoint(e)},g.applyCrop=function(){var t=e.defer(),n=r.default.rect(0,0,s.width,s.height);if(f.isEqual(n))t.reject();else{var o=r.default.rect(p.left/s.width,(s.height-p.bottom)/s.height,p.right/s.width,(s.height-p.top)/s.height);a.cropImage(l,u,c,o).then(t.resolve,t.reject)}return t.promise},g._initialize=function(e){switch(e.type){case o.default.PDEElementType.kPDEElementInlineImage:c=e,s=g.getImageBounds().getBound().getSize();break;case o.default.PDEElementType.kPDEElementXObject:e.xObjectType===o.default.PDEXObjectType.kPDEXObjectImage&&(c=e,s=g.getImageBounds().getBound().getSize())}c||console.log("Invalid object type for crop"),f=r.default.rect(0,0,s.width,s.height)};var m=o.default.EditModes.Move|o.default.EditModes.Resize|o.default.EditModes.Remove,v=deviceDetect.isPhone()?o.default.EditModes.Move:m;g.setCurrentEditMode=function(e){v=e},g.hasAnyCurrentEditMode=function(e){return!!(v&e)},g.hasAnyEditMode=function(e){return!!(m&e)},g._initialize(i)}(t,n,i)}}}]),window.mainApp.factory(l,getConstructor(a,l,"factory"))},kafm:function(e,t,n){"use strict";var r=a(n("C3UN")),o=a(n("b8L+")),i=a(n("oRGr"));function a(e){return e&&e.__esModule?e:{default:e}}var l="bl-ocr-idrs-inputHandler-module",u="bl-ocr-idrs-inputHandler-factory";angular.module(l,[]).factory(u,["$q","$rootScope",function(e,t){var n=function(e){var t=e,n=!1,a=o.default.point();this.getHandleType=function(){return i.default.InputHandlerType.kHandle},this.isUndeletable=function(){return!0},this.handleEvent=function(e){var t={isHandlerFinished:!1,isHandled:!1};return t.isHandled=h(e),t};var l=function(e,n){for(var r=t.getLayout().getScroll(),o=parseInt(n);o>0;)r.processScrollEvent(i.default.BLScrollBarType.kBLScrollBarVert,i.default.BLScrollEvent.kBLScrollStepMinus,0),--o;for(;o<0;)r.processScrollEvent(i.default.BLScrollBarType.kBLScrollBarVert,i.default.BLScrollEvent.kBLScrollStepPlus,0),++o},u=function(e){return function(e){if(n){var o=t.getLayout().getScroll(),l=a.x-e.x,u=a.y-e.y;o.setScrollPos(i.default.BLScrollBarType.kBLScrollBarHorz,l+o.getScrollPos(i.default.BLScrollBarType.kBLScrollBarHorz)),o.setScrollPos(i.default.BLScrollBarType.kBLScrollBarVert,u+o.getScrollPos(i.default.BLScrollBarType.kBLScrollBarVert)),a=e.copy(),t.setCursor(r.default.BLCursorType.kBLCursorDragHand)}}(e),!0},c=function(e,o){return t.setCursor(r.default.BLCursorType.kBLCursorDragHand),function(e){n||(a=e,n=!0)}(e),!0},s=function(e){return t.setCursor(r.default.BLCursorType.kBLCursorHand),function(e){a=e,n=!1}(e),!0},d=function(){t.undo()},f=function(){t.redo()},p=function(n,a){var l=t.getLayout().getScroll();switch(n){case r.default.kBLKey.kBLKey_ESCAPE:t.resetInputHandler();case r.default.kBLKey.kBLKey_PRIOR:return l.processScrollEvent(i.default.BLScrollBarType.kBLScrollBarVert,i.default.BLScrollEvent.kBLScrollPageMinus,0),!0;case r.default.kBLKey.kBLKey_NEXT:return l.processScrollEvent(i.default.BLScrollBarType.kBLScrollBarVert,i.default.BLScrollEvent.kBLScrollPagePlus,0),!0;case r.default.kBLKey.kBLKey_UP:return l.processScrollEvent(i.default.BLScrollBarType.kBLScrollBarVert,i.default.BLScrollEvent.kBLScrollStepMinus,0),!0;case r.default.kBLKey.kBLKey_DOWN:return l.processScrollEvent(i.default.BLScrollBarType.kBLScrollBarVert,i.default.BLScrollEvent.kBLScrollStepPlus,0),!0;case r.default.kBLKey.kBLKey_LEFT:return l.processScrollEvent(i.default.BLScrollBarType.kBLScrollBarHorz,i.default.BLScrollEvent.kBLScrollStepMinus,0),!0;case r.default.kBLKey.kBLKey_RIGHT:return l.processScrollEvent(i.default.BLScrollBarType.kBLScrollBarHorz,i.default.BLScrollEvent.kBLScrollStepPlus,0),!0;case r.default.kBLKey.kBLKey_HOME:return l.setScrollPos(o.default.point()),!0;case r.default.kBLKey.kBLKey_END:var u=t.getContentSize();return l.setScrollPos(o.default.point(u.width,u.height)),!0;case r.default.kBLKey.kBLKey_ADD:if(r.default.BLFlagIsSet(a,r.default.BLInputEventFlags.kBLInputEventFlagCtrlPressed))return t.getLayout().zoomIncrease(),!0;case r.default.kBLKey.kBLKey_SUBTRACT:if(r.default.BLFlagIsSet(a,r.default.BLInputEventFlags.kBLInputEventFlagCtrlPressed))return t.getLayout().zoomDecrease(),!0;case r.default.kBLKey.kBLKey_R:if(r.default.BLFlagIsSet(a,r.default.BLInputEventFlags.kBLInputEventFlagCtrlPressed)){var c=t.getLayout(),s=(c.getRotate()+90)%360;return c.setRotate(s),!0}case r.default.kBLKey.kBLKey_L:if(r.default.BLFlagIsSet(a,r.default.BLInputEventFlags.kBLInputEventFlagCtrlPressed)){var d=t.getLayout(),f=(d.getRotate()+270)%360;return d.setRotate(f),!0}case r.default.kBLKey.kBLKey_A:if(r.default.BLFlagIsSet(a,r.default.BLInputEventFlags.kBLInputEventFlagCtrlPressed)){var p=g(e,r.default.OcrZoneType.kOcrZoneText);return e.pushInputHandler(p),!0}case r.default.kBLKey.kBLKey_Y:if(r.default.BLFlagIsSet(a,r.default.BLInputEventFlags.kBLInputEventFlagCtrlPressed)){var m={};return m.type=r.default.BLInputEventType.kBLInputEventCommand,m.commandArgs={},m.commandArgs.command="Redo",h(m)}break;case r.default.kBLKey.kBLKey_Z:if(r.default.BLFlagIsSet(a,r.default.BLInputEventFlags.kBLInputEventFlagCtrlPressed)){var v={};return v.type=r.default.BLInputEventType.kBLInputEventCommand,v.commandArgs={},v.commandArgs.command="Undo",h(v)}}return!1},g=function(){console.log("not implemented")},h=function(e){switch(e.type){case r.default.BLInputEventType.kBLInputEventCommand:return function(e){return"Undo"==e?(d(),!0):"Redo"==e&&(f(),!0)}(e.commandArgs.command);case r.default.BLInputEventType.kBLInputEventPointerMoved:return u(e.pointerArgs.position);case r.default.BLInputEventType.kBLInputEventWheelChanged:if(r.default.BLFlagIsSet(e.wheelArgs.flags,r.default.BLInputEventFlags.kBLInputEventFlagCtrlPressed)){var n=1+1.5*e.wheelArgs.delta/10;!function(e,n){var r=t.getLayout(),o=r.getZoom()*n;r.zoomTo(o,e)}(e.wheelArgs.position,n)}else{var o=1*e.wheelArgs.delta;l(e.wheelArgs.position,o)}break;case r.default.BLInputEventType.kBLInputEventPointerPressed:switch(e.pointerArgs.button){case r.default.BLPointerButton.kBLPointerButtonLeft:return c(e.pointerArgs.position,e.pointerArgs.flags)}break;case r.default.BLInputEventType.kBLInputEventPointerReleased:switch(e.pointerArgs.button){case r.default.BLPointerButton.kBLPointerButtonLeft:return s(e.pointerArgs.position)}break;case r.default.BLInputEventType.kBLInputEventKeyPressed:return p(e.keyArgs.keycode,e.keyArgs.flags);default:return!1}return!0}};return{createInstance:function(e){return new n(e)}}}]),window.mainApp.factory(u,getConstructor(l,u,"factory"))},lii2:function(e,t,n){"use strict";n("W6JU"),n("NBi1"),n("Jqpr");var r="bl-edit-compositeeditobject-module",o="bl-edit-compositeeditobject-factory";angular.module(r,["bl-edit-compositeeditobject-item-graphics-module","bl-edit-compositeeditobject-item-text-module","bl-edit-compositeeditobject-item-multiselect-module"]).factory(o,["$rootScope","bl-edit-compositeeditobject-item-graphics-factory","bl-edit-compositeeditobject-item-text-factory","bl-edit-compositeeditobject-item-multiselect-factory",function(e,t,n,r){var o={Transform:t,TextEdit:n,MultiSelect:r},i=function(e){var t=[];isUndefinedOrNull(e)||(t=e);this.getCount=function(){return t.length},this.get=function(e){return e>=0&&t.length>e?t[e]:null},this.push=function(e){t.push(e)}},a=function(e,t){var n=[];for(var r in o){var i=o[r],a=l.newCompositeEditObject();i.createCompositeEditObjectForPage(e,t,a),a&&l.copyFromCompositeToEditObjectStore(a,n)}return n},l={};return l.createCompositeEditObjectForPage=function(e,t){return l.createCompositeEditObjectByData(function(e,t){return a(e,t)}(e,t))},l.createCompositeEditObjectByData=function(e){return new i(e)},l.createCompositeEditObject=function(){return new i},l.newCompositeEditObject=function(){return l.createCompositeEditObject()},l.getSelectedObjectsOnPage=function(e,t){var n=e.getSelection();if(!n)return null;var r=n.getType(),i=o[r];return i?i.getSelectedObjectsOnPage(e,t):null},l.copyFromCompositeToEditObjectStore=function(e,t){var n=e.getCount();if(!(n<0))for(var r=0;r<n;++r){var o=e.get(r);t.push(o)}},l}]),window.mainApp.factory(o,getConstructor(r,o,"factory"))},"mC++":function(e,t,n){"use strict";var r=i(n("C3UN")),o=i(n("b8L+"));function i(e){return e&&e.__esModule?e:{default:e}}n("ZqXQ");var a="bl-edit-graphicseditobject-module",l="bl-edit-graphicseditobject-factory";angular.module(a,["bl-edit-editobject-module"]).factory(l,["$rootScope","bl-edit-editobject-factory",function(e,t){var n={};return n.createGraphicsEditObject=function(e,n,r){return new function(e,n,r){var i=this,a=r;i.prototype=t.createInstance(e,n),i.getPageIndex=function(){return i.prototype.getPageIndex()},i.getObjectType=function(){return"Transform"},i.getElement=function(){return a},i.hitTestPoint=function(e){return i.getBounds().containsPoint(e)},i.hitTestRect=function(e){return i.getBounds().hasIntersectionRect(e)},i.getObjectSpaceRect=function(){var e=a.getQuad();return i.getCTM().invert().mapQuad(e).getBound()},i.getCTM=function(){return a.matrix},i.applyEdit=function(){alert("graphicsEditObject - applyEdit")},i.delete=function(){alert("graphicsEditObject - delete")},i.getData=function(){return i},i.getPDEElement=function(){return a},i.getBounds=function(){var e=i.getCTM(),t=i.getObjectSpaceRect();return e.mapQuad(o.default.quadFromRect(t))},i.compareInternals=function(e){return e&&e.getPDEElement()===i.getPDEElement()}}(e,n,r)},n.createEditObjectByPagePoint=function(e,t,o,i){switch(o.type){case r.default.PDEElementType.kPDEElementXObject:if(o.isVisible)if(o.hitTest(i))return n.createGraphicsEditObject(e,t,o);break;case r.default.PDEElementType.kPDEElementPath:if(o.hitTest(i))return n.createGraphicsEditObject(e,t,o);break;case r.default.PDEElementType.kPDEElementInlineImage:case r.default.PDEElementType.kPDEElementShading:if(o.hitTest(i))return n.createGraphicsEditObject(e,t,o)}return null},n}]),window.mainApp.factory(l,getConstructor(a,l,"factory"))},mGod:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.module=void 0;var r=l(n("/jXN")),o=l(n("7t+N"));n("isVG");var i=l(n("C3UN")),a=l(n("VmtT"));function l(e){return e&&e.__esModule?e:{default:e}}n("PfLl");var u=r.default.module("ui-usersettings-module",["ui-helper-module","authentication-module","pascalprecht.translate","pdf-model-module"]);function c(e,t,n,r,l,u,c,s,d){var f=l.ondemand.getAuthenticationUiProxyService(),p={settingsInProgress:!1,settings:{language:"en",font:{family:"Times New Roman",format:1,size:12},dialogs:{accessDenied:{}},layout:{viewState:i.default.pdfDocumentView.continuous,pageView:deviceDetect.isPhone()?"fit-width":"actual-size",pageSize:{id:"Letter",value:{width:215.9,height:279.4}},units:i.default.Units.inch},eSign:{lastEmptyPackageNumber:1,lastCreatedTemplatePackageNumber:1},pageSizeDialog:{sizeId:"Letter",units:i.default.Units.inch,customSize:{width:0,height:0}},graphics:{viewCornerAnimation:!0},leftSideBar:{lastOpenPanel:{value:"thumbnails",temp:null}},messageCenter:{fromDate:null,isDisabled:!0,notification:{messageId:null,modifiedDate:null,isClosed:!1}},sharePoint:{urls:[]},place:{flags:0},history:{actions:""},quickAccess:{buttons:62},recent:{view:"thumbnail"}}},g=d.get("settings");g&&(p.settings=o.default.extend(p.settings,g)),a.default.Graphics.ViewCornerAnimation=p.settings.graphics.viewCornerAnimation;var h=function(){d.set("settings",p.settings),a.default.Graphics.ViewCornerAnimation=p.settings.graphics.viewCornerAnimation,document.getElementsByTagName("html")[0].setAttribute("lang",p.settings.language),document.getElementsByTagName("html")[0].setAttribute("xml:lang",p.settings.language)};p.saveSettings=function(t){return t&&p.settings.leftSideBar.lastOpenPanel.temp&&(p.settings.leftSideBar.lastOpenPanel.value=p.settings.leftSideBar.lastOpenPanel.temp,p.settings.leftSideBar.lastOpenPanel.temp=null),h(),s.isAuthenticated()?(p.settingsInProgress=!0,c.saveAccountSettings(p.settings).finally(function(){p.settingsInProgress=!1})):e.reject()};return p.loadUserData=function(){p.settingsInProgress||s.isAuthenticated()&&(p.settingsInProgress=!0,c.loadAccountSettings().then(function(e){e&&(o.default.extend(!0,p.settings,e),h(),u.use()!==p.settings.language&&u.use(p.settings.language).then(function(){return u.refresh()}),l.itemLazyLoader.makeReady("ui-usersettings-factory:loaded"),t.$broadcast("event:userSettings-loaded"))}).finally(function(){p.settingsInProgress=!1}))},p.resetUserData=function(){},f.then(function(e){e.subscribe(p)}),t.$on("event:auth-token-updated",function(e){p.loadUserData()}),l.itemLazyLoader.makeReady("ui-usersettings-factory"),p}t.module=u,u.factory("ui-usersettings-factory",c),c.$inject=["$q","$rootScope","$timeout","$injector","ui-helper-factory","$translate","pdf-model-factory","authentication-service","localStorageService"],window.mainApp.factory("ui-usersettings-factory",getConstructor("ui-usersettings-module","ui-usersettings-factory","factory"))},mbrq:function(e,t,n){"use strict";var r=l(n("Xxa5")),o=l(n("exGp")),i=l(n("C3UN")),a=l(n("VmtT"));function l(e){return e&&e.__esModule?e:{default:e}}var u="bl-widgetannot-handler-factory";angular.module("bl-widgetannot-handler-module",[]).factory(u,["$rootScope","ui-helper-factory",function(e,t){var n=t.ondemand.getWidgetManagerFactory,l=null;return{createInstance:function(t){return new function(){var t=this,u=i.default.pdfAcroformType,c=function(){var e=(0,o.default)(r.default.mark(function e(o,a,c,s){var d,f,p,g;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(c){e.next=2;break}return e.abrupt("return",!1);case 2:if(d=c.acroform){e.next=5;break}return e.abrupt("return",!1);case 5:if(d.type===u.text||d.type===u.choice){e.next=7;break}return e.abrupt("return",!1);case 7:if(l){e.next=11;break}return e.next=10,n();case 10:l=e.sent;case 11:if(f=l.createWidget(o,a,d,c.rect)){e.next=14;break}return e.abrupt("return",!1);case 14:return c.widget=f,e.next=17,l.getInputHandler(o,a,d,c.widget);case 17:if(p=e.sent){e.next=20;break}return e.abrupt("return",!1);case 20:return(g={pointerArgs:{}}).type=i.default.BLInputEventType.kBLInputEventPointerPressed,g.pointerArgs.button=i.default.BLPointerButton.kBLPointerButtonLeft,g.pointerArgs.position=s,g.pointerArgs.flags=0,p.handleEvent(g),l.init(c,o.getDocument()),e.abrupt("return",!0);case 28:case"end":return e.stop()}},e,t)}));return function(t,n,r,o){return e.apply(this,arguments)}}();this.onFocus=function(t,n,r){r.acroform&&"Btn"!==r.acroform.type&&"Sig"!==r.acroform.type&&e.$broadcast("event-document-annot-object-enter",{view:t,pageIndex:n,annot:r}),l.runActions(t,r.focusActions)},this.onBlur=function(t,n,r){t&&r&&(r.acroform&&"Btn"!==r.acroform.type&&"Sig"!==r.acroform.type&&e.$broadcast("event-document-annot-object-leave",{view:t}),l.runActions(t,r.blurActions),r.widget&&r.acroform.type!==u.text&&(r.widget=null))},this.onMouseEnter=function(){var e=(0,o.default)(r.default.mark(function e(t,o,a){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a.acroform){e.next=2;break}return e.abrupt("return");case 2:if(l){e.next=6;break}return e.next=5,n();case 5:l=e.sent;case 6:t.setCursor("Tx"!==a.acroform.type?i.default.BLCursorType.kBLCursorLinkHand:i.default.BLCursorType.kBLCursorIBeam),l.runActions(t,a.mouseenterActions);case 8:case"end":return e.stop()}},e,this)}));return function(t,n,r){return e.apply(this,arguments)}}(),this.onMouseExit=function(e,t,n){e.setCursor(i.default.BLCursorType.kBLCursorHand),l.runActions(e,n.mouseleaveActions)};var s=function(){var e=(0,o.default)(r.default.mark(function e(o,i,a,u){var s;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s=a.mousedownActions,l){e.next=5;break}return e.next=4,n();case 4:l=e.sent;case 5:if(!(s&&s.length>0)){e.next=8;break}return l.runActions(o,s),e.abrupt("return",!0);case 8:return e.next=10,c(o,i,a,u);case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}},e,t)}));return function(t,n,r,o){return e.apply(this,arguments)}}();this.onMouseDown=function(){var e=(0,o.default)(r.default.mark(function e(t,n,o,i){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.deviceDetect.isPhone()){e.next=2;break}return e.abrupt("return",!0);case 2:return e.next=4,s(t,n,o,i);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,this)}));return function(t,n,r,o){return e.apply(this,arguments)}}(),this.onMouseUp=function(){var e=(0,o.default)(r.default.mark(function e(t,n,o,i){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.deviceDetect.isPhone()){e.next=5;break}return e.next=3,s(t,n,o,i);case 3:return e.next=5,e.sent;case 5:return e.abrupt("return",l.mouseUp(t,n,o));case 6:case"end":return e.stop()}},e,this)}));return function(t,n,r,o){return e.apply(this,arguments)}}(),this.onDraw=function(){var e=(0,o.default)(r.default.mark(function e(t,o,c,s){var d,f;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(0==(c&i.default.PDPageRenderFlags.kPDPageRenderSkipAnnots)){e.next=2;break}return e.abrupt("return");case 2:if(!o){e.next=9;break}if(l){e.next=7;break}return e.next=6,n();case 6:l=e.sent;case 7:o.acroform&&o.acroform.type===u.choice&&o.acroform.iCombo&&s&&(d=s.getDocument())&&!window.isUndefinedOrNull(d.pageSelectedIndex)&&(o.widget=l.createWidget(s,d.pageSelectedIndex,o.acroform,o.rect)),l.draw(t,s,o.acroform,o.widget);case 9:if(0!=(c&i.default.PDPageRenderFlags.kPDPageRenderHighlightAnnots)&&t.fillRect(o.rect,a.default.Forms.HighlightColor),0==(c&i.default.PDPageRenderFlags.kPDPageRenderOrderAnnots)){e.next=20;break}if(o.order){e.next=13;break}return e.abrupt("return");case 13:f=o.rect,t.pushState(),t.translateCTM(f.left,f.bottom),t.rotateCTM(Math.PI),t.scaleCTM(-1,1),t.fillText(a.default.Forms.Order.Font,o.order,a.default.Forms.Order.Color),t.popState();case 20:case"end":return e.stop()}},e,this)}));return function(t,n,r,o){return e.apply(this,arguments)}}()}(t)}}}]),window.mainApp.factory(u,getConstructor("bl-widgetannot-handler-module",u,"factory"))},nErl:function(e,t){(function(t){e.exports=t}).call(t,{})},o4bB:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.module=void 0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n("/jXN")).default.module("online-status-factory-module",[]);function o(e,t){var n={};return n.onLine=e.navigator.onLine,n.isOnline=function(){return n.onLine},e.addEventListener("online",function(){n.onLine=!0,t.$digest()},!0),e.addEventListener("offline",function(){n.onLine=!1,t.$digest()},!0),n}t.module=r,r.factory("online-status-factory",o),o.$inject=["$window","$rootScope"],mainApp.factory("online-status-factory",getConstructor("online-status-factory-module","online-status-factory","factory"))},oM7Q:function(e,t,n){n("sF+V");var r=n("FeBl").Object;e.exports=function(e,t){return r.create(e,t)}},oRGr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={BLZoomType:{kBLZoomValue:0,kBLZoomFitPage:1,kBLZoomFitWidth:2,kBLZoomFitHeight:3},BLScrollType:{kScrollNone:0,kScrollVert:2,kScrollHorz:4},BLScrollBarType:{kBLScrollBarHorz:0,kBLScrollBarVert:1},BLScrollEvent:{kBLScrollHome:0,kBLScrollEnd:1,kBLScrollStepPlus:2,kBLScrollStepMinus:3,kBLScrollPagePlus:4,kBLScrollPageMinus:5,kBLScrollPos:6,kBLScrollSliderReleased:7},PAGE_HALF_MARGIN:3,PAGE_MARGIN:6,OcrZoneSeparatorType:{kOcrZoneHorzSeparator:0,kOcrZoneVertSeparator:1},OcrZoneType:{kOcrZoneText:0,kOcrZoneGraphic:1,kOcrZoneTable:2,kOcrZoneBarcode:3,kOcrZoneHand:4},OcrZoneColor:{kNoneAreaColor:"#F0F0F0",kTextAreaColor:"#FB0303",kGraphicAreaColor:"#025FBE",kTableAreaColor:"#9954C9",kBarcodeAreaColor:"#FB6002",kHandAreaColor:"#028F37"},InputHandlerType:{kHandle:0,kHandleSelectZone:1,kHandleEditZone:2,kHandleAddTextZone:3,kHandleAddGraphicsZone:4,kHandleAddBarcodeZone:5,kHandleAddTableZone:6,kHandleAddHandZone:7,kHandleRemoveZone:8,kHandleAddVertSeparatorZone:9,kHandleAddHorzSeparatorZone:10,kHandleRemoveSeparatorZone:11}}},ozWS:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.module=void 0,n("iuAc");var r="user-management-actions-service",o=angular.module("user-management-actions-module",["ui-helper-module","user-management-links-module"]);function i(e,t,n){var r={},o=t.ondemand.getInAppTrackingFactory(),i=t.ondemand.getAuthenticationUiProxyService();return r.openSignInPanel=function(t){t||o.then(function(e){var t=e.getInstance();t&&t.onUMAction("ViewSignInSignUp")}),e.$state.includes("signin")||e.$state.go("sitemenu-account-signin",{param1:"signin"})},r.openSignUpPanel=function(t){t||o.then(function(e){var t=e.getInstance();t&&t.onUMAction("ViewSignInSignUp")}),e.$state.includes("signup")||e.$state.go("sitemenu-account-signin",{param1:"signup"})},r.openAccountManagePanel=function(t){t||o.then(function(e){var t=e.getInstance();t&&t.onUMAction("ViewManageAccount")}),e.$state.go("sitemenu-account-manage")},r.openProductsPanel=function(t){t||o.then(function(e){var t=e.getInstance();t&&t.onUMAction("ViewProducts")}),e.$state.go("sitemenu-account-myproducts")},r.joinLink=function(e,t,r,i){isUndefinedOrNull(e)&&(e=""),t?(o.then(function(e){var n=e.getInstance();n&&n.onUMAction("JoinLink",{tobuy:t})}),n.goToJoin_vTobuy(t,e,i)):r?(o.then(function(e){var t=e.getInstance();t&&t.onUMAction("JoinLink",{product:r})}),n.goToJoin_vId(r,e,i)):(o.then(function(e){var t=e.getInstance();t&&t.onUMAction("JoinLink")}),n.goToJoin(e,i))},r.goKnowledgeBase=function(){o.then(function(e){var t=e.getInstance();t&&t.onUMAction("GoKnowledgeBase")}),n.goKnowledgeBase()},r.renewProduct=function(e,t,r){isUndefinedOrNull(e)&&(e=""),isUndefinedOrNull(t)&&(t=""),o.then(function(t){var n=t.getInstance();n&&n.onUMAction("RenewProduct",{"product-id":e})}),n.renewProduct(e,t,r)},r.goBuyESign=function(e,t){isUndefinedOrNull(e)&&(e=""),isUndefinedOrNull(t)&&(t=""),o.then(function(t){var n=t.getInstance();n&&n.onUMAction("BuyESign",{"product-id":e})}),n.goBuyESign(e,t)},r.goBuyESignExt=function(e,t,r){isUndefinedOrNull(t)&&(t=""),isUndefinedOrNull(r)&&(r=""),e?o.then(function(t){var n=t.getInstance();n&&n.onUMAction("BuyESign",{tobuy:e})}):t?o.then(function(e){var n=e.getInstance();n&&n.onUMAction("BuyESign",{product:t})}):o.then(function(e){var t=e.getInstance();t&&t.onUMAction("BuyESign")});var i=i||{};r&&(i.mkey3=r),t&&(i.id=t),n.goBuyESignExt(i)},r.goBuyOCR=function(e,t){isUndefinedOrNull(e)&&(e=""),isUndefinedOrNull(t)&&(t=""),o.then(function(t){var n=t.getInstance();n&&n.onUMAction("BuyOCR",{"product-id":e})}),n.goBuyOCR(e,t)},r.goBuyOCRAdvanced=function(e,t){isUndefinedOrNull(e)&&(e=""),isUndefinedOrNull(t)&&(t=""),o.then(function(t){var n=t.getInstance();n&&n.onUMAction("BuyOCRAdvanced",{"product-id":e})}),n.goBuyOCRAdvanced(e,t)},r.addLicenses=function(e,t){isUndefinedOrNull(e)&&(e=""),isUndefinedOrNull(t)&&(t=""),o.then(function(t){var n=t.getInstance();n&&n.onUMAction("AddLicenses",{"product-id":e})}),n.addLicenses(e,t)},r.goSwitchProduct=function(e,t){isUndefinedOrNull(e)&&(e=""),isUndefinedOrNull(t)&&(t=""),o.then(function(t){var n=t.getInstance();n&&n.onUMAction("GoSwitchProduct",{"product-id":e})}),n.switchProduct(e,t)},r.buyPremiumBrowserExtention=function(e){n.goToBuyPartner(e)},r.turnOnRenew=function(e){isUndefinedOrNull(e)&&(e=""),o.then(function(t){var n=t.getInstance();n&&n.onUMAction("TurnOnRenew",{"product-id":e})}),n.turnOnRenew(e)},r.paymentFailed=function(e){isUndefinedOrNull(e)&&(e=""),o.then(function(t){var n=t.getInstance();n&&n.onUMAction("PaymentFailed",{"product-id":e})}),n.paymentFailed(e)},r.goManageAccount=function(){o.then(function(e){var t=e.getInstance();t&&t.onUMAction("GoManageAccount")}),n.goManageAccount()},r.goToChangePassword=function(){n.goToChangePassword()},r.goToRecoverPassword=function(){n.goToRecoverPasswordLink()},r.goChangeCreditCardInfo=function(){n.goChangeCreditCardInfo()},r.viewAllProducts=function(){n.viewAllProducts()},r.goMyAccountPortal=function(){n.goMyAccountPortal()},r.termsAndConditions=function(){o.then(function(e){var t=e.getInstance();t&&t.onUMAction("GoToTermsAndConditions")}),n.goToTermsAndConditionsLink()},r.goToESignHelp=function(){n.goToESignHelp()},i.then(function(e){e.subscribe(r)}),r}t.module=o,o.service(r,i),i.$inject=["$rootScope","ui-helper-factory","user-management-links-service"],window.mainApp&&window.mainApp.service(r,getConstructor("user-management-actions-module",r,"service"))},q3gF:function(e,t,n){n("JWAb"),e.exports=n("FeBl").Math.trunc},"r/7/":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(n("C3UN")),o=i(n("Csog"));function i(e){return e&&e.__esModule?e:{default:e}}t.default={borderStyle:[{id:"solid",text:"Solid",value:"S"},{id:"dashed",text:"Dashed",value:"D"},{id:"beveled",text:"Beveled",value:"B"},{id:"inset",text:"Inset",value:"I"},{id:"underline",text:"Underline",value:"U"}],modifier:[{id:"regular",text:"Regular",value:r.default.FontStyle.Regular},{id:"italic",text:"Italic",value:r.default.FontStyle.Italic},{id:"bold",text:"Bold",value:r.default.FontStyle.Bold},{id:"boldItalic",text:"Bold-Italic",value:r.default.FontStyle.BoldItalic}],bool:[{id:"no",text:"No",value:!1},{id:"yes",text:"Yes",value:!0}],checked:[{id:"unchecked",text:"Unchecked",value:!1},{id:"checked",text:"Checked",value:!0}],alignment:[{id:"left",text:"Left",value:r.default.TextJustification.Left},{id:"center",text:"Center",value:r.default.TextJustification.Center},{id:"right",text:"Right",value:r.default.TextJustification.Right}],highlight:[{id:"none",text:"None",value:"N"},{id:"invert",text:"Invert",value:"I"},{id:"outline",text:"Outline",value:"O"},{id:"push",text:"Push",value:"P"},{id:"toggle",text:"Toggle",value:"T"}],rotate:[{id:"rotate_0",text:"0",value:0},{id:"rotate_90",text:"90",value:90},{id:"rotate_180",text:"180",value:180},{id:"rotate_270",text:"270",value:270}],eslSignatureType:[{id:o.default.FieldStyle.Signature,text:"Signature",value:o.default.FieldStyle.Signature},{id:o.default.FieldStyle.Initials,text:"Initials",value:o.default.FieldStyle.Initials}],eslFieldType:[{id:o.default.FieldStyle.CheckBox,text:"Check Box",value:o.default.FieldStyle.CheckBox},{id:o.default.FieldStyle.RadioButton,text:"Radio Button",value:o.default.FieldStyle.RadioButton},{id:o.default.FieldStyle.TextInput,text:"Text Field",value:o.default.FieldStyle.TextInput},{id:o.default.FieldStyle.DropDown,text:"List",value:o.default.FieldStyle.DropDown},{id:o.default.FieldStyle.Title,text:"Signer Title",value:o.default.FieldStyle.Title},{id:o.default.FieldStyle.Company,text:"Signer Company",value:o.default.FieldStyle.Company},{id:o.default.FieldStyle.Name,text:"Signer Name",value:o.default.FieldStyle.Name},{id:o.default.FieldStyle.Email,text:"Signer E-Mail",value:o.default.FieldStyle.Email},{id:o.default.FieldStyle.Date,text:"Signing Date",value:o.default.FieldStyle.Date}]}},r1RI:function(e,t,n){"use strict";var r=a(n("Xxa5")),o=a(n("exGp")),i=a(n("C3UN"));function a(e){return e&&e.__esModule?e:{default:e}}n("v1ab"),n("k+uf"),n("c4if"),n("JARy");angular.module("bl-editmodule-module",["bl-edit-module","bl-edit-chariterator-module","bl-edit-caret-module","pdf-manager-module","ui-viewer-textedit-module"]).factory("bl-editmodule-service",["$rootScope","bl-edit-service","bl-edit-chariterator-factory","bl-edit-caret-factory","pdf-manager-factory","ui-viewer-textedit-factory","ui-helper-factory",function(e,t,n,a,l,u,c){var s=this,d={},f=c.ondemand.getUiViewerActionsFactory();return d.createAndSetCaret=function(){var e=(0,o.default)(r.default.mark(function e(t,n,o){var i,l,u,c,d;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=null,t&&n){e.next=3;break}return e.abrupt("return",i);case 3:if(l=t.document){e.next=6;break}return e.abrupt("return",i);case 6:if(!o){e.next=12;break}(u=a.createInstance(l)).moveTo(n),t.setHighlightNamed("TextEditHighlight",u),e.next=19;break;case 12:return t.setHighlight(null),c={},(d=a.createInstance(l,c)).moveTo(n),e.next=18,t.setSelectionAndTool("TextEdit",d);case 18:i=e.sent;case 19:return e.abrupt("return",i);case 20:case"end":return e.stop()}},e,s)}));return function(t,n,r){return e.apply(this,arguments)}}(),d.setupTextEditTool=function(e,t){var r=e.document,o=e.getPageAtPoint(t),c=r.getPage(o),s=e.mapPointToPage(o,t),d=u.getSelectedFont(r),p=i.default.FontStyle.Regular;d.isItalic&&d.isBold?p=i.default.FontStyle.BoldItalic:d.isItalic?p=i.default.FontStyle.Italic:d.isBold&&(p=i.default.FontStyle.Bold),l.createTextBlock(r.id,o,s.x,s.y,d.descriptor.text,d.size.id,d.color,p,d.descriptor.value.format).then(function(t){if(t){var o=c.textBlocks.indexOf(t);if(!(o<0)){var i=n.createBeginCharIteratorForTextBlock(r,c,c.content,o),l=a.createInstance(r,{});l.moveTo(i),e.setSelectionAndTool("TextEdit",l,function(){f.then(function(t){window.deviceDetect.isPhone()&&t.switchPopupTextEditVisibilityExt(e)})})}}})},d}]),window.mainApp.factory("bl-editmodule-service",getConstructor("bl-editmodule-module","bl-editmodule-service","factory"))},rL2z:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.module=void 0;var r=a(n("Xxa5")),o=a(n("exGp")),i=a(n("7t+N"));function a(e){return e&&e.__esModule?e:{default:e}}var l=angular.module("paygw-module",["authentication-module","ui-usersettings-module"]);function u(e,t,n,a,l,u){var c={appName:a.appName,partner:""},s=function(e){return a.paygw+e+"/soda pdf online"},d=function(){var e=(0,o.default)(r.default.mark(function e(t,n,o){var a,d,f,p,g,h,m;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.getUserSettingsFactory();case 2:return a=e.sent,d=s(t),o&&o.id&&(f=isUndefinedOrNull(l.authentication)||isUndefinedOrNull(l.authentication.products)?null:l.authentication.products.getAssignedProduct(),o.productstatus=isUndefinedOrNull(f)?"":f.status),p=void 0,jTracking.ready&&jTracking.ready(function(e){p=!0===o.checkoutT?e.getCheckoutTracking():e.getTracking()}),o&&(p=i.default.extend({},p,o)),c.partner&&(p=i.default.extend({},p,{partner:c.partner})),p.lang=a.settings.language,(g=l.hasAuthenticatedRefreshTokenValue())&&(p.refresh_token=g,p.userstatus=l.authentication.status),isUndefinedOrNull(l.pgwtrailer)||(p.pgwtrailer=l.pgwtrailer),"join"===t?(n&&(p.tobuy=n),p.license||(h=isUndefinedOrNull(l.authentication)||isUndefinedOrNull(l.authentication.products)?null:l.authentication.products.getAssignedProduct(),(m=isUndefinedOrNull(h)?"":h.unitName)&&(p.license=m))):"custom"===t&&(p.customvalue=n),d+="/?",d+=i.default.param(p),e.abrupt("return",d);case 17:case"end":return e.stop()}},e,this)}));return function(t,n,r){return e.apply(this,arguments)}}();return c.goToLink=function(){var e=(0,o.default)(r.default.mark(function e(t,n,o){var i,a,l,u;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return i=n||"",a=o||{},e.next=6,d(t,i,a);case 6:l=e.sent,(u=window.open(l,"_blank"))?u.focus():alert("Please allow popups for this site");case 9:case"end":return e.stop()}},e,this)}));return function(t,n,r){return e.apply(this,arguments)}}(),c.downloadApp=function(){return u.getUserSettingsFactory().then(function(e){var t="http://desktop.sodapdf.com/download.ashx?productcode=sodapdf$params=",n=e.settings.language,r=void 0;jTracking.ready&&jTracking.ready(function(e){r=e.getTracking()}),r.language=n,t+=i.default.param(r),t+="$dwld=desktop.sodapdf.com/";var o=window.open(t,"_blank");o?o.focus():alert("Please allow popups for this site")}),!1},u.itemLazyLoader.makeReady("paygw-factory"),c}t.module=l,l.factory("paygw-factory",u),u.$inject=["$rootScope","$http","$q","GLOBAL","authentication-service","ui-helper-factory"],window.mainApp&&mainApp.factory("paygw-factory",getConstructor("paygw-module","paygw-factory","factory"))},"sF+V":function(e,t,n){var r=n("kM2E");r(r.S,"Object",{create:n("Yobk")})},sMjP:function(e,t,n){"use strict";var r=a(n("b8L+")),o=a(n("C3UN")),i=a(n("Y4eM"));function a(e){return e&&e.__esModule?e:{default:e}}var l="bl-edit-clip-edit-object-module",u="bl-edit-clip-edit-object-factory";angular.module(l,["pdf-manager-module"]).factory(u,["$rootScope","pdf-manager-factory",function(e,t){var n=function(e,n,i,a){var l=e,u=n,c=(l.getPage(u),null),s=a,d=null,f=o.default.TransformType.TRANSFORM_NONE,p=r.default.identityMatrix(),g=p.copy(),h=this;h.init=function(e){c=e;var t=h.getClipElement();p=t&&t.matrix?t.matrix.copy():r.default.identityMatrix(),g=p.copy()},h.getDocument=function(){return l},h.getElement=function(){return c},h.getPageIndex=function(){return u},h.getBound=function(){var e=h.getClipElement();return e?e.getBBox():r.default.rect()},h.getUserSpaceRect=function(){var e=h.getClipElement();if(e){var t=e.getQuad();return p.invert().mapQuad(t).getBound()}return r.default.rect()},h.hitTest=function(e){var t=h.getClipElement();return!!t&&t.getQuad().containsPoint(e)},h.getBounds=function(){var e=h.getClipElement();return e?e.getQuad().copy():r.default.quad()},h.getOperationBounds=function(){var e=h.getClipElement();if(e){var t=e.getQuad(),n=p.invert();return g.mapQuad(n.mapQuad(t))}return r.default.quad()},h.getTransform=function(){return p},h.setOperationTransform=function(e){g=e},h.getOperationTransform=function(){return g},h.isPerformingOperation=function(){return f!=o.default.TransformType.TRANSFORM_NONE},h.getOperationType=function(){return f},h.startOperation=function(e){f=e,g=p.copy()},h.endOperation=function(){p.isEqual(g)||t.transformClip(l,u,c,s,g).then(function(e){e&&(d.init(e),h.init(e))}).catch(function(){g=p.copy()}),f=o.default.TransformType.TRANSFORM_NONE},h.delete=function(){t.deleteClip(l,u,c,s).then(function(e){e&&d.init(e)}).catch(function(){})},h.setCollection=function(e){return d=e},h.getCollection=function(){return d},h.getClipElement=function(){var e=c.clip;return e?e[s]:null};var m=o.default.EditModes.Move|o.default.EditModes.Rotate|o.default.EditModes.Resize|o.default.EditModes.Remove,v=deviceDetect.isPhone()?o.default.EditModes.Move:m;h.setCurrentEditMode=function(e){v=e},h.hasAnyCurrentEditMode=function(e){return!!(v&e)},h.hasAnyEditMode=function(e){return!!(m&e)},h.init(i)};return{createCollectionInstance:function(e,o,a){return new function(e,o,a){var l=e,u=o,c=(l.getPage(u),null),s=this;s.init=function(e){c=e},s.init(a),s.getElement=function(){return c},s.getPageIndex=function(){return u},s.getBound=function(){var e=c.clip;return e?i.default.getClipBBox(e):r.default.rect()},s.hitTest=function(e){return!isUndefinedOrNull(s.getClipObjectAtPoint(e))},s.newClipObject=function(e){t.createClip(l,u,c,e).then(function(e){e&&s.init(e)}).catch(function(){})},s.getClipObjectAtPoint=function(e){var t=c.clip;if(t)for(var r=t.length;r>0;--r){var o=new n(l,u,c,r-1);if(o.hitTest(e))return o}return null}}(e,o,a)},createInstance:function(e,t,r,o){return new n(e,t,r,o)}}}]),window.mainApp.factory(u,getConstructor(l,u,"factory"))},snJg:function(e,t,n){"use strict";var r=u(n("Xxa5")),o=u(n("exGp")),i=u(n("b8L+")),a=u(n("Z5P9")),l=u(n("7t+N"));function u(e){return e&&e.__esModule?e:{default:e}}angular.module("ui-rendering-module",["ui-viewer-module"]).factory("ui-rendering-factory",["$q","$rootScope","$cacheFactory","$injector","pdf-model-factory","ui-helper-factory",function(e,t,n,u,c,s){var d=null,f=function(){var t=e.defer(),n=t.promise;return d?t.resolve(d):s.itemLazyLoader.isReady("ui-viewer-factory").then(function(){d=u.get("ui-viewer-factory"),t.resolve(d)}),n},p={},g=guid.newGuid(),h="canvas",m=n("ui-rendering-factory-cache"),v=function(e,t,n,r){return c.downloadJsonPage(t).then(function(o){var a=null,u=o.headers("X-PDF-Image-X"),c=o.headers("X-PDF-Image-Y");if(u&&c&&(a=i.default.point(parseInt(u),parseInt(c))),!a&&r&&(a=i.default.point(r.left,r.top)),!r){var s=l.default.param(t);m.put(s,o.data)}return p.drawCanvas(e,o.data,n,a)})};return p.drawCanvas=function(t,n,r,o){return function(t){if("string"==typeof t)return e.when(t);var n=e.defer(),r=new window.FileReader,o=void 0;return r.readAsDataURL(new Blob([t],{type:"image/png"})),r.onloadend=function(){o=r.result,n.resolve(o)},r.onerror=function(e){n.reject(e)},n.promise}(n).then(function(n){return function(t){var n=e.defer(),r=new Image;return r.onload=function(){n.resolve(r)},r.onerror=function(e){n.reject(e)},r.src=t,n.promise}(n).then(function(e){var n=t.find(h)[0],i=n.getContext("2d");if(r)i.drawImage(e,r.left,r.top,r.width,r.height);else{var a=0,l=0,u=e.width,c=e.height;o?(a=o.x,l=o.y):(n.width=e.width,n.height=e.height),i.drawImage(e,a,l,u,c)}t.addClass("loaded")})})},p.renderImage=function(e,t,n,r){var o=t.getDocument(),u=o.getPage(n);if(u){var c=o.rotate,s=o.zoom,d={documentId:o.id,index:n,salt:g,pageSalt:u.salt,rotate:u.getRotate(c),zoom:s,viewState:t.getViewState()},f=null;if(r){d.salt=guid.newGuid(),d.rect=r.join(";");var h=u.getPageToDevSpaceMatrix(1,c);f=h.mapRect(a.default.createInstance(r));var y=s*f.min_x(),b=s*f.min_y();return f=i.default.rect(y,b,y+s*f.getWidth(),y+s*f.getWidth()),f=i.default.adjustRect(f),v(e,d,null,f)}f=u.getDevSpacePageBox(s,c),f=i.default.adjustRect(f);var x=l.default.param(d),S=m.get(x);if(S)return p.drawCanvas(e,S,f);d.zoom=s/5,v(e,d,f).then(function(){d.zoom=s,v(e,d,f)})}},p.renderThumbnailImage=function(){var e=(0,o.default)(r.default.mark(function e(t,n,o){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f();case 2:d.getDocumentView(n,function(e){var r=e.getDocument().getPage(o);if(r){var a=i.default.rect(0,0,r.thumbnail.width,r.thumbnail.height),u={documentId:n,index:o,salt:g,pageSalt:r.salt,rotate:0,viewState:e.getViewState(),zoom:r.thumbnail.zoom},c=l.default.param(u),s=m.get(c);if(s)return p.drawCanvas(t,s,a);u.zoom=r.thumbnail.zoom/5,v(t,u,a).then(function(){u.zoom=r.thumbnail.zoom,v(t,u,a)})}});case 3:case"end":return e.stop()}},e,this)}));return function(t,n,r){return e.apply(this,arguments)}}(),p.renderArtifactThumbnailImage=function(){var e=(0,o.default)(r.default.mark(function e(t,n,o){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f();case 2:d.getDocumentView(n,function(e){var n=e.getDocument(),r=null;if("watermark"===(o=angular.extend({documentId:n.id,salt:guid.newGuid()},o)).type||"header"===o.type||"batesNumbering"===o.type){var a=n.getPage(o.index);if(!a)return;var l=i.default.size();"watermark"===o.type&&(r=c.previewWatermark,l=i.default.size(220,315)),"header"===o.type&&(r=c.previewHeader,o.width&&o.height?(l=i.default.size(o.width,o.height),delete o.width,delete o.height):l=i.default.size(298,288)),"batesNumbering"===o.type&&(r=c.previewBatesNumbering,l=i.default.size(572,808)),o.rotate=a.rotate,o.zoom=a.scale(l.width,l.height,0,a.rotate).zoom}"stamp"===o.type&&(r=c.previewStamp),delete o.type,t.removeClass("loaded"),r(o).then(function(e){return p.drawCanvas(t,e)})});case 3:case"end":return e.stop()}},e,this)}));return function(t,n,r){return e.apply(this,arguments)}}(),p.renderArtifactThumbnailImageNotOpened=function(e,t,n){var r=null;(n=angular.extend({documentId:t,salt:guid.newGuid()},n)).rotate=0,"batesNumbering"===n.type&&(r=c.previewBatesNumbering,n.zoom=.6),delete n.type,delete n.width,delete n.height,e.removeClass("loaded"),r(n).then(function(t){return p.drawCanvas(e,t)})},p}]),window.mainApp.factory("ui-rendering-factory",getConstructor("ui-rendering-module","ui-rendering-factory","factory"))},spXM:function(e,t,n){"use strict";var r=i(n("b8L+")),o=i(n("C3UN"));function i(e){return e&&e.__esModule?e:{default:e}}n("5UMD");var a="bl-edit-annoteditobject-factory";angular.module("bl-edit-annoteditobject-module",["bl-edit-utilites-module","pdf-manager-module"]).factory(a,["$rootScope","$q","bl-edit-utilites-service","pdf-manager-factory",function(e,t,n,i){var a={kTransformNone:0,kTransformMove:1,kTransformScale:2,kTransformRotate:3};return{createInstance:function(l,u,c,s){return new function(l,u,c,s){var d=this,f=l,p=u,g=c,h=s,m=null,v=a.kTransformNone,y=r.default.rect();g&&g.rect&&(y=g.rect.copy());var b=f.getPage(p);d.getDoc=function(){return f},d.getPageIndex=function(){return p},d.getAnnot=function(){return g},d.getAnnotSubtype=function(){return g.type},d.getRect=function(){return g?g.rect:null},d.hitTest=function(e){var t=d.getRect();return!!t&&t.containsPoint(e)},d.setOperation=function(e){v=e},d.getOperation=function(){return v},d.setOperationRect=function(e){y=n.correctRectToRespectPageBox(b.getCropBox(),e)},d.getOperationRect=function(){return y},d.endOperation=function(){m=null;var e=d.getRect();if(y&&!y.isEqual(e)){var n=y.copy();return n.top<n.bottom&&(n.bottom=[n.top,n.top=n.bottom][0]),i.changeAnnotationProperties(f,g,p,{R:n.asArray()}).finally(function(){y=g.rect.copy(),v=a.kTransformNone})}return v=a.kTransformNone,t.when()},d.delete=function(){return i.deleteAnnotation(f,g,p).then(function(t){e.$emit("event:delete-annotation",t)})},d.getSnapData=function(){return h},d.setSnapInfo=function(e){m=e},d.getSnapInfo=function(){return m};var x=o.default.EditModes.Properties|o.default.EditModes.Move|o.default.EditModes.Remove;g.type!==o.default.pdfAnnotationType.text&&(x|=o.default.EditModes.Resize),g.isMarkup()&&g.type!==o.default.pdfAnnotationType.freeText&&(x|=o.default.EditModes.Comment);var S=deviceDetect.isPhone()?o.default.EditModes.Move:x;d.setCurrentEditMode=function(e){S=e},d.hasAnyCurrentEditMode=function(e){return!!(S&e)},d.hasAnyEditMode=function(e){return!!(x&e)}}(l,u,c,s)},TransformType:a,HandleType:{kHandleNone:0,kHandleTopLeft:1,kHandleTopRight:2,kHandleBottomRight:3,kHandleBottomLeft:4,kHandleTopMiddle:5,kHandleRightMiddle:6,kHandleBottomMiddle:7,kHandleLeftMiddle:8}}}]),window.mainApp.factory(a,getConstructor("bl-edit-annoteditobject-module",a,"factory"))},tOuE:function(e,t,n){"use strict";var r=u(n("HSQo")),o=u(n("C3UN")),i=u(n("b8L+")),a=u(n("VmtT")),l=u(n("IZAc"));function u(e){return e&&e.__esModule?e:{default:e}}n("ibFd"),n("iMU4"),n("Ij0n"),n("F1Q0"),n("v1ab");var c="bl-edit-stampannoteditselection-module",s="bl-edit-stampannoteditselection-factory";angular.module(c,["bl-edit-baseannoteditselection-module","bl-edit-stampannoteditobject-module","transformer-painter-module","bl-edit-module","bl-object-properties-module","pdf-manager-module"]).factory(s,["$rootScope","bl-edit-baseannoteditselection-factory","bl-edit-stampannoteditobject-factory","transformer-painter-service","bl-edit-service","bl-object-properties-factory","pdf-manager-factory",function(e,t,n,u,c,s,d){var f=a.default.LookAndFeel.AnnotTransformerFrameColor,p=a.default.LookAndFeel.SnapLinesColor,g=l.default.createInstance("#FFFFFFFF");return{createInstance:function(){var e=t.createInstance();return e.draw=function(t,r){var l=e.AnnotEditObject_;if(r==l.getPageIndex()){var c=null;if(l.getOperation()==n.TransformType.kTransformNone)c=i.default.quadFromRect(l.getRect());else{var s=i.default.quadFromRect(l.getRect());if(u.drawFrame(t,s,null,f,[10]),c=i.default.quadFromRect(l.getOperationRect()),l.getOperation()==n.TransformType.kTransformRotate){var d=l.getOperationRotate();c=i.default.rotationMatrix(d,c.getCenter()).mapQuad(c)}else{var h=l.getSnapInfo();h&&u.drawSnapInfo(t,h,p)}}if(u.drawFrame(t,c,null,f),l.getOperation()==n.TransformType.kTransformNone){var m=a.default.LookAndFeel.TransformerAnchorRadius,v=[];if(l.hasAnyCurrentEditMode(o.default.EditModes.Resize|o.default.EditModes.Rotate)&&v.push(c.top_left()),l.hasAnyCurrentEditMode(o.default.EditModes.Move|o.default.EditModes.Resize|o.default.EditModes.Rotate))if(deviceDetect.isPhone()){var y={fillColor:"#3688dc",anchorRadius:m+5,shadow:!0,font:"19px icomoon",textColor:"#ffffff",textOffsetX:-9,textOffsetY:8};l.hasAnyCurrentEditMode(o.default.EditModes.Move)?y.text="":l.hasAnyCurrentEditMode(o.default.EditModes.Resize)?y.text="":l.hasAnyCurrentEditMode(o.default.EditModes.Rotate)&&(y.text=""),u.drawMarker(t,y.fillColor,f,c.top_right(),y.anchorRadius,y)}else u.drawMarker(t,g,f,c.top_right(),m);l.hasAnyCurrentEditMode(o.default.EditModes.Resize|o.default.EditModes.Rotate)&&(v.push(c.bottom_right()),v.push(c.bottom_left()),v.push(c.top_center()),v.push(c.center_right()),v.push(c.bottom_center()),v.push(c.center_left()));for(var b=0;b<v.length;++b)u.drawMarker(t,g,f,v[b],m)}}},e.getProperties=function(){var t=this.getSelectionData().getAnnot(),n=s.createMainGroup(function(n){return d.changeAnnotationProperties(e.DocumentView_.getDocument(),t,e.AnnotEditObject_.getPageIndex(),n)}),i={flags:t.flags,getFullPropData:function(){return this.flags}};return(0,r.default)(i,{locked:{get:function(){return 0!=(this.flags&o.default.pdfAnnotationFlag.Locked)},set:function(e){e?this.flags|=o.default.pdfAnnotationFlag.Locked:this.flags&=~o.default.pdfAnnotationFlag.Locked}}}),function(){var e=s.createPropValue("Stamp","T"),r=s.createProperty(o.default.objectPropertyType.textlabel,e,"Type"),a=s.createSubGroup("Type",[r]);n.addToTabGroup(o.default.objectPropertyGroupType.general,a);var l=t.titleText,u=s.createPropValue(l,"Tx"),c=s.createProperty(o.default.objectPropertyType.textedit,u,"Author"),d=t.subjectText,f=s.createPropValue(d,"SJ"),p=s.createProperty(o.default.objectPropertyType.textedit,f,"Subject"),g=s.createSubGroup("Info",[c,p]);n.addToTabGroup(o.default.objectPropertyGroupType.general,g);var h=new Date(t.modificationDate),m=s.createPropValue(h,"MD"),v=s.createProperty(o.default.objectPropertyType.textlabel,m,"Modified",o.default.objectPropertyStyle.dateTime),y=s.createPropValue(i,"F",["locked"]),b=s.createProperty(o.default.objectPropertyType.select,y,"Locked",o.default.objectPropertyStyle.bool),x=s.createSubGroup("Modify",[v,b]);n.addToTabGroup(o.default.objectPropertyGroupType.general,x)}(),n.defaultTab=0,n},e},select:function(e,t,r,o){var i=null;if(!e||t<0||!r)return null;var a=e.document,l=null;o||(l=c.collectAnnotSnapData(e,t,r));var u=n.createInstance(a,t,r,l);return o?e.setHighlightNamed("StampAnnotEdit",u):i=e.setSelectionAndTool("StampAnnotEdit",u),i}}}]),window.mainApp.factory(s,getConstructor(c,s,"factory"))},tQXD:function(e,t,n){"use strict";var r=i(n("b8L+")),o=i(n("C3UN"));function i(e){return e&&e.__esModule?e:{default:e}}n("5UMD");var a="bl-edit-textblocktransformer-module",l="bl-edit-textblocktransformer-factory";angular.module(a,["bl-edit-utilites-module","pdf-manager-module"]).factory(l,["$q","$rootScope","bl-edit-utilites-service","pdf-manager-factory",function(e,t,n,i){var a=function(e){var t=r.default.identityMatrix();t=t.multiply(r.default.scalingMatrix(e.size.width,e.size.height));var n=r.default.scalingMatrix((e.size.width+10)/e.size.width,(e.size.height+4)/e.size.height).multiply(r.default.translationMatrix(-5,2));return t=t.multiply(n),e.reflect&&(t=t.multiply(r.default.reflectYMatrix())),t=(t=t.multiply(r.default.rotationMatrix(e.rotation))).multiply(r.default.translationMatrix(e.position.x,e.position.y))},l=function(e){var t={position:r.default.point(),size:r.default.size(),rotation:0,reflect:!1};t.size.width=Math.sqrt(e.a*e.a+e.b*e.b);var n=e.b/t.size.width,o=e.a/t.size.width;t.rotation=Math.atan2(n,o),t.size.height=e.d*o-e.c*n,t.size.height<0?(t.size.height=-t.size.height,t.reflect=!0):t.reflect=!1,t.size.width-=10,t.size.height-=4,t.position.x=0,t.position.y=0;var i=a(t).invert();return i=i.multiply(e),t.position.x=i.e,t.position.y=i.f,t},u=function(e,t){var n=r.default.quad();return n.tl=e.mapPoint(r.default.point(t.left,t.top)),n.tr=e.mapPoint(r.default.point(t.right,t.top)),n.bl=e.mapPoint(r.default.point(t.left,t.bottom)),n.br=e.mapPoint(r.default.point(t.right,t.bottom)),n};return{createInstance:function(t,c,s){return new function(t,c,s){var d=t,f=c,p=d.getPage(f),g=s,h=null,m=null,v=o.default.TransformType.TRANSFORM_NONE,y=r.default.identityMatrix(),b=r.default.identityMatrix(),x={},S=this;S.updateTransform=function(){var e={position:r.default.point(),size:r.default.size(),rotation:0,reflect:!1};e.position=g.rect.left_top(),e.size=g.rect.getSize(),e.rotation=g.rotate,e.reflect=g.reflect,y=a(e)},S.updateTransform(),S.getDocument=function(){return d},S.getTextBlock=function(){return g},S.getPageIndex=function(){return f},S.getBBox=function(){var e=S.getUserSpaceRect();return y.mapRect(e)},S.isPerformingOperation=function(){return v!=o.default.TransformType.TRANSFORM_NONE},S.getOperationType=function(){return v},S.startOperation=function(e){v=e,b=y.copy()},S.endOperation=function(t){if(m=null,!y.isEqual(b)){var n=l(b),a=v;switch(a){case o.default.TransformType.TRANSFORM_MOVE:case o.default.TransformType.TRANSFORM_ROTATE:case o.default.TransformType.TRANSFORM_SCALE:case o.default.TransformType.TRANSFORM_RESIZE_BLOCK:var u=r.default.rect(n.position.x,n.position.y,n.position.x+n.size.width,n.position.y+n.size.height);return v=o.default.TransformType.TRANSFORM_NONE,t||(t=e.when),t().then(function(){return i.transformTextBlock(d,f,g,u,n.rotation,n.reflect,a===o.default.TransformType.TRANSFORM_SCALE).then(function(){S.updateTransform()})})}}return v=o.default.TransformType.TRANSFORM_NONE,e.reject()},S.delete=function(){i.deleteTextBlock(d,f,g)},S.getTransform=function(){return y},S.setOperationTransform=function(e){var t=p.getCropBox();b=n.correctCTMToRespectPageBox(t,S.getUserSpaceRect(),e)},S.getOperationTransform=function(){return b},S.getRotationOrigin=function(){return S.getBounds().getCenter()},S.getUserSpaceRect=function(){return r.default.rect(0,0,1,-1)},S.getSnapOperationBounds=function(){var e=l(b),t=r.default.scalingMatrix(e.size.width,e.size.height);return e.reflect&&(t=t.multiply(r.default.reflectYMatrix)),t=(t=t.multiply(r.default.rotationMatrix(e.rotation))).multiply(r.default.translationMatrix(e.position.x,e.position.y)),u(t,S.getUserSpaceRect())},S.getOperationBounds=function(){return u(b,S.getUserSpaceRect())},S.getBounds=function(){return u(y,S.getUserSpaceRect())};var P=function(e,t,n){var o=r.default.pointsSquareDistance(e,t);if(0==o)return r.default.pointsDistance(n,e);var i=r.default.vecDotProduct(r.default.point(n.x-e.x,n.y-e.y),r.default.point(t.x-e.x,t.y-e.y))/o;return i<0?r.default.pointsDistance(n,e):i>1?r.default.pointsDistance(n,t):r.default.pointsDistance(n,r.default.point(e.x+i*(t.x-e.x),e.y+i*(t.y-e.y)))};S.hitTest=function(e){var t=S.getBounds();return 3>=P(t.tl,t.tr,e)||3>=P(t.bl,t.br,e)||3>=P(t.tl,t.bl,e)||3>=P(t.tr,t.br,e)},S.getPosition_PropertyTest=function(){var e=v===o.default.TransformType.TRANSFORM_NONE?y.copy():b.copy();return l(e).position},S.getRotation_PropertyTest=function(){var e=v===o.default.TransformType.TRANSFORM_NONE?y.copy():b.copy();return l(e).rotation},S.getScaling_PropertyTest=function(){var e=v===o.default.TransformType.TRANSFORM_NONE?y.copy():b.copy();return l(e).scaling},S.setSnapData=function(e){h=e},S.getSnapData=function(){return h},S.setSnapInfo=function(e){m=e},S.getSnapInfo=function(){return m};var k=o.default.EditModes.Properties|o.default.EditModes.Move|o.default.EditModes.Rotate|o.default.EditModes.Resize|o.default.EditModes.Remove,T=deviceDetect.isPhone()?o.default.EditModes.Move:k;S.setCurrentEditMode=function(e){T=e},S.hasAnyCurrentEditMode=function(e){return!!(T&e)},S.hasAnyEditMode=function(e){return!!(k&e)},S.addActionButton=function(e,t){x[e]=t},S.getAllActionButtons=function(){return x},S.getActionButtonById=function(e){return x[e]}}(t,c,s)}}}]),window.mainApp.factory(l,getConstructor(a,l,"factory"))},tZNd:function(e,t,n){"use strict";var r=a(n("b8L+")),o=a(n("C3UN")),i=a(n("Jrzz"));function a(e){return e&&e.__esModule?e:{default:e}}n("5UMD");var l="bl-edit-lineannoteditobject-module",u="bl-edit-lineannoteditobject-factory";angular.module(l,["pdf-manager-module"]).factory(u,["$rootScope","$q","pdf-manager-factory","bl-edit-utilites-service","ui-usersettings-factory",function(e,t,n,a,l){var u={kTransformNone:0,kTransformMove:1,kTransformScale:2,kTransformRotate:3,kTransformMovePoint:4},c=function(e){return e?e.vecNormal().vecNormalized():null};return{createInstance:function(e,s,d){return new function(e,s,d){var f=this,p=e,g=s,h=d,m=u.kTransformNone,v=r.default.rect(),y=void 0,b=r.default.point();h&&h.startPoint&&(b=h.startPoint.copy());var x=r.default.point();h&&h.endPoint&&(x=h.endPoint.copy());var S=p.getPage(g),P=void 0,k=1;f.getDoc=function(){return p},f.getPageIndex=function(){return g},f.getAnnot=function(){return h},f.getAnnotSubtype=function(){return h.type},f.getStartPoint=function(){return h.startPoint},f.getEndPoint=function(){return h.endPoint},f.getRect=function(){return h?h.rect:null},f.hitTest=function(e){var t=f.getRect();return!!t&&t.containsPoint(e)},f.setOperation=function(e){m=e,k=h.leaderLineLength,P=r.default.quadFromRect(f.getRect())},f.getOperation=function(){return m},f.setOperationHandle=function(e){y=e},f.getOperationHandle=function(){return y},f.getOperationBounds=function(){return P},f.setOperationStartPoint=function(e){var t=S.getCropBox();b=t.containsPoint(x)||t.containsPoint(e)?e:f.getStartPoint()},f.getOperationStartPoint=function(){return b},f.setOperationEndPoint=function(e){var t=S.getCropBox();x=t.containsPoint(b)||t.containsPoint(e)?e:f.getEndPoint()},f.getOperationEndPoint=function(){return x},f.endOperation=function(){var e=r.default.point();h&&h.startPoint&&(e=h.startPoint.copy());var o=r.default.point();if(h&&h.endPoint&&(o=h.endPoint.copy()),b&&!b.isEqual(e)||x&&!x.isEqual(o)){var a=f.getOperationStartPoint(),c=f.getOperationEndPoint(),s={L:[b.x,b.y,x.x,x.y]};if(h.enableMeasurement){var d=i.default.makeDistanceFormatString(r.default.point(c.x-a.x,c.y-a.y),h.measure,l.settings.layout.units);s.c=d}return n.changeAnnotationProperties(p,h,g,s).finally(function(){b=h.startPoint.copy(),x=h.endPoint.copy(),m=u.kTransformNone})}var v=h.leaderLineLength;return k!==v?n.changeAnnotationProperties(p,h,g,{LL:v}).finally(function(){k=h.leaderLineLength,m=u.kTransformNone}):(m=u.kTransformNone,t.when())},f.delete=function(){return n.deleteAnnotation(p,h,g)},f.transrormObject=function(e){var t=S.getCropBox(),n=!1,o=e.mapPoint(f.getStartPoint());t.containsPoint(o)&&(n=!0);var i=!1,a=e.mapPoint(f.getEndPoint());t.containsPoint(a)&&(i=!0),(n||i)&&(b=o,x=a,P=e.mapQuad(r.default.quadFromRect(f.getRect())))},f.getLeaderLineStartPoint=function(){var e=f.getStartPoint(),t=f.getEndPoint();if(deviceDetect.isPhone()){var n=Math.abs(r.default.pointsDistance(t,e));e=C(e,t,Math.floor(n/3))}var o=c(r.default.point(t.x-e.x,t.y-e.y));return r.default.point(e.x+o.x*h.leaderLineLength,e.y+o.y*h.leaderLineLength)},f.getLeaderLineEndPoint=function(){var e=f.getStartPoint(),t=f.getEndPoint();if(deviceDetect.isPhone()){var n=Math.abs(r.default.pointsDistance(t,e));t=C(e,t,Math.floor(n-n/3))}var o=c(r.default.point(t.x-e.x,t.y-e.y));return r.default.point(t.x+o.x*h.leaderLineLength,t.y+o.y*h.leaderLineLength)},f.setLeaderLinePosition=function(e){if(h){var t=f.getStartPoint(),n=f.getEndPoint(),o=c(r.default.point(n.x-t.x,n.y-t.y)),i=r.default.vecDotProduct(o,e);h.leaderLineLength=i}},f.setOperationRect=function(e){v=a.correctRectToRespectPageBox(S.getCropBox(),e)},f.getOperationRect=function(){return v};var T=o.default.EditModes.Properties|o.default.EditModes.Move|o.default.EditModes.MovePoint|o.default.EditModes.Resize|o.default.EditModes.Remove;h.isMarkup()&&h.type!==o.default.pdfAnnotationType.freeText&&(T|=o.default.EditModes.Comment);var w=deviceDetect.isPhone()?o.default.EditModes.MovePoint:T;function C(e,t,n){var o=Math.abs(r.default.pointsDistance(t,e)),i=1/o*((o-n)*e.x+n*t.x),a=1/o*((o-n)*e.y+n*t.y);return r.default.point(i,a)}f.setCurrentEditMode=function(e){w=e},f.hasAnyCurrentEditMode=function(e){return!!(w&e)},f.hasAnyEditMode=function(e){return!!(T&e)}}(e,s,d)},TransformType:u,HandleType:{kHandleNone:0,kHandleTopLeft:1,kHandleTopRight:2,kHandleBottomRight:3,kHandleBottomLeft:4,kHandleTopMiddle:5,kHandleRightMiddle:6,kHandleBottomMiddle:7,kHandleLeftMiddle:8,kHandleStartPoint:9,kHandleEndPoint:10,kHandleLeaderLineStartPoint:11,kHandleLeaderLineEndPoint:12}}}]),window.mainApp.factory(u,getConstructor(l,u,"factory"))},u1ta:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.module=void 0;var r=l(n("mvHQ")),o=l(n("Xxa5")),i=l(n("exGp")),a=l(n("7t+N"));function l(e){return e&&e.__esModule?e:{default:e}}var u="ui-quick-access-module",c="ui-quick-access-factory",s=angular.module(u,[]);function d(e,t,n,r,a,l,u){var c=this,s=u.ondemand.getInAppTrackingFactory,d=u.getPdfManagerFactory(),f=u.ondemand.getOpenComputerFactory();e.authenticationService=l,e.factory=r,e.cmd=function(){var r=(0,i.default)(o.default.mark(function r(l,u){var c,f,p=this;return o.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if((c=document.getElementById("acceptCookiesPolicy"))&&t(function(){angular.element(c).triggerHandler("click")}),f=function(e){return!1===e&&u&&(u.stopPropagation&&u.stopPropagation(),u.preventDefault?u.preventDefault():u.returnValue=!1),e},!0!==l.disabled){r.next=5;break}return r.abrupt("return",f(!1));case 5:if(!l.requiredFeature||a.isFeaturePermitted(l.requiredFeature,!0)){r.next=7;break}return r.abrupt("return",f(!1));case 7:if(s().then(function(){var e=(0,i.default)(o.default.mark(function e(t){var n,r;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=6;break}return n=t.getInstance(),e.next=4,d;case 4:r=e.sent,n&&n.onFeatureUsing(isArray(l.requiredFeature)?l.requiredFeature[0]:l.requiredFeature,l.id?l.id:window.HashCode.value(l),r.currentDocumentId);case 6:case"end":return e.stop()}},e,p)}));return function(t){return e.apply(this,arguments)}}()),window.isUndefinedOrNull(l.sref)){r.next=11;break}return n.transitionTo(l.sref,{}),r.abrupt("return",f(!1));case 11:if("link"!==l.type){r.next=14;break}return window.open(l.href,"_blank"),r.abrupt("return");case 14:return r.abrupt("return",f(e.factory.cmd&&e.factory.cmd("event-"+l.id,l)||!1));case 15:case"end":return r.stop()}},r,this)}));return function(e,t){return r.apply(this,arguments)}}(),e.upload=function(e){f.then(function(t){t.upload(e)})},e.$watch("isExpanded",(0,i.default)(o.default.mark(function t(){return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.factory){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,e.factory.syncShowButtons(e.factory.buttons,e.factory.copyButtons);case 4:case"end":return t.stop()}},t,c)})))}function f(e,t){var l=this,u={},c=t.execFuncWithTimeoutAsync,s=t.getPdfViewerFactory(),d=void 0,f=t.getPdfManagerFactory(),p=void 0,g=[],h=[],m=function(){var e=(0,i.default)(o.default.mark(function e(n){var r,i,a;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getUserSettingsFactory();case 2:if(r=e.sent){e.next=5;break}return e.abrupt("return");case 5:if(n){e.next=7;break}return e.abrupt("return");case 7:i=0;case 8:if(!(i<n.length)){e.next=16;break}if(a=n[i]){e.next=12;break}return e.abrupt("continue",13);case 12:a.show=0!=(r.settings.quickAccess.buttons&a.key);case 13:i++,e.next=8;break;case 16:case"end":return e.stop()}},e,l)}));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=(0,i.default)(o.default.mark(function e(){var n,i;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c(b,50);case 2:return n=e.sent,e.next=5,c(y,50).catch(function(e){console.log("_getRibbonBarQuickAccessTemplateAsync: ",e)});case 5:if(!(i=e.sent)||!n){e.next=12;break}return u.buttons=n,e.next=10,m(u.buttons);case 10:h=JSON.parse((0,r.default)(u.buttons)),angular.element(document.body).injector().invoke(["$compile","$rootScope",function(e,n){var r=(0,a.default)("#ribbon-quick-access"),o=angular.element(r.html(i)).scope();if(o){e(r)(o||n);o.$$phase||o.$digest(),t.itemLazyLoader.makeReady("ui-quick-access-factory")}}]);case 12:case"end":return e.stop()}},e,l)}));return function(){return e.apply(this,arguments)}}(),y=function(){var e=(0,i.default)(o.default.mark(function e(){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.e(186).then(n.bind(null,"GfbC"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,l)}));return function(){return e.apply(this,arguments)}}(),b=function(){var e=(0,i.default)(o.default.mark(function e(){var t;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.e(202).then(n.bind(null,"MrXw"));case 2:return t=e.sent,e.abrupt("return",t.default);case 4:case"end":return e.stop()}},e,l)}));return function(){return e.apply(this,arguments)}}(),x=function(){var e=(0,i.default)(o.default.mark(function e(t,n,r){var i;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:if(p){e.next=6;break}return e.next=5,f;case 5:p=e.sent;case 6:if(p){e.next=8;break}return e.abrupt("return");case 8:i=void 0,e.t0=t.id,e.next="download"===e.t0?12:"print"===e.t0?12:"undo"===e.t0?14:"redo"===e.t0?19:24;break;case 12:return t.disabled=n,e.abrupt("break",24);case 14:return e.next=16,p.isHasUndoByDocumentId(r);case 16:return i=e.sent,t.disabled=n||!i,e.abrupt("break",24);case 19:return e.next=21,p.isHasRedoByDocumentId(r);case 21:return i=e.sent,t.disabled=n||!i,e.abrupt("break",24);case 24:case"end":return e.stop()}},e,l)}));return function(t,n,r){return e.apply(this,arguments)}}(),S=function(){var t=(0,i.default)(o.default.mark(function t(n){return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(d){t.next=4;break}return t.next=3,s;case 3:d=t.sent;case 4:if(d){t.next=6;break}return t.abrupt("return");case 6:d.getDocumentView(n.id,function(t){var r=t.getDocument(),o=!0;r&&!0===r.isLoaded&&!1===r.isLocked&&(o=!1),e(function(){angular.forEach(u.buttons,function(e,t){x(e,o,n.id)})})});case 7:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}();return Object.defineProperty(u,"buttons",{get:function(){return g},set:function(e){g=e}}),Object.defineProperty(u,"copyButtons",{get:function(){return h}}),u.init=(0,i.default)(o.default.mark(function e(){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v();case 2:case"end":return e.stop()}},e,l)})),u.disableEnableUndoRedoButtons=S,u.checkDefaultDisabledQuickAccessButtonsMap=function(t){e(function(){angular.forEach(u.buttons,function(e,n){switch(e.id){case"download":case"print":case"undo":case"redo":e.disabled=t}})})},u.syncShowButtons=function(){var e=(0,i.default)(o.default.mark(function e(n,r){var i,a,u,c;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getUserSettingsFactory();case 2:if(i=e.sent){e.next=5;break}return e.abrupt("return");case 5:if(window.isArray(n)&&window.isArray(r)){e.next=7;break}return e.abrupt("return");case 7:if(n.length===r.length){e.next=9;break}return e.abrupt("return");case 9:i.settings.quickAccess.buttons=0,a=0;case 11:if(!(a<n.length)){e.next=21;break}if(u=n[a],c=r[a],u&&c){e.next=16;break}return e.abrupt("continue",18);case 16:u.show=c.show,u.show&&(i.settings.quickAccess.buttons|=u.key);case 18:a++,e.next=11;break;case 21:i.saveSettings();case 22:case"end":return e.stop()}},e,l)}));return function(t,n){return e.apply(this,arguments)}}(),u}t.module=s,s.controller("ui-quick-access-controller",d),d.$inject=["$scope","$timeout","$state","ui-quick-access-factory","pdf-feature-factory","authentication-service","ui-helper-factory"],s.factory(c,f),f.$inject=["$timeout","ui-helper-factory"],window.mainApp.controller("ui-quick-access-controller",getConstructor(u,"ui-quick-access-controller","controller")),window.mainApp.factory(c,getConstructor(u,c,"factory"))},ufEO:function(e,t,n){"use strict";var r=i(n("b8L+")),o=i(n("C3UN"));function i(e){return e&&e.__esModule?e:{default:e}}var a="bl-markupannot-handler-factory";angular.module("bl-markupannot-handler-module",[]).factory(a,["$rootScope",function(e){var t=new Image;t.onerror=function(){t=null},t.src="images/icon-annot-notification.svg";return{createInstance:function(){return new function(){var e=function(e,t,n,r,o){e.showPopupAnnotation(n,r,t,o)};this.onFocus=function(t,n,i){if(window.deviceDetect.isPhone()){if(!i)return;var a=!0;i.type===o.default.pdfAnnotationType.text&&i.isNew&&(a=!1,i.isNew=!1),e(t,n,i,r.default.point(0,0),a)}},this.onBlur=function(e,t,n){},this.onMouseEnter=function(e,t,n){e.setCursor(o.default.BLCursorType.kBLCursorLinkHand)},this.onMouseExit=function(e,t,n){},this.onMouseDown=function(e,t,n,r){return!0},this.onMouseUp=function(t,n,r,o){return!!window.deviceDetect.isPhone()||(e(t,n,r,o),!0)},this.onDraw=function(e,n,i){if(e&&n&&t&&!n.content.isNullOrWhiteSpace()){if(n.enableMeasurement&&n.type===o.default.pdfAnnotationType.line)return;if(n.type===o.default.pdfAnnotationType.text)return;var a=n.rect,l=a.right,u=a.top;if(n.type===o.default.pdfAnnotationType.ink||n.type===o.default.pdfAnnotationType.line){var c=a.right-a.left,s=a.top-a.bottom;l=a.left+c/2-t.width/2,u=a.top-s/2+t.height/2}var d=r.default.rect(0,0,t.width,t.height);e.pushState();var f=e.getCTM();e.setCTM(null);var p=f.mapPoint({x:l,y:u}).floor(),g=r.default.point(p.x,p.y);e.translateCTM(g.x,g.y),e.fillBitmap(d,t),e.setCTM(f),e.popState()}}}}}}]),window.mainApp.factory(a,getConstructor("bl-markupannot-handler-module",a,"factory"))},"v+Fc":function(e,t,n){"use strict";var r=i(n("b8L+")),o=i(n("C3UN"));function i(e){return e&&e.__esModule?e:{default:e}}function a(e){var t={};return t.createInstance=function(e,t){return new function(e,t){var n=this,i=0,a=0,l=t;n._text="",n.bound=function(){var e=r.default.size(0,l);return n._text.length>0&&(e=u(c,n._text)),r.default.rect(i,a,i+e.width,a+e.height)},n.getRect=function(){return n.bound()},n.getSymbolRect=function(e){var t=r.default.rect();if(n._text.length>e){var o=0;if(e>0){var l=n._text.spliceSlice(0,e);o=(s=u(c,l)).width}l=n._text.spliceSlice(e,1);var s=u(c,l);return r.default.rect(o+i,a,o+i+s.width,a+s.height)}return t},n.getSymbolQuad=function(e){var t=n.getSymbolRect(e);return r.default.quadFromRect(t)},n.scale=function(e){},n.translate=function(e,t){i+=e,a+=t};var u=function e(t,n){var o=(e.calculateTextBoundCanvas||(e.calculateTextBoundCanvas=document.createElement("canvas"))).getContext("2d");o.font=t;var i=o.measureText(n);return r.default.size(i.width,parseInt(t.match(/\d+/)[0]))},c=function(e,t,n){var r="";switch(t){case o.default.GFontStyle.kGFontStyleRegular:r="";break;case o.default.GFontStyle.kGFontStyleBold:r="bold ";break;case o.default.GFontStyle.kGFontStyleItalic:r="italic ";break;case o.default.GFontStyle.kGFontStyleBoldItalic:r="italic bold "}return r+n+"pt "+e}(e,o.default.GFontStyle.kGFontStyleRegular,l)}(e,t)},t}angular.module("form-phrase-factory-module",[]).factory("form-phrase-factory",a),a.$inject=["$rootScope"],window.mainApp.factory("form-phrase-factory",getConstructor("form-phrase-factory-module","form-phrase-factory","factory"))},v0E8:function(e,t,n){"use strict";var r=i(n("C3UN")),o=i(n("oRGr"));function i(e){return e&&e.__esModule?e:{default:e}}n("ggKL"),n("0j8N"),n("xfDw");var a="bl-ocr-idrs-selectZoneInputHandler-module",l="bl-ocr-idrs-selectZoneInputHandler-factory";angular.module(a,["bl-ocr-idrs-transformer-module","bl-ocr-idrs-selection-module","bl-ocr-idrs-transformerInputHandler-module"]).factory(l,["$q","$rootScope","bl-ocr-idrs-transformer-factory","bl-ocr-idrs-selection-factory","bl-ocr-idrs-transformerInputHandler-factory",function(e,t,n,i,a){var l=function(e){var l=e,u=null,c=t.$on("idrs-view-ondraw",function(e,t){s(t)});this.terminate=function(){c()},this.getHandleType=function(){return o.default.InputHandlerType.kHandleSelectZone},this.isUndeletable=function(){return!0},this.handleEvent=function(e){var t={isHandlerFinished:!1,isHandled:!1};return t.isHandled=h(e),t};var s=function(e){e&&(e.pushState(),u&&u.drawHighlight(e),e.popState())},d=function(e){return l.hitTest(e)},f=function(e){var t=n.createInstance(l,e),r=i.createInstance(l,t);return u=r,l.invalidate(),!0},p=function(){u=null,l.invalidate()},g=function(e,t){var n={pointerArgs:{}};n.type=r.default.BLInputEventType.kBLInputEventPointerPressed,n.pointerArgs.button=r.default.BLPointerButton.kBLPointerButtonLeft,n.pointerArgs.position=t,n.pointerArgs.flags=0;var o={isHandlerFinished:!1,isHandled:!1};return o.isHandled=e.handleEvent(n),o},h=function(t){switch(t.type){case r.default.BLInputEventType.kBLInputEventPointerMoved:return function(e){var t=d(e);return!(isUndefinedOrNull(t)||(l.setCursor(r.default.BLCursorType.kBLCursorArrow),!f(t)))||(l.setCursor(r.default.BLCursorType.kBLCursorHand),p(),!1)}(t.pointerArgs.position);case r.default.BLInputEventType.kBLInputEventPointerPressed:switch(t.pointerArgs.button){case r.default.BLPointerButton.kBLPointerButtonLeft:return function(t,r){var o=d(t);if(!isUndefinedOrNull(o)){var i=n.createInstance(e,o),u=a.createInstance(e,i);return g(u,t),l.pushInputHandler(u),p(),!0}return!1}(t.pointerArgs.position,t.pointerArgs.flags);case r.default.BLPointerButton.kBLPointerButtonRight:return t.pointerArgs.position,t.pointerArgs.flags,!1}break;case r.default.BLInputEventType.kBLInputEventPointerReleased:switch(t.pointerArgs.button){case r.default.BLPointerButton.kBLPointerButtonLeft:case r.default.BLPointerButton.kBLPointerButtonRight:return t.pointerArgs.position,!1}break;case r.default.BLInputEventType.kBLInputEventPointerDoubleClicked:if(t.pointerArgs.button==r.default.BLPointerButton.kBLPointerButtonLeft)return t.pointerArgs.position,!1;break;case r.default.BLInputEventType.kBLInputEventKeyPressed:return t.keyArgs.keycode,t.keyArgs.flags,!1;default:return!1}return!0}};return{createInstance:function(e){return new l(e)}}}]),window.mainApp.factory(l,getConstructor(a,l,"factory"))},v1ab:function(e,t,n){"use strict";var r=function(e){return e&&e.__esModule?e:{default:e}}(n("b8L+"));n("3Gts"),n("lii2");angular.module("bl-edit-module",["bl-edit-compositeeditobject-module","bl-edit-input-snapdata-module"]).service("bl-edit-service",["$rootScope","bl-edit-compositeeditobject-factory","bl-edit-input-snapdata-factory",function(e,t,n){var o=function(e,o,i,a){var l=e.document;if(!l||-1==o)return null;var u=n.createInstance(),c=l.getPage(o),s=c.annotations;if(!isUndefinedOrNull(s))for(var d=0;d<s.length;++d){var f=s[d];if(a!==f){var p=f.rect;u.addRect(p,!1)}}var g=t.createCompositeEditObjectForPage(e.document,o),h=g.getCount();for(d=0;d<h;++d){var m=g.get(d),v=!1;if(i&&(v=i.compareInternals(m)),!v){var y=m.getBounds().getBound();u.addRect(y,!1)}}var b=c.getPageBox();u.setPageBox(b);var x=e.getPagesRotation(),S=c.getPageToDevSpaceMatrix(1,x),P=S.invert(),k=S.mapRect(b),T=e.getHorzGuideCoords();if(isArray(T)&&T.length>0){d=0;for(var w=T.length;d<w;++d){var C=k.getHeight()-T[d],B=r.default.rect(k.left,C,k.right,C);B=P.mapRect(B),u.addRect(B,!0)}}var L=e.getVertGuideCoords();if(isArray(L)&&L.length>0)for(d=0,w=L.length;d<w;++d){C=L[d],B=r.default.rect(C,k.top,C,k.bottom);B=P.mapRect(B),u.addRect(B,!0)}return u},i={collectSnapData:function(e,t){return o(e,t)},collectObjectSnapData:function(e,t){var n=t.getPageIndex();return o(e,n,t)},collectAnnotSnapData:function(e,t,n){return o(e,t,null,n)}};return i}]),window.mainApp.service("bl-edit-service",getConstructor("bl-edit-module","bl-edit-service","service"))},vbhk:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.module=void 0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n("/jXN"));n("v1Sv"),n("Y+IQ");var o=r.default.module("app-stats-service-module",["stat-package-factory-module"]);function i(e,t,n,r,o,i,a){var l={},u=function(e){var t=o.defer(),i=e.buildString();return n(function(){(function(e){return r.post("https://stats.lulusoft.com/CompressSimpleAppTrackXml.ashx",e,{headers:{"Content-Type":"application/soap+xml; charset=utf-8"},ignoreAuthModule:"ignoreAuthModule"}).success(function(e){}).error(function(e){})})(i).then(function(){t.resolve()}).catch(function(e){t.reject(e)})},2e3),t.promise};return l.sendStatistic=function(e,t){var n=o.defer();if(!e)return n.resolve(),n.promise;try{var r=a.createInstance();r.addApplicationData(e),t&&r.addActivatedModules(t),u(r).then(function(e){n.resolve(e)}).catch(function(e){n.reject(e)})}catch(e){n.reject(e)}return n.promise},l}t.module=o,o.service("app-stats-service",i),i.$inject=["$rootScope","$translate","$timeout","$http","$q","localStorageService","stat-package-factory"],mainApp.service("app-stats-service",getConstructor("app-stats-service-module","app-stats-service","service"))},w1D8:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=angular.module("chain-module",[]);function o(e){var t={},n=e.defer();return n.resolve(),t.execute=function(e){return e.reduce(function(e,t){return e.then(function(){return t.method(t.value)})},n.promise)},t}t.module=r,r.factory("chain-factory",o),o.$inject=["$q"],window.mainApp.factory("chain-factory",getConstructor("chain-module","chain-factory","factory"))},wBS7:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.module=void 0,n("8Iew"),n("J3B7"),n("ekou");var r=function(e){return e&&e.__esModule?e:{default:e}}(n("C3UN"));var o="images/symbol-sitemenu.svg",i="ui-sitemenu-cloud-controller",a=angular.module("ui-sitemenu-cloud-module",[]);function l(e,t,n,i,a,l,u,c,s,d,f,p,g,h){e.userInfo={};var m,v,y=u.getDialogFactory(),b=function(e){var t=e.split(".");return 1===t.length||""===t[0]&&2===t.length?"":t.pop()},x=function(t){t||(t=C);var n=e.breadcrumbs.indexOf(t);return n>=0&&(e.breadcrumbs.splice(n),e.currentItem=null),c.list(e.clientType,t.Id).then(function(n){e.files=n,e.selected=window.deviceDetect.isPhone()?-1:0,e.currentItem&&e.currentItem!=t&&e.breadcrumbs.push(e.currentItem),e.currentItem=t})},S=function(){return c.getQuota(e.clientType).then(function(t){e.quotaTotal=t.total,e.quotaUsed=t.used})},P=function(){return c.getUser(e.clientType).then(function(t){e.userInfo=t})},k=function(t,r,o){h.passFileSizeLimit(t.ItemSize)&&(o||(o=function(){return n.when()}),e.isProcessing=!0,o(t).then(function(n){return function(t,n){return e.progress=0,e.cancelableRequest=c.uploadToSaasStorage(e.clientType,t,n,function(t){e.progress=t}),e.cancelableRequest.promise().finally(function(){e.cancelableRequest=null,e.progress=0})}(t.Id,t.Name)}).then(function(e){return!0===e.result?{id:e.guid,name:t.Name}:n.reject()}).then(function(e){if(d.close(e.guid),r)return r(e)}).finally(function(){e.isProcessing=!1}))},T=function(r){if("file"==r.ItemType){var o={clientType:e.clientType,storageTrackId:e.trackId,checkOutInfo:null,item:r,parentFolderId:e.currentItem.Id},i=function(t){var n=!isUndefinedOrNull(t)&&!isUndefinedOrNull(t.Id);return{checkedOut:n,checkedOutByMe:n&&!isUndefinedOrNull(e.userInfo)&&t.Id===e.userInfo.Id}},a=function(n){var r={id:n.id,options:{name:n.name,action:"open",storageId:e.trackId,storage:o}};t.$state.transitionTo("document",r)},u=r.Name.fileExtension();if(u.isValid)if("pdf"!==u.name){var s=[{text:"ok",callback:function(){k(r,function(e){f.createPdf(e.id,e.name,e.name.fileExtension().name)},null)}},{text:"cancel"}];p.isFeaturePermitted("Convert-Free.Common",!0)&&s[0].callback()}else{k(r,a,function(t){return e.isVersionControl?function(t){if(e.isAutoCheckOut)return n.when(!0);var r={checkOut:!1,fileName:t.Name,source:e.source,clientTitle:e.clientTitle},o={open:!1,checkOut:!1},i=n.defer();return(r=$.extend({name:"sp-open",title:"You are about to open",tip:l.instant("TIP: When finished with the file, you can check it in using the "+r.clientTitle+" group in the Share tab."),callbacks:[{text:"CHECK OUT AND OPEN",callback:function(){o.open=!0,o.checkOut=!0}},{text:"Open",callback:function(){o.open=!0,o.checkOut=!1}},{text:"Cancel"}],onClose:function(){o.open?i.resolve(o.checkOut):i.reject()}},r)).model=o,y.then(function(e){e.dialog.spOpen.show(r)}).catch(i.reject),i.promise}(t).then(function(r){return function(t){return c.checkOutState(e.clientType,t.Id)}(t).then(function(a){if(o.checkOutInfo=i(a),r){if(o.checkOutInfo.checkedOut){if(o.checkOutInfo.checkedOutByMe)return n.when();var u=n.defer(),s=[{text:"OK",callback:u.resolve},{text:"Cancel",callback:u.reject}];return y.then(function(e){e.messageBox.show({text:l.instant("This file is already checked out by {{param1}}. Would you like to continue?",{param1:a.Name}),icon:"question",callbacks:s,onClose:function(e){null==e&&u.reject()}})}).catch(u.reject),u.promise}return function(t){var n={clientType:e.clientType,itemId:t.Id};return c.checkOut(n)}(t).then(function(){return o.checkOutInfo=i(e.userInfo),n.when()})}return n.when()})}):n.when()})}else{if(!(r.MimeType&&["application/vnd.google-apps.document","application/vnd.google-apps.drawing","application/vnd.google-apps.presentation","application/vnd.google-apps.spreadsheet"].indexOf(r.MimeType)>=0))return void y.then(function(e){e.messageBox.show({text:"Unsupported file type",icon:"error"})});k(r,a,null)}}},w=function(){if(!s.showPaywall()){var t=function(){e.isProcessing=!0;var t=s.currentDocumentId;(function(t,n){var r={clientType:e.clientType,fileName:n,itemGuid:t,parentFolderId:e.currentItem.Id};return e.progress=0,e.cancelableRequest=c.saveToCloudStorage(r,function(t){e.progress=t}),e.cancelableRequest.promise().finally(function(){e.cancelableRequest=null,e.progress=0})})(t,e.saveFileName).then(function(r){if(!0!==r)return n.reject();var o=g.getInstance();o&&o.onDocumentSaved(e.trackId,t),y.then(function(e){e.messageBox.show({text:"Save completed",icon:"information"})}),d.close(s.currentDocumentId)}).catch(function(){}).finally(function(){e.isProcessing=!1})};if(e.saveFileName){var r=b(e.saveFileName).toLowerCase();if(r||(r="pdf",e.saveFileName.endsWith(".")||(e.saveFileName+="."),e.saveFileName+="pdf"),"pdf"==r)if($.grep(e.files,function(t){return t.Name.toLowerCase()==e.saveFileName.toLowerCase()}).length){y.then(function(n){n.messageBox.show({text:"The file "+e.saveFileName+" already exists.Do you want to replace it?",icon:"question",callbacks:[{text:"yes",callback:function(){t()}},{text:"no",callback:function(){}}]})})}else t();else y.then(function(e){e.messageBox.show({text:"Unsupported file format. Only PDF file formats are allowed.",icon:"error"})})}else y.then(function(e){e.messageBox.show({text:"Empty file name",icon:"error"})})}},C={Id:null,Name:"My Storage",ItemType:"folder"};e.isSaveDialog=!1,e.resetState=function(){e.isConnected=!1,e.isProcessing=!1,e.progress=0,e.files=[],e.selected=window.deviceDetect.isPhone()?-1:0,e.getAuthUrlAttemps=0,e.currentItem=C,e.breadcrumbs=[],e.quotaTotal=0,e.quotaUsed=0,i.cancel(m),i.cancel(v),e.isIETimerOn=!1;var t=s.currentDocument();e.saveFileName=t?t.name:"Soda PDF Document.pdf"},e.init=function(t,n){e.clientType=t,e.trackId=n,e.resetState(),e.autoSignIn()};e.autoSignIn=function(){e.isProcessing=!0,c.autoSignIn(e.clientType,function(){e.resetState(),e.isConnected=!0,e.refresh();var t=g.getInstance();t&&t.onOnlineServiceAction(r.default.InAppTrackingOnlineServiceAction.kIAT_OS_LogIn,e.trackId,"",!0)},function(){e.isConnected=!1,e.authUrl?i(function(){if(e.isProcessing=!1,a.isAutoSignIn)a.isAutoSignIn=!1,e.signIn();else if(a.url&&e.isCustomResource){var t=a.url;a.url="",e.continue(t)}},1e3):e.getAuthUrlAttemps<5?(e.getAuthUrlAttemps++,v=i(function(){e.autoSignIn()},1e3)):(e.getAuthUrlAttemps=0,i(function(){y.then(function(e){e.messageBox.show({text:"An authentication error has occurred",icon:"error"})}),e.isProcessing=!1},1e3))},function(t){e.authUrl=t})},e.signIn=function(){e.authUrl?(c.signIn(e.authUrl),e.isConnected||e.isIETimerOn||(e.isIETimerOn=!0,function t(){m=i(function(){c.autoSignIn(e.clientType,function(){e.resetState(),e.isConnected=!0,e.refresh(),e.isIETimerOn=!1},function(){e.isConnected=!1,t()})},1e3)}())):e.autoSignIn()},e.continue=function(t){t&&(window.isUrlValid(t)?(!function(t){if(!e.authUrl)return;var n=function(e,t){t||(t=window.location.href);e=e.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null}("state",e.authUrl);if(!n)return;var r=n.indexOf("||");~r&&(n=n.slice(0,r));e.authUrl=function(e,t,n){var r=new RegExp("([?&])"+t+"=.*?(&|$)","i"),o=-1!==e.indexOf("?")?"&":"?";return e.match(r)?e.replace(r,"$1"+t+"="+n+"$2"):e+o+t+"="+n}(e.authUrl,"state",n+"||"+encodeURIComponent(t))}(t),e.signIn()):y.then(function(e){e.messageBox.show({text:"The Url is incorrect. Please Enter a valid Url.",icon:"information",callbacks:[{text:"ok",callback:function(){}}]})}))},e.refresh=function(){e.isProcessing=!0,x(e.currentItem).then(S).then(P).finally(function(){e.isProcessing=!1})},e.signOut=function(){e.isProcessing=!0,c.signOut(e.clientType).then(function(){var t=g.getInstance();t&&t.onOnlineServiceAction(r.default.InAppTrackingOnlineServiceAction.kIAT_OS_LogOut,e.trackId,"",!0),e.resetState()},function(t){var n=g.getInstance();n&&n.onOnlineServiceAction(r.default.InAppTrackingOnlineServiceAction.kIAT_OS_LogOut,e.trackId,"",!1)}).finally(function(){e.isProcessing=!1})},e.select=function(t){if(e.selected=t,e.isSaveDialog){var n=e.files[e.selected];n&&"folder"!=n.ItemType&&(e.saveFileName=n.Name)}},e.getFileIconName=function(e){if(isUndefinedOrNull(e))return"";if("file"!==e.ItemType)return o+"#icon-folder";var t=b(e.Name).toLowerCase();t||(t=e.MimeType);if(t&&["bmp","cbr","cbz","doc","docx","epub","fdf","gif","htm","html","jpeg","jpg","pdf","png","ppt","pptx","rtf","tif","tiff","txt","wwf","xls","xlsx"].indexOf(t)>=0)return o+"#icon-format-"+t;switch(t){case"application/vnd.google-apps.script":return o+"#icon-g-format-apps-script";case"application/vnd.google-apps.document":return o+"#icon-g-format-docs";case"application/vnd.google-apps.drawing":return o+"#icon-g-format-drowings";case"application/vnd.google-apps.form":return o+"#icon-g-format-forms";case"application/vnd.google-apps.fusiontable":return o+"#icon-g-format-fusion-tables";case"application/vnd.google-apps.map":return o+"#icon-g-format-maps";case"application/vnd.google-apps.photo":return o+"#icon-g-format-photo";case"application/vnd.google-apps.spreadsheet":return o+"#icon-g-format-sheets";case"application/vnd.google-apps.sites":return o+"#icon-g-format-sites";case"application/vnd.google-apps.presentation":return o+"#icon-g-format-slides";default:return o+"#icon-blank"}},e.goUp=function(){if(e.breadcrumbs.length>0){var t=e.breadcrumbs[e.breadcrumbs.length-1];B(t)}},e.breadcrumbsGo=function(e){B(e)};var B=function(t){"folder"==t.ItemType&&(e.isProcessing=!0,x(t).finally(function(){e.isProcessing=!1}))};e.cmdOpen=function(){if(e.selected>=0&&e.selected<e.files.length&&e.files.length>0){var t=e.files[e.selected];"folder"==t.ItemType&&B(t),T(t)}},e.cmdSave=function(){e.saveFileName&&w()},e.dblclickcmd=function(t){"folder"==t.ItemType?B(t):"file"==t.ItemType&&(e.isSaveDialog?w():T(t))},e.cancelCurrent=function(){e.cancelableRequest&&e.cancelableRequest.cancel()},e.$on("$destroy",function(){e.cancelCurrent(),i.cancel(m),i.cancel(v)})}t.module=a,a.controller(i,l),l.$inject=["$scope","$rootScope","$q","$timeout","$stateParams","$translate","ui-helper-factory","storage-cloud-factory","pdf-manager-factory","ui-sitemenu-factory","ui-sitemenu-create-from-file-factory","pdf-feature-factory","in-app-tracking-service","storage-document-uploader-service"],mainApp.controller(i,getConstructor("ui-sitemenu-cloud-module",i,"controller"))},wEXG:function(e,t,n){"use strict";var r=l(n("b8L+")),o=l(n("C3UN")),i=l(n("IZAc")),a=l(n("eWOG"));function l(e){return e&&e.__esModule?e:{default:e}}n("h2bM"),n("WtRA"),n("PaWa");var u="bl-widget-combobox-view-factory-module",c="bl-widget-combobox-view-factory";function s(e,t,n,l,u,c,s){var d={},f=function(d,f){var p,g=d,h=f,m=!1,v=!1,y=i.default.createInstance("#FF000000"),b=[2],x=this;this.getPageIndex=function(){return h.getPageIndex()},this.getRect=function(){return h.getRect()},this.hitTest=function(e,t){return this.getPageIndex()==e&&(!!(v&&p&&p.hitTest(e,t))||this.getRect().containsPoint(t))},this.mouseDown=function(e,t){if(v&&p&&p.mouseDown(e,t))return!0;var n=C(e);return!!h.getRect().containsPoint(n)&&(h.isEditable()&&!k(n)?(m=!0,t&o.default.BLInputEventFlags.kBLInputEventFlagShiftPressed?h.setCaretAtPoint(n):h.setSelAtPoint(n)):v=!v,g.invalidate(),!0)},this.mouseUp=function(e,t){return!!(v&&p&&p.mouseUp(e,t))||(m&&(m=!1),!1)},this.mouseMove=function(e,t){var n=C(e);return m?(h.setCaretAtPoint(n),g.setCursor(o.default.BLCursorType.kBLCursorIBeam),g.invalidate(),!0):!!(v&&p&&p.mouseMove(e,t))||!!h.getRect().containsPoint(n)&&(h.isEditable()&&!k(n)?g.setCursor(o.default.BLCursorType.kBLCursorIBeam):g.setCursor(o.default.BLCursorType.kBLCursorLinkHand),g.invalidate(),!0)},this.mouseWheel=function(e,t){return!!(v&&p&&p.mouseWheel(e,t))},this.keyDown=function(e,t){var n=B(t,o.default.BLInputEventFlags.kBLInputEventFlagShiftPressed),r=B(t,o.default.BLInputEventFlags.kBLInputEventFlagCtrlPressed);switch(e){case o.default.kBLKey.kBLKey_LEFT:h.goLeft(n);break;case o.default.kBLKey.kBLKey_RIGHT:h.goRight(n);break;case o.default.kBLKey.kBLKey_UP:h.selectPrev(),S();break;case o.default.kBLKey.kBLKey_DOWN:h.selectNext(),S();break;case o.default.kBLKey.kBLKey_HOME:h.goToFirst(n);break;case o.default.kBLKey.kBLKey_END:h.goToLast(n);break;case o.default.kBLKey.kBLKey_BACK:h.isEditable()&&h.onModify()&&h.delete(!0);break;case o.default.kBLKey.kBLKey_DELETE:h.isEditable()&&h.onModify()&&h.delete(!1);break;case o.default.kBLKey.kBLKey_A:r&&h.selectAll()}return g.invalidate(),!0},this.keyUp=function(e,t){return!0},this.charReceived=function(e){if(h.isEditable()){if(e<" ")return!1;var t;t+=e,h.onModify(t)&&(h.keyStroke(null,null,t),g.invalidate())}return!0},this.cut=function(){h.isEditable()&&(this.copy(),this.delete())},this.copy=function(){if(h.hasSelection()&&h.isEditable())h.getSelectedText(),document.execCommand("copy")},this.paste=function(){},this.delete=function(){h.isEditable()&&h.onModify()&&(h.delete(!1),g.invalidate())},this.isEditable=function(){return h.isEditable()},this.hasSelection=function(){return h.hasSelection()},this.draw=function(t,n){if(t==h.getPageIndex()){var o=e.getViewToPageMatrix(g,t),i=h.getRect();n.pushState(),n.concatCTM(o),T(n),window.deviceDetect.isPhone()&&function(e,t){t&&s.drawFrame(e,r.default.quadFromRect(t),null,y,b)}(n,i),v&&p&&p.drawAsComboDropdownList(t,n),n.popState()}},this.canUndo=function(){return h.canUndo()},this.canRedo=function(){return h.canRedo()},this.undo=function(){h.undo(),g.invalidate()},this.redo=function(){h.redo(),g.invalidate()},this.finalize=function(e){void 0===e&&(e=!0),h.clearUndoRedoStack(),e&&h.commitChanges()||h.cancelChanges()};var S=function(){p&&p.setOnSelectionChangedCallBack(null);var t=h.getWidget(),n=h.getPageIndex(),o=c.createInstance(t),i=1+(t.options&&t.options.items?t.options.items:[]).length*a.default.listBox.getFontSize()*a.default.listBox.getLineHeightFactor();i=function(e,t,n){return e>t?e<n?e:n:t}(i,5,100);var s=e.getFieldRect(t),d=r.default.rect(s.min_x(),s.max_y(),s.min_x()+s.getWidth(),s.max_y()+i);e.setFieldRect(o,d);var f=g.getDocument(),m=u.createInstance(f,n,o);(p=l.createInstance(g,m)).setOnSelectionChangedCallBack(P)},P=function(e){h.setSelection(e),h.isEditable()&&h.selectAll(),v=!1,g.invalidate()},k=function(e){var t=h.getWidget();return n.createInstance().hitTest(t,e)},T=function(e){if(h.isEditable()){var t=w();e.fillGeometry(t,backgroudBrush)}},w=function(){var e=h.getSelectorPosition(),n=h.getCaretPosition();e>n&&(n=[e,e=n][0]);for(var o,i=t.createGeometry(),a=0,l=e;l<n;l++){var u=h.getCharQuad(l);if(u.isRect()){var c=u.getBound();0==a?o=c:r.default.isRectsOnSameLine(o,c,1)?o.right=c.right:(o=c,a=1),++a}else o=r.default.rect(),a=0,i.beginFigure(u.top_left()),i.lineTo(u.top_right()),i.lineTo(u.bottom_right()),i.lineTo(u.bottom_left()),i.endFigureClose()}return i},C=function(t){var n=g.mapPointToPage(h.getPageIndex(),t);return n=e.getPageToViewMatrix(g,h.getPageIndex()).mapPoint(n)},B=function(e,t){return 0!=(e&t)};h.setOnSelChangedCallBack(function(t,n){g.invalidate();var i=h.getCharQuad(n),a=r.default.rect(i.top_left().x,i.top_left().y,i.bottom_left().x,i.bottom_left().y),l=h.getBorderStyle(),u=h.getRect();u.inflate(-l.width,-l.width),l.style!=o.default.PDAnnotBorderStyle.kPDAnnotBorderStyleBeveled&&l.style!=o.default.PDAnnotBorderStyle.kPDAnnotBorderStyleInset||u.inflate(-1,-1),a=r.default.intersectRects(a,u,!0),a=e.getViewToPageMatrix(g,h.getPageIndex()).mapRect(a);var c={};c.pageIndex=x.getPageIndex(),c.top=a.left_top(),c.bottom=a.right_bottom(),g.onCaretPositionChanged(c),o.default.BLSelectionOperations.kBLSelectionAllowPaste,t!=n?(o.default.BLSelectionOperations.kBLSelectionAllowCopy,o.default.BLSelectionOperations.kBLSelectionAllowCut):(~o.default.BLSelectionOperations.kBLSelectionAllowCopy,~o.default.BLSelectionOperations.kBLSelectionAllowCut)}),S()};return d.createInstance=function(e,t){return new f(e,t)},d}angular.module(u,[]).factory(c,s),s.$inject=["bl-widget-renderer-service","geometry-factory","bl-widget-combobox-button-factory","bl-widget-listbox-view-factory","bl-widget-listbox-obj-factory","bl-widget-object-factory","transformer-painter-service"],window.mainApp.factory(c,getConstructor(u,c,"factory"))},wSJj:function(e,t,n){"use strict";var r=l(n("b8L+")),o=l(n("C3UN")),i=(l(n("VmtT")),l(n("IZAc"))),a=l(n("eWOG"));function l(e){return e&&e.__esModule?e:{default:e}}n("VVVL");var u="bl-widget-renderer-service-module",c="bl-widget-renderer-service";function s(e,t){var n=1,l="#ffabadd3",u=o.default.pdfAcroformType;return{setFieldRect:function(e,t){if(!e||!t)return;e.setPosition(t.min_x(),t.min_y()),e.setSize(t.getWidth(),t.getHeight())},getFieldRect:s,getPageToViewMatrix:f,getViewToPageMatrix:function(e,t){return f(e,t).invert()},getPageToDevSpaceMatrix:d,drawField:function(e,d,f,h){if(!e||!f)return;var m=s(f);if(m.isAreaEmpty())return;e.pushState();var v=f.fieldType;v===u.choice?f.iCombo&&function(e,u,c,s){var d=u.toString(16),f=i.default.createInstance(d),p=i.default.createInstance(a.default.field.getBackground());e.fillRect(c,p);var h=e.createFontFace(a.default.field.getFontName(),o.default.GFontStyle.kGFontStyleRegular,a.default.field.getFontSize());if(s&&s.length>0){var m=a.default.field.getMargin(),v=g(h,s),y=c.left+m,b=c.top+m;e.pushState(),e.clipRect(c),e.translateCTM(y,b+v.height*a.default.coordinate.getViewRatio()),e.fillText(h,s,f),e.popState()}if(c.getHeight()>2&&c.getWidth()>2){var x=a.default.comboBox.getComboBoxButtonWidth(),S=c.getWidth()/1.5;x>S&&(x=S);var P=c.copy();P.left=P.right-x;var k=268435455&u,T=k.toString(16),w=i.default.createInstance(T);e.fillRect(P,w);var C=P.getCenter(),B=6,L=Math.min(P.getHeight(),x)/2;B>L&&(B=L);var F=.5*B,A=r.default.point(C.x+-F,C.y+-F/2),_=r.default.point(C.x+0,C.y+F/2),M=r.default.point(C.x+F,C.y+-F/2),E=t.createGeometry();E.beginFigure(A),E.lineTo(_),E.lineTo(M),E.endFigure();var R={};R.lineCap=o.default.GLineCap.kGLineCapRound,R.lineJoin=o.default.GLineJoin.kGLineJoinRound,R.miterLimit=10,e.strokeGeometry(E,f,1,R)}f=i.default.createInstance(l),e.strokeRect(c,f,n,null)}(e,"",m,f.getValue()):v===u.text&&(f.options&&f.options.isMultiline?function(e,t,r,u,c){var s=t.toString(16),d=i.default.createInstance(s),f=i.default.createInstance(a.default.field.getBackground());e.fillRect(r,f);var h=e.createFontFace(a.default.field.getFontName(),o.default.GFontStyle.kGFontStyleRegular,a.default.textArea.getFontSize());if(u&&u.length>0){for(var m=u.replace("\r\n","\n"),v=m.split("\n"),y=a.default.textArea.getMargin(),b=r.getWidth()-2*y,x=[],S=0;S<v.length;S++){for(var P=v[S],k=p(P,h,b),T=0;T<k.length;T++){var w=k[T];x.push(w)}k&&0!==k.length||x.push("")}c&&(x=x.slice(c.getTopLine()));for(var C=r.left+y,B=r.top+y,S=0;S<x.length;S++){var P=x[S];if(P){var L=g(h,P);e.pushState(),e.clipRect(r),e.translateCTM(C,B+L.height*a.default.coordinate.getViewRatio()),e.fillText(h,P,d),e.popState()}B+=a.default.textArea.getLineHeightFactor()*a.default.textArea.getFontSize()}}d=i.default.createInstance(l),e.strokeRect(r,d,n,null)}(e,"",m,f.getValue(),c(f,h)):function(e,t,r,u,c){var s=t.toString(16),d=i.default.createInstance(s),f=i.default.createInstance(a.default.field.getBackground());e.fillRect(r,f);var p=e.createFontFace(a.default.field.getFontName(),o.default.GFontStyle.kGFontStyleRegular,a.default.textField.getFontSize());if(u&&u.length>0){var h=u,m=a.default.textField.getMargin(),v=g(p,h),y=r.getCenter(),b=r.left+m,x=Math.max(y.y-v.height/2,r.top+m);e.pushState(),e.clipRect(r),e.translateCTM(b,x+v.height*a.default.coordinate.getViewRatio()),e.fillText(p,h,d),e.popState()}d=i.default.createInstance(l),e.strokeRect(r,d,n,null)}(e,"",m,f.getValue(),c(f,h)));e.popState()}};function c(e,t){if(t&&"TextField"===t.getType()){var n=t.getSelectionData(),r=n.getModel?n.getModel():null;if(r){var o=r.getWidget?r.getWidget():null;if(o&&o===e)return r}}return null}function s(e){return r.default.rect(e.getX(),e.getY(),e.getX()+e.getWidth(),e.getY()+e.getHeight())}function d(e,t){var n=(e.rotate+t)%360,o=e.getPageBox(),i=e.getUserUnitSize();switch(n){case 90:return r.default.matrix(0,i,i,0,i*-o.bottom,i*-o.left);case 180:return r.default.matrix(-i,0,0,i,i*o.right,i*-o.bottom);case 270:return r.default.matrix(0,-i,-i,0,i*o.top,i*o.right);default:return r.default.matrix(i,0,0,-i,i*-o.left,i*o.top)}}function f(e,t){return d(e.getDocument().getPage(t),0)}function p(e,t,n){var r=[];if(!e)return r;for(var o=0,i="",a=0;a<e.length;a++){var l=e[a],u=g(t,l);i?o+u.width<n?o=g(t,i+=l).width:(r.push(i),i=l,o=u.width):(i=l,o=u.width)}return i&&r.push(i),r}function g(e,t){var n=r.default.size();return t&&(n=h(e,t)),n}function h(e,t){var n=(h.calculateTextBoundCanvas||(h.calculateTextBoundCanvas=document.createElement("canvas"))).getContext("2d");n.font=e;var o=n.measureText(t);return r.default.size(o.width,parseInt(e.match(/\d+/)[0]))}}angular.module(u,["geometry-factory-module"]).service(c,s),s.$inject=["$translate","geometry-factory"],window.mainApp.service(c,getConstructor(u,c,"service"))},xfDw:function(e,t,n){"use strict";var r=a(n("C3UN")),o=a(n("b8L+")),i=a(n("VmtT"));function a(e){return e&&e.__esModule?e:{default:e}}n("5QSM"),n("Ij0n");var l="bl-ocr-idrs-selection-factory";angular.module("bl-ocr-idrs-selection-module",["bl-ocr-idrs-zone-factory-module","transformer-painter-module"]).factory(l,["$q","$rootScope","bl-ocr-idrs-zone-factory","transformer-painter-service",function(e,t,n,a){return{createInstance:function(e,t){return new function(e,t){var l=e,u=t,c=u.getZone(),s=n.getZoneColor(c.getType());this.draw=function(e){var t=s,n=s,c=null;if(u.isPerformingOperation()){var d=u.getBounds();d=l.getLayout().mapQuadToView(d),a.drawFrame(e,d,null,t,[10]),c=u.getOperationBounds(),c=l.getLayout().mapQuadToView(c);var f=o.default.quadFromRect(c.getBound());a.drawFrame(e,f,null,n)}else c=u.getBounds(),c=l.getLayout().mapQuadToView(c);a.drawFrame(e,c,null,t);var p=[c.top_left(),c.top_right(),c.bottom_right(),c.bottom_left(),c.top_center(),c.center_right(),c.bottom_center(),c.center_left()],g=c.getCenter(),h=i.default.LookAndFeel.TransformerAnchorRadius,m=i.default.LookAndFeel.TransformerOriginRadius;if(u.isPerformingOperation())switch(u.getOperationType()){case r.default.TransformType.TRANSFORM_MOVE:break;case r.default.TransformType.TRANSFORM_ROTATE:case r.default.TransformType.TRANSFORM_SCALE:a.drawOrigin(e,"#FFFFFF",t,g,h,m)}else for(var v=0;v<p.length;++v)a.drawMarker(e,"#FFFFFF",t,p[v],h)},this.drawHighlight=function(e){var t=i.default.LookAndFeel.ImageTransformerHighlightColor,n=u.getBounds();n=l.getLayout().mapQuadToView(n),a.drawFrame(e,n,null,t,null)},this.getQuad=function(){return u.getBounds()},this.hitTest=function(e){return u.hitTest(e)}}(e,t)}}}]),window.mainApp.factory(l,getConstructor("bl-ocr-idrs-selection-module",l,"factory"))},zVSy:function(e,t,n){"use strict";var r=function(e){return e&&e.__esModule?e:{default:e}}(n("O3jL"));function o(e,t,n){var o=new function(){function e(e){return n.reject(e)}function o(e,t){return e}function i(e){return isUndefinedOrNull(e)&&(e={}),e}function a(n,r,i,a){return t({method:n,url:r,headers:i,data:a}).then(o,e)}this.getPackage=function(e,t){if(t){t=r.default.get()+t;var n=i();return function(e,t,n){return a("POST",e,t,n)}(t,n,e)}},this.uploadContent=function(e,t,n,o){if(t){t=t.replace(/{id}/g,e),t=r.default.get()+t;var l=i();return n&&(l["Accept-Language"]=n),o&&(l["Cache-Control"]="no-cache"),function(e,t){return a("GET",e,t)}(t,l)}}},i={getPackage:function(e,t){var r=n.defer();return o.getPackage(e,t).then(function(e){var t=null;e&&e.data&&(t=e.data),r.resolve(t)},function(e){r.reject(e)}),r.promise},uploadContent:function(e,t,r,i){var a=n.defer();return o.uploadContent(e,t,r,i).then(function(e){var t=null;e&&e.data&&(t=e.data),a.resolve(t)},function(e){a.reject(e)}),a.promise}};return i}angular.module("message-center-client-module",[]).factory("message-center-client",o),o.$inject=["$rootScope","$http","$q"],mainApp.factory("message-center-client",getConstructor("message-center-client-module","message-center-client","factory"))}});